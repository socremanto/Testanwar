(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[744],{67:e=>{"use strict";e.exports=require("node:async_hooks")},195:e=>{"use strict";e.exports=require("node:buffer")},351:(e,t,r)=>{"use strict";let n,a,i,s,o;r.r(t),r.d(t,{ComponentMod:()=>sr,default:()=>sn});var l,u,c,d,h,p,f,m,g,y,v,_,b,w,x,S,E,T,k,C,A,R,O,P,I,N,j={};r.r(j);var $={};r.r($),r.d($,{POST:()=>i3,runtime:()=>i2});var M={};async function D(){let e="_ENTRIES"in globalThis&&_ENTRIES.middleware_instrumentation&&(await _ENTRIES.middleware_instrumentation).register;if(e)try{await e()}catch(e){throw e.message=`An error occurred while loading instrumentation hook: ${e.message}`,e}}r.r(M),r.d(M,{originalPathname:()=>se,patchFetch:()=>st,requestAsyncStorage:()=>i7,routeModule:()=>i6,serverHooks:()=>i8,staticGenerationAsyncStorage:()=>i5});let L=null;function U(){return L||(L=D()),L}function F(e){return`The edge runtime does not support Node.js '${e}' module.
Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`}process!==r.g.process&&(process.env=r.g.process.env,r.g.process=process),Object.defineProperty(globalThis,"__import_unsupported",{value:function(e){let t=new Proxy(function(){},{get(t,r){if("then"===r)return{};throw Error(F(e))},construct(){throw Error(F(e))},apply(r,n,a){if("function"==typeof a[0])return a[0](t);throw Error(F(e))}});return new Proxy({},{get:()=>t})},enumerable:!1,configurable:!1}),U();class Z extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class q extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class B extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}var H=r(573);let z=Symbol("response"),V=Symbol("passThrough"),W=Symbol("waitUntil");class J{constructor(e){this[W]=[],this[V]=!1}respondWith(e){this[z]||(this[z]=Promise.resolve(e))}passThroughOnException(){this[V]=!0}waitUntil(e){this[W].push(e)}}class G extends J{constructor(e){super(e.request),this.sourcePage=e.page}get request(){throw new Z({page:this.sourcePage})}respondWith(){throw new Z({page:this.sourcePage})}}function K(e){return e.replace(/\/$/,"")||"/"}function Y(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}function X(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:a}=Y(e);return""+t+r+n+a}function Q(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:a}=Y(e);return""+r+t+n+a}function ee(e,t){if("string"!=typeof e)return!1;let{pathname:r}=Y(e);return r===t||r.startsWith(t+"/")}function et(e,t){let r;let n=e.split("/");return(t||[]).some(t=>!!n[1]&&n[1].toLowerCase()===t.toLowerCase()&&(r=t,n.splice(1,1),e=n.join("/")||"/",!0)),{pathname:e,detectedLocale:r}}let er=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function en(e,t){return new URL(String(e).replace(er,"localhost"),t&&String(t).replace(er,"localhost"))}let ea=Symbol("NextURLInternal");class ei{constructor(e,t,r){let n,a;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,a=r||{}):a=r||t||{},this[ea]={url:en(e,n??a.base),options:a,basePath:""},this.analyze()}analyze(){var e,t,r,n,a;let i=function(e,t){var r,n;let{basePath:a,i18n:i,trailingSlash:s}=null!=(r=t.nextConfig)?r:{},o={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):s};a&&ee(o.pathname,a)&&(o.pathname=function(e,t){if(!ee(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:"/"+r}(o.pathname,a),o.basePath=a);let l=o.pathname;if(o.pathname.startsWith("/_next/data/")&&o.pathname.endsWith(".json")){let e=o.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),r=e[0];o.buildId=r,l="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(o.pathname=l)}if(i){let e=t.i18nProvider?t.i18nProvider.analyze(o.pathname):et(o.pathname,i.locales);o.locale=e.detectedLocale,o.pathname=null!=(n=e.pathname)?n:o.pathname,!e.detectedLocale&&o.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(l):et(l,i.locales)).detectedLocale&&(o.locale=e.detectedLocale)}return o}(this[ea].url.pathname,{nextConfig:this[ea].options.nextConfig,parseData:!0,i18nProvider:this[ea].options.i18nProvider}),s=function(e,t){let r;if((null==t?void 0:t.host)&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}(this[ea].url,this[ea].options.headers);this[ea].domainLocale=this[ea].options.i18nProvider?this[ea].options.i18nProvider.detectDomainLocale(s):function(e,t,r){if(e)for(let i of(r&&(r=r.toLowerCase()),e)){var n,a;if(t===(null==(n=i.domain)?void 0:n.split(":",1)[0].toLowerCase())||r===i.defaultLocale.toLowerCase()||(null==(a=i.locales)?void 0:a.some(e=>e.toLowerCase()===r)))return i}}(null==(t=this[ea].options.nextConfig)?void 0:null==(e=t.i18n)?void 0:e.domains,s);let o=(null==(r=this[ea].domainLocale)?void 0:r.defaultLocale)||(null==(a=this[ea].options.nextConfig)?void 0:null==(n=a.i18n)?void 0:n.defaultLocale);this[ea].url.pathname=i.pathname,this[ea].defaultLocale=o,this[ea].basePath=i.basePath??"",this[ea].buildId=i.buildId,this[ea].locale=i.locale??o,this[ea].trailingSlash=i.trailingSlash}formatPathname(){var e;let t;return t=function(e,t,r,n){if(!t||t===r)return e;let a=e.toLowerCase();return!n&&(ee(a,"/api")||ee(a,"/"+t.toLowerCase()))?e:X(e,"/"+t)}((e={basePath:this[ea].basePath,buildId:this[ea].buildId,defaultLocale:this[ea].options.forceLocale?void 0:this[ea].defaultLocale,locale:this[ea].locale,pathname:this[ea].url.pathname,trailingSlash:this[ea].trailingSlash}).pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix),(e.buildId||!e.trailingSlash)&&(t=K(t)),e.buildId&&(t=Q(X(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=X(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:Q(t,"/"):K(t)}formatSearch(){return this[ea].url.search}get buildId(){return this[ea].buildId}set buildId(e){this[ea].buildId=e}get locale(){return this[ea].locale??""}set locale(e){var t,r;if(!this[ea].locale||!(null==(r=this[ea].options.nextConfig)?void 0:null==(t=r.i18n)?void 0:t.locales.includes(e)))throw TypeError(`The NextURL configuration includes no locale "${e}"`);this[ea].locale=e}get defaultLocale(){return this[ea].defaultLocale}get domainLocale(){return this[ea].domainLocale}get searchParams(){return this[ea].url.searchParams}get host(){return this[ea].url.host}set host(e){this[ea].url.host=e}get hostname(){return this[ea].url.hostname}set hostname(e){this[ea].url.hostname=e}get port(){return this[ea].url.port}set port(e){this[ea].url.port=e}get protocol(){return this[ea].url.protocol}set protocol(e){this[ea].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[ea].url=en(e),this.analyze()}get origin(){return this[ea].url.origin}get pathname(){return this[ea].url.pathname}set pathname(e){this[ea].url.pathname=e}get hash(){return this[ea].url.hash}set hash(e){this[ea].url.hash=e}get search(){return this[ea].url.search}set search(e){this[ea].url.search=e}get password(){return this[ea].url.password}set password(e){this[ea].url.password=e}get username(){return this[ea].url.username}set username(e){this[ea].url.username=e}get basePath(){return this[ea].basePath}set basePath(e){this[ea].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new ei(String(this),this[ea].options)}}var es=r(101);let eo=Symbol("internal request");class el extends Request{constructor(e,t={}){let r="string"!=typeof e&&"url"in e?e.url:String(e);(0,H.r4)(r),e instanceof Request?super(e,t):super(r,t);let n=new ei(r,{headers:(0,H.lb)(this.headers),nextConfig:t.nextConfig});this[eo]={cookies:new es.qC(this.headers),geo:t.geo||{},ip:t.ip,nextUrl:n,url:n.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,geo:this.geo,ip:this.ip,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[eo].cookies}get geo(){return this[eo].geo}get ip(){return this[eo].ip}get nextUrl(){return this[eo].nextUrl}get page(){throw new q}get ua(){throw new B}get url(){return this[eo].url}}var eu=r(42);let ec=Symbol("internal response"),ed=new Set([301,302,303,307,308]);function eh(e,t){var r;if(null==e?void 0:null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let r=[];for(let[n,a]of e.request.headers)t.set("x-middleware-request-"+n,a),r.push(n);t.set("x-middleware-override-headers",r.join(","))}}class ep extends Response{constructor(e,t={}){super(e,t);let r=this.headers,n=new Proxy(new es.nV(r),{get(e,n,a){switch(n){case"delete":case"set":return(...a)=>{let i=Reflect.apply(e[n],e,a),s=new Headers(r);return i instanceof es.nV&&r.set("x-middleware-set-cookie",i.getAll().map(e=>(0,es.Q7)(e)).join(",")),eh(t,s),i};default:return eu.g.get(e,n,a)}}});this[ec]={cookies:n,url:t.url?new ei(t.url,{headers:(0,H.lb)(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[ec].cookies}static json(e,t){let r=Response.json(e,t);return new ep(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!ed.has(r))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let n="object"==typeof t?t:{},a=new Headers(null==n?void 0:n.headers);return a.set("Location",(0,H.r4)(e)),new ep(null,{...n,headers:a,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,H.r4)(e)),eh(t,r),new ep(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),eh(e,t),new ep(null,{...e,headers:t})}}function ef(e,t){let r="string"==typeof t?new URL(t):t,n=new URL(e,t),a=r.protocol+"//"+r.host;return n.protocol+"//"+n.host===a?n.toString().replace(a,""):n.toString()}var em=r(39);let eg=["__nextFallback","__nextLocale","__nextInferredLocaleFromDefault","__nextDefaultLocale","__nextIsNotFound",em.H4],ey=["__nextDataReq"];function ev(e){return e.startsWith("/")?e:"/"+e}function e_(e){return e.replace(/\.rsc($|\?)/,"$1")}var eb=r(927),ew=r(988),ex=r(983),eS=r(991),eE=r(816);function eT(){return{previewModeId:process.env.__NEXT_PREVIEW_MODE_ID,previewModeSigningKey:process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY||"",previewModeEncryptionKey:process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY||""}}class ek extends el{constructor(e){super(e.input,e.init),this.sourcePage=e.page}get request(){throw new Z({page:this.sourcePage})}respondWith(){throw new Z({page:this.sourcePage})}waitUntil(){throw new Z({page:this.sourcePage})}}let eC={keys:e=>Array.from(e.keys()),get:(e,t)=>e.get(t)??void 0},eA=(e,t)=>(0,eS.Yz)().withPropagatedContext(e.headers,t,eC),eR=!1;async function eO(e){let t,n;!function(){if(!eR&&(eR=!0,"true"===process.env.NEXT_PRIVATE_TEST_PROXY)){let{interceptTestApis:e,wrapRequestHandler:t}=r(730);e(),eA=t(eA)}}(),await U();let a=void 0!==self.__BUILD_MANIFEST;e.request.url=e_(e.request.url);let i=new ei(e.request.url,{headers:e.request.headers,nextConfig:e.request.nextConfig});for(let e of[...i.searchParams.keys()]){let t=i.searchParams.getAll(e);if(e!==eb.dN&&e.startsWith(eb.dN)){let r=e.substring(eb.dN.length);for(let e of(i.searchParams.delete(r),t))i.searchParams.append(r,e);i.searchParams.delete(e)}}let s=i.buildId;i.buildId="";let o=e.request.headers["x-nextjs-data"];o&&"/index"===i.pathname&&(i.pathname="/");let l=(0,H.EK)(e.request.headers),u=new Map;if(!a)for(let e of em.vu){let t=e.toString().toLowerCase();l.get(t)&&(u.set(t,l.get(t)),l.delete(t))}let c=new ek({page:e.page,input:(function(e,t){let r="string"==typeof e,n=r?new URL(e):e;for(let e of eg)n.searchParams.delete(e);if(t)for(let e of ey)n.searchParams.delete(e);return r?n.toString():n})(i,!0).toString(),init:{body:e.request.body,geo:e.request.geo,headers:l,ip:e.request.ip,method:e.request.method,nextConfig:e.request.nextConfig,signal:e.request.signal}});o&&Object.defineProperty(c,"__isData",{enumerable:!1,value:!0}),!globalThis.__incrementalCache&&e.IncrementalCache&&(globalThis.__incrementalCache=new e.IncrementalCache({appDir:!0,fetchCache:!0,minimalMode:!0,fetchCacheKeyPrefix:"",dev:!1,requestHeaders:e.request.headers,requestProtocol:"https",getPrerenderManifest:()=>({version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:eT()})}));let d=new G({request:c,page:e.page});if((t=await eA(c,()=>"/middleware"===e.page||"/src/middleware"===e.page?(0,eS.Yz)().trace(eE.dI.execute,{spanName:`middleware ${c.method} ${c.nextUrl.pathname}`,attributes:{"http.target":c.nextUrl.pathname,"http.method":c.method}},()=>ew.B.wrap(ex.O,{req:c,renderOpts:{onUpdateCookies:e=>{n=e},previewProps:eT()}},()=>e.handler(c,d))):e.handler(c,d)))&&!(t instanceof Response))throw TypeError("Expected an instance of Response to be returned");t&&n&&t.headers.set("set-cookie",n);let h=null==t?void 0:t.headers.get("x-middleware-rewrite");if(t&&h&&!a){let r=new ei(h,{forceLocale:!0,headers:e.request.headers,nextConfig:e.request.nextConfig});r.host===c.nextUrl.host&&(r.buildId=s||r.buildId,t.headers.set("x-middleware-rewrite",String(r)));let n=ef(String(r),String(i));o&&t.headers.set("x-nextjs-rewrite",n)}let p=null==t?void 0:t.headers.get("Location");if(t&&p&&!a){let r=new ei(p,{forceLocale:!1,headers:e.request.headers,nextConfig:e.request.nextConfig});t=new Response(t.body,t),r.host===c.nextUrl.host&&(r.buildId=s||r.buildId,t.headers.set("Location",String(r))),o&&(t.headers.delete("Location"),t.headers.set("x-nextjs-redirect",ef(String(r),String(i))))}let f=t||ep.next(),m=f.headers.get("x-middleware-override-headers"),g=[];if(m){for(let[e,t]of u)f.headers.set(`x-middleware-request-${e}`,t),g.push(e);g.length>0&&f.headers.set("x-middleware-override-headers",m+","+g.join(","))}return{response:f,waitUntil:Promise.all(d[W]),fetchMetrics:c.fetchMetrics}}var eP=r(996),eI=r.n(eP);let eN=0,ej="x-vercel-cache-tags",e$="x-vercel-sc-headers",eM="x-vercel-revalidate",eD="x-vercel-cache-item-name",eL=!!process.env.NEXT_PRIVATE_DEBUG_CACHE;async function eU(e,t,r=0){let n=new AbortController,a=setTimeout(()=>{n.abort()},500);return fetch(e,{...t||{},signal:n.signal}).catch(n=>{if(3!==r)return eL&&console.log(`Fetch failed for ${e} retry ${r}`),eU(e,t,r+1);throw n}).finally(()=>{clearTimeout(a)})}class eF{hasMatchingTags(e,t){if(e.length!==t.length)return!1;let r=new Set(e),n=new Set(t);if(r.size!==n.size)return!1;for(let e of r)if(!n.has(e))return!1;return!0}static isAvailable(e){return!!(e._requestHeaders["x-vercel-sc-host"]||process.env.SUSPENSE_CACHE_URL)}constructor(e){if(this.headers={},this.headers["Content-Type"]="application/json",e$ in e._requestHeaders){let t=JSON.parse(e._requestHeaders[e$]);for(let e in t)this.headers[e]=t[e];delete e._requestHeaders[e$]}let t=e._requestHeaders["x-vercel-sc-host"]||process.env.SUSPENSE_CACHE_URL,r=e._requestHeaders["x-vercel-sc-basepath"]||process.env.SUSPENSE_CACHE_BASEPATH;if(process.env.SUSPENSE_CACHE_AUTH_TOKEN&&(this.headers.Authorization=`Bearer ${process.env.SUSPENSE_CACHE_AUTH_TOKEN}`),t){let e=process.env.SUSPENSE_CACHE_PROTO||"https";this.cacheEndpoint=`${e}://${t}${r||""}`,eL&&console.log("using cache endpoint",this.cacheEndpoint)}else eL&&console.log("no cache endpoint available");e.maxMemoryCacheSize?n||(eL&&console.log("using memory store for fetch cache"),n=new(eI())({max:e.maxMemoryCacheSize,length({value:e}){var t;if(!e)return 25;if("REDIRECT"===e.kind)return JSON.stringify(e.props).length;if("IMAGE"===e.kind)throw Error("invariant image should not be incremental-cache");return"FETCH"===e.kind?JSON.stringify(e.data||"").length:"ROUTE"===e.kind?e.body.length:e.html.length+((null==(t=JSON.stringify("PAGE"===e.kind&&e.pageData))?void 0:t.length)||0)}})):eL&&console.log("not using memory store for fetch cache")}resetRequestCache(){null==n||n.reset()}async revalidateTag(...e){let[t]=e;if(t="string"==typeof t?[t]:t,eL&&console.log("revalidateTag",t),t.length){if(Date.now()<eN){eL&&console.log("rate limited ",eN);return}for(let e=0;e<Math.ceil(t.length/64);e++){let r=t.slice(64*e,64*e+64);try{let e=await eU(`${this.cacheEndpoint}/v1/suspense-cache/revalidate?tags=${r.map(e=>encodeURIComponent(e)).join(",")}`,{method:"POST",headers:this.headers,next:{internal:!0}});if(429===e.status){let t=e.headers.get("retry-after")||"60000";eN=Date.now()+parseInt(t)}if(!e.ok)throw Error(`Request failed with status ${e.status}.`)}catch(e){console.warn("Failed to revalidate tag",r,e)}}}}async get(...e){var t;let[r,a={}]=e,{tags:i,softTags:s,kindHint:o,fetchIdx:l,fetchUrl:u}=a;if("fetch"!==o)return null;if(Date.now()<eN)return eL&&console.log("rate limited"),null;let c=null==n?void 0:n.get(r),d=(null==c?void 0:null==(t=c.value)?void 0:t.kind)==="FETCH"&&this.hasMatchingTags(i??[],c.value.tags??[]);if(this.cacheEndpoint&&(!c||!d))try{let e=Date.now(),t=await fetch(`${this.cacheEndpoint}/v1/suspense-cache/${r}`,{method:"GET",headers:{...this.headers,[eD]:u,[ej]:(null==i?void 0:i.join(","))||"",[eb.Ar]:(null==s?void 0:s.join(","))||""},next:{internal:!0,fetchType:"cache-get",fetchUrl:u,fetchIdx:l}});if(429===t.status){let e=t.headers.get("retry-after")||"60000";eN=Date.now()+parseInt(e)}if(404===t.status)return eL&&console.log(`no fetch cache entry for ${r}, duration: ${Date.now()-e}ms`),null;if(!t.ok)throw console.error(await t.text()),Error(`invalid response from cache ${t.status}`);let a=await t.json();if(!a||"FETCH"!==a.kind)throw eL&&console.log({cached:a}),Error("invalid cache value");if("FETCH"===a.kind)for(let e of(a.tags??=[],i??[]))a.tags.includes(e)||a.tags.push(e);let o=t.headers.get("x-vercel-cache-state"),d=t.headers.get("age");c={value:a,lastModified:"fresh"!==o?Date.now()-eb.BR:Date.now()-1e3*parseInt(d||"0",10)},eL&&console.log(`got fetch cache entry for ${r}, duration: ${Date.now()-e}ms, size: ${Object.keys(a).length}, cache-state: ${o} tags: ${null==i?void 0:i.join(",")} softTags: ${null==s?void 0:s.join(",")}`),c&&(null==n||n.set(r,c))}catch(e){eL&&console.error("Failed to get from fetch-cache",e)}return c||null}async set(...e){let[t,r,a]=e,{fetchCache:i,fetchIdx:s,fetchUrl:o,tags:l}=a;if(i){if(Date.now()<eN){eL&&console.log("rate limited");return}if(null==n||n.set(t,{value:r,lastModified:Date.now()}),this.cacheEndpoint)try{let e=Date.now();null!==r&&"revalidate"in r&&(this.headers[eM]=r.revalidate.toString()),!this.headers[eM]&&null!==r&&"data"in r&&(this.headers["x-vercel-cache-control"]=r.data.headers["cache-control"]);let n=JSON.stringify({...r,tags:void 0});eL&&console.log("set cache",t);let a=await fetch(`${this.cacheEndpoint}/v1/suspense-cache/${t}`,{method:"POST",headers:{...this.headers,[eD]:o||"",[ej]:(null==l?void 0:l.join(","))||""},body:n,next:{internal:!0,fetchType:"cache-set",fetchUrl:o,fetchIdx:s}});if(429===a.status){let e=a.headers.get("retry-after")||"60000";eN=Date.now()+parseInt(e)}if(!a.ok)throw eL&&console.log(await a.text()),Error(`invalid response ${a.status}`);eL&&console.log(`successfully set to fetch-cache for ${t}, duration: ${Date.now()-e}ms, size: ${n.length}`)}catch(e){eL&&console.error("Failed to update fetch cache",e)}}}}var eZ=r(863),eq=r.n(eZ);class eB{constructor(e){this.fs=e.fs,this.flushToDisk=e.flushToDisk,this.serverDistDir=e.serverDistDir,this.appDir=!!e._appDir,this.pagesDir=!!e._pagesDir,this.revalidatedTags=e.revalidatedTags,this.experimental=e.experimental,this.debug=!!process.env.NEXT_PRIVATE_DEBUG_CACHE,e.maxMemoryCacheSize&&!a?(this.debug&&console.log("using memory store for fetch cache"),a=new(eI())({max:e.maxMemoryCacheSize,length({value:e}){var t;if(!e)return 25;if("REDIRECT"===e.kind)return JSON.stringify(e.props).length;if("IMAGE"===e.kind)throw Error("invariant image should not be incremental-cache");return"FETCH"===e.kind?JSON.stringify(e.data||"").length:"ROUTE"===e.kind?e.body.length:e.html.length+((null==(t=JSON.stringify(e.pageData))?void 0:t.length)||0)}})):this.debug&&console.log("not using memory store for fetch cache"),this.serverDistDir&&this.fs&&(this.tagsManifestPath=eq().join(this.serverDistDir,"..","cache","fetch-cache","tags-manifest.json"),this.loadTagsManifest())}resetRequestCache(){}loadTagsManifest(){if(this.tagsManifestPath&&this.fs&&!i){try{i=JSON.parse(this.fs.readFileSync(this.tagsManifestPath,"utf8"))}catch(e){i={version:1,items:{}}}this.debug&&console.log("loadTagsManifest",i)}}async revalidateTag(...e){let[t]=e;if(t="string"==typeof t?[t]:t,this.debug&&console.log("revalidateTag",t),0!==t.length&&(await this.loadTagsManifest(),i&&this.tagsManifestPath)){for(let e of t){let t=i.items[e]||{};t.revalidatedAt=Date.now(),i.items[e]=t}try{await this.fs.mkdir(eq().dirname(this.tagsManifestPath)),await this.fs.writeFile(this.tagsManifestPath,JSON.stringify(i||{})),this.debug&&console.log("Updated tags manifest",i)}catch(e){console.warn("Failed to update tags manifest.",e)}}}async get(...e){var t,r,n;let[s,o={}]=e,{tags:l,softTags:u,kindHint:c}=o,d=null==a?void 0:a.get(s);if(this.debug&&console.log("get",s,l,c,!!d),(null==d?void 0:null==(t=d.value)?void 0:t.kind)==="PAGE"){let e;let t=null==(n=d.value.headers)?void 0:n[eb.Et];"string"==typeof t&&(e=t.split(",")),(null==e?void 0:e.length)&&(this.loadTagsManifest(),e.some(e=>{var t;return(null==i?void 0:null==(t=i.items[e])?void 0:t.revalidatedAt)&&(null==i?void 0:i.items[e].revalidatedAt)>=((null==d?void 0:d.lastModified)||Date.now())})&&(d=void 0))}return d&&(null==d?void 0:null==(r=d.value)?void 0:r.kind)==="FETCH"&&(this.loadTagsManifest(),[...l||[],...u||[]].some(e=>{var t;return!!this.revalidatedTags.includes(e)||(null==i?void 0:null==(t=i.items[e])?void 0:t.revalidatedAt)&&(null==i?void 0:i.items[e].revalidatedAt)>=((null==d?void 0:d.lastModified)||Date.now())})&&(d=void 0)),d??null}async set(...e){let[t,r,n]=e;if(null==a||a.set(t,{value:r,lastModified:Date.now()}),this.debug&&console.log("set",t),this.flushToDisk){if((null==r?void 0:r.kind)==="ROUTE"){let e=this.getFilePath(`${t}.body`,"app");await this.fs.mkdir(eq().dirname(e)),await this.fs.writeFile(e,r.body);let n={headers:r.headers,status:r.status,postponed:void 0};await this.fs.writeFile(e.replace(/\.body$/,eb.EX),JSON.stringify(n,null,2));return}if((null==r?void 0:r.kind)==="PAGE"){let e="string"==typeof r.pageData,n=this.getFilePath(`${t}.html`,e?"app":"pages");if(await this.fs.mkdir(eq().dirname(n)),await this.fs.writeFile(n,r.html),await this.fs.writeFile(this.getFilePath(`${t}${e?this.experimental.ppr?eb.Sx:eb.hd:eb.JT}`,e?"app":"pages"),e?r.pageData:JSON.stringify(r.pageData)),r.headers||r.status){let e={headers:r.headers,status:r.status,postponed:r.postponed};await this.fs.writeFile(n.replace(/\.html$/,eb.EX),JSON.stringify(e))}}else if((null==r?void 0:r.kind)==="FETCH"){let e=this.getFilePath(t,"fetch");await this.fs.mkdir(eq().dirname(e)),await this.fs.writeFile(e,JSON.stringify({...r,tags:n.tags}))}}}detectFileKind(e){if(!this.appDir&&!this.pagesDir)throw Error("Invariant: Can't determine file path kind, no page directory enabled");if(!this.appDir&&this.pagesDir)return"pages";if(this.appDir&&!this.pagesDir)return"app";let t=this.getFilePath(e,"pages");if(this.fs.existsSync(t))return"pages";if(t=this.getFilePath(e,"app"),this.fs.existsSync(t))return"app";throw Error(`Invariant: Unable to determine file path kind for ${e}`)}getFilePath(e,t){switch(t){case"fetch":return eq().join(this.serverDistDir,"..","cache","fetch-cache",e);case"pages":return eq().join(this.serverDistDir,"pages",e);case"app":return eq().join(this.serverDistDir,"app",e);default:throw Error("Invariant: Can't determine file path kind")}}}let eH=["(..)(..)","(.)","(..)","(...)"];function ez(e){return void 0!==e.split("/").find(e=>eH.find(t=>e.startsWith(t)))}let eV=/\/\[[^/]+?\](?=\/|$)/;function eW(e){return ez(e)&&(e=function(e){let t,r,n;for(let a of e.split("/"))if(r=eH.find(e=>a.startsWith(e))){[t,n]=e.split(r,2);break}if(!t||!r||!n)throw Error(`Invalid interception route: ${e}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`);switch(t=ev(t.split("/").reduce((e,t,r,n)=>t?"("===t[0]&&t.endsWith(")")||"@"===t[0]||("page"===t||"route"===t)&&r===n.length-1?e:e+"/"+t:e,"")),r){case"(.)":n="/"===t?`/${n}`:t+"/"+n;break;case"(..)":if("/"===t)throw Error(`Invalid interception route: ${e}. Cannot use (..) marker at the root level, use (.) instead.`);n=t.split("/").slice(0,-1).concat(n).join("/");break;case"(...)":n="/"+n;break;case"(..)(..)":let a=t.split("/");if(a.length<=2)throw Error(`Invalid interception route: ${e}. Cannot use (..)(..) marker at the root level or one level up.`);n=a.slice(0,-2).concat(n).join("/");break;default:throw Error("Invariant: unexpected marker")}return{interceptingRoute:t,interceptedRoute:n}}(e).interceptedRoute),eV.test(e)}"undefined"!=typeof performance&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class eJ extends Error{}function eG(e){return e.replace(/(?:\/index)?\/?$/,"")||"/"}class eK{static #e=this.timings=new Map;constructor(e){this.prerenderManifest=e}get(e){var t;let r=eK.timings.get(e);if(void 0!==r||void 0!==(r=null==(t=this.prerenderManifest.routes[e])?void 0:t.initialRevalidateSeconds))return r}set(e,t){eK.timings.set(e,t)}clear(){eK.timings.clear()}}class eY{constructor({fs:e,dev:t,appDir:r,pagesDir:n,flushToDisk:a,fetchCache:i,minimalMode:s,serverDistDir:o,requestHeaders:l,requestProtocol:u,maxMemoryCacheSize:c,getPrerenderManifest:d,fetchCacheKeyPrefix:h,CurCacheHandler:p,allowedRevalidateHeaderKeys:f,experimental:m}){var g,y,v,_;this.locks=new Map,this.unlocks=new Map;let b=!!process.env.NEXT_PRIVATE_DEBUG_CACHE;this.hasCustomCacheHandler=!!p,p?b&&console.log("using custom cache handler",p.name):(e&&o&&(b&&console.log("using filesystem cache handler"),p=eB),eF.isAvailable({_requestHeaders:l})&&s&&i&&(b&&console.log("using fetch cache handler"),p=eF)),process.env.__NEXT_TEST_MAX_ISR_CACHE&&(c=parseInt(process.env.__NEXT_TEST_MAX_ISR_CACHE,10)),this.dev=t,this.disableForTestmode="true"===process.env.NEXT_PRIVATE_TEST_PROXY,this.minimalMode=s,this.requestHeaders=l,this.requestProtocol=u,this.allowedRevalidateHeaderKeys=f,this.prerenderManifest=d(),this.revalidateTimings=new eK(this.prerenderManifest),this.fetchCacheKeyPrefix=h;let w=[];l[eb.y3]===(null==(y=this.prerenderManifest)?void 0:null==(g=y.preview)?void 0:g.previewModeId)&&(this.isOnDemandRevalidate=!0),s&&"string"==typeof l[eb.of]&&l[eb.X_]===(null==(_=this.prerenderManifest)?void 0:null==(v=_.preview)?void 0:v.previewModeId)&&(w=l[eb.of].split(",")),p&&(this.cacheHandler=new p({dev:t,fs:e,flushToDisk:a,serverDistDir:o,revalidatedTags:w,maxMemoryCacheSize:c,_pagesDir:!!n,_appDir:!!r,_requestHeaders:l,fetchCacheKeyPrefix:h,experimental:m}))}calculateRevalidate(e,t,r){if(r)return new Date().getTime()-1e3;let n=this.revalidateTimings.get(eG(e))??1;return"number"==typeof n?1e3*n+t:n}_getPathname(e,t){return t?e:/^\/index(\/|$)/.test(e)&&!eW(e)?"/index"+e:"/"===e?"/index":ev(e)}resetRequestCache(){var e,t;null==(t=this.cacheHandler)||null==(e=t.resetRequestCache)||e.call(t)}async unlock(e){let t=this.unlocks.get(e);t&&(t(),this.locks.delete(e),this.unlocks.delete(e))}async lock(e){process.env.__NEXT_INCREMENTAL_CACHE_IPC_PORT&&process.env.__NEXT_INCREMENTAL_CACHE_IPC_KEY;let t=()=>Promise.resolve(),r=this.locks.get(e);if(r)await r;else{let r=new Promise(e=>{t=async()=>{e()}});this.locks.set(e,r),this.unlocks.set(e,t)}return t}async revalidateTag(e){var t,r;return process.env.__NEXT_INCREMENTAL_CACHE_IPC_PORT&&process.env.__NEXT_INCREMENTAL_CACHE_IPC_KEY,null==(r=this.cacheHandler)?void 0:null==(t=r.revalidateTag)?void 0:t.call(r,e)}async fetchCacheKey(e,t={}){let r=[],n=new TextEncoder,a=new TextDecoder;if(t.body){if("function"==typeof t.body.getReader){let e=t.body,i=[];try{await e.pipeTo(new WritableStream({write(e){"string"==typeof e?(i.push(n.encode(e)),r.push(e)):(i.push(e),r.push(a.decode(e,{stream:!0})))}})),r.push(a.decode());let s=i.reduce((e,t)=>e+t.length,0),o=new Uint8Array(s),l=0;for(let e of i)o.set(e,l),l+=e.length;t._ogBody=o}catch(e){console.error("Problem reading body",e)}}else if("function"==typeof t.body.keys){let e=t.body;for(let n of(t._ogBody=t.body,new Set([...e.keys()]))){let t=e.getAll(n);r.push(`${n}=${(await Promise.all(t.map(async e=>"string"==typeof e?e:await e.text()))).join(",")}`)}}else if("function"==typeof t.body.arrayBuffer){let e=t.body,n=await e.arrayBuffer();r.push(await e.text()),t._ogBody=new Blob([n],{type:e.type})}else"string"==typeof t.body&&(r.push(t.body),t._ogBody=t.body)}let i="function"==typeof(t.headers||{}).keys?Object.fromEntries(t.headers):Object.assign({},t.headers);"traceparent"in i&&delete i.traceparent;let s=JSON.stringify(["v3",this.fetchCacheKeyPrefix||"",e,t.method,i,t.mode,t.redirect,t.credentials,t.referrer,t.referrerPolicy,t.integrity,t.cache,r]);{var o;let e=n.encode(s);return o=await crypto.subtle.digest("SHA-256",e),Array.prototype.map.call(new Uint8Array(o),e=>e.toString(16).padStart(2,"0")).join("")}}async get(e,t={}){var r,n;let a,i;if(process.env.__NEXT_INCREMENTAL_CACHE_IPC_PORT&&process.env.__NEXT_INCREMENTAL_CACHE_IPC_KEY,this.disableForTestmode||this.dev&&("fetch"!==t.kindHint||"no-cache"===this.requestHeaders["cache-control"]))return null;e=this._getPathname(e,"fetch"===t.kindHint);let s=null,o=t.revalidate,l=await (null==(r=this.cacheHandler)?void 0:r.get(e,t));if((null==l?void 0:null==(n=l.value)?void 0:n.kind)==="FETCH")return[...t.tags||[],...t.softTags||[]].some(e=>{var t;return null==(t=this.revalidatedTags)?void 0:t.includes(e)})?null:(o=o||l.value.revalidate,{isStale:(Date.now()-(l.lastModified||0))/1e3>o,value:{kind:"FETCH",data:l.value.data,revalidate:o},revalidateAfter:Date.now()+1e3*o});let u=this.revalidateTimings.get(eG(e));return(null==l?void 0:l.lastModified)===-1?(a=-1,i=-1*eb.BR):a=!!(!1!==(i=this.calculateRevalidate(e,(null==l?void 0:l.lastModified)||Date.now(),this.dev&&"fetch"!==t.kindHint))&&i<Date.now())||void 0,l&&(s={isStale:a,curRevalidate:u,revalidateAfter:i,value:l.value}),!l&&this.prerenderManifest.notFoundRoutes.includes(e)&&(s={isStale:a,value:null,curRevalidate:u,revalidateAfter:i},this.set(e,s.value,t)),s}async set(e,t,r){if(process.env.__NEXT_INCREMENTAL_CACHE_IPC_PORT&&process.env.__NEXT_INCREMENTAL_CACHE_IPC_KEY,this.disableForTestmode||this.dev&&!r.fetchCache)return;let n=JSON.stringify(t).length;if(r.fetchCache&&!this.hasCustomCacheHandler&&n>2097152){if(this.dev)throw Error(`Failed to set Next.js data cache, items over 2MB can not be cached (${n} bytes)`);return}e=this._getPathname(e,r.fetchCache);try{var a;void 0===r.revalidate||r.fetchCache||this.revalidateTimings.set(e,r.revalidate),await (null==(a=this.cacheHandler)?void 0:a.set(e,t,r))}catch(t){console.warn("Failed to update prerender cache for",e,t)}}}function eX(e){let{re:t,groups:r}=e;return e=>{let n=t.exec(e);if(!n)return!1;let a=e=>{try{return decodeURIComponent(e)}catch(e){throw new eJ("failed to decode param")}},i={};return Object.keys(r).forEach(e=>{let t=r[e],s=n[t.pos];void 0!==s&&(i[e]=~s.indexOf("/")?s.split("/").map(e=>a(e)):t.repeat?[a(s)]:a(s))}),i}}let eQ=/[|\\{}()[\]^$+*?.-]/,e0=/[|\\{}()[\]^$+*?.-]/g;function e1(e){return eQ.test(e)?e.replace(e0,"\\$&"):e}function e9(e){let t=e.startsWith("[")&&e.endsWith("]");t&&(e=e.slice(1,-1));let r=e.startsWith("...");return r&&(e=e.slice(3)),{key:e,repeat:r,optional:t}}function e4(e){let{parameterizedRoute:t,groups:r}=function(e){let t=K(e).slice(1).split("/"),r={},n=1;return{parameterizedRoute:t.map(e=>{let t=eH.find(t=>e.startsWith(t)),a=e.match(/\[((?:\[.*\])|.+)\]/);if(t&&a){let{key:e,optional:i,repeat:s}=e9(a[1]);return r[e]={pos:n++,repeat:s,optional:i},"/"+e1(t)+"([^/]+?)"}if(!a)return"/"+e1(e);{let{key:e,repeat:t,optional:i}=e9(a[1]);return r[e]={pos:n++,repeat:t,optional:i},t?i?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}}).join(""),groups:r}}(e);return{re:RegExp("^"+t+"(?:/)?$"),groups:r}}function e2(e){let{interceptionMarker:t,getSafeRouteKey:r,segment:n,routeKeys:a,keyPrefix:i}=e,{key:s,optional:o,repeat:l}=e9(n),u=s.replace(/\W/g,"");i&&(u=""+i+u);let c=!1;(0===u.length||u.length>30)&&(c=!0),isNaN(parseInt(u.slice(0,1)))||(c=!0),c&&(u=r()),i?a[u]=""+i+s:a[u]=s;let d=t?e1(t):"";return l?o?"(?:/"+d+"(?<"+u+">.+?))?":"/"+d+"(?<"+u+">.+?)":"/"+d+"(?<"+u+">[^/]+?)"}class e3{constructor(e){this.definition=e,eW(e.pathname)&&(this.dynamic=eX(e4(e.pathname)))}get identity(){return this.definition.pathname}get isDynamic(){return void 0!==this.dynamic}match(e){let t=this.test(e);return t?{definition:this.definition,params:t.params}:null}test(e){if(this.dynamic){let t=this.dynamic(e);return t?{params:t}:null}return e===this.definition.pathname?{}:null}}let e6=Symbol.for("__next_internal_waitUntil__"),e7=globalThis[e6]||(globalThis[e6]={waitUntilCounter:0,waitUntilResolve:void 0,waitUntilPromise:null});var e5=r(960),e8=r(548);function te(e){let t={};return e.forEach((e,r)=>{void 0===t[r]?t[r]=e:Array.isArray(t[r])?t[r].push(e):t[r]=[t[r],e]}),t}function tt(e){return e.replace(/__ESC_COLON_/gi,":")}function tr(e,t){if(!e.includes(":"))return e;for(let r of Object.keys(t))e.includes(":"+r)&&(e=e.replace(RegExp(":"+r+"\\*","g"),":"+r+"--ESCAPED_PARAM_ASTERISKS").replace(RegExp(":"+r+"\\?","g"),":"+r+"--ESCAPED_PARAM_QUESTION").replace(RegExp(":"+r+"\\+","g"),":"+r+"--ESCAPED_PARAM_PLUS").replace(RegExp(":"+r+"(?!\\w)","g"),"--ESCAPED_PARAM_COLON"+r));return e=e.replace(/(:|\*|\?|\+|\(|\)|\{|\})/g,"\\$1").replace(/--ESCAPED_PARAM_PLUS/g,"+").replace(/--ESCAPED_PARAM_COLON/g,":").replace(/--ESCAPED_PARAM_QUESTION/g,"?").replace(/--ESCAPED_PARAM_ASTERISKS/g,"*"),(0,e8.MY)("/"+e,{validate:!1})(t).slice(1)}class tn{constructor(e){this.routeModule=e,this.matcher=new e3(e.definition)}static wrap(e,t={}){let r=new tn(e);return e=>eO({...e,...t,IncrementalCache:eY,handler:r.handler.bind(r)})}async handler(e,t){let{params:n}=(function({page:e,i18n:t,basePath:n,rewrites:a,pageIsDynamic:i,trailingSlash:s,caseSensitive:o}){let l,u,c;return i&&(c=(u=eX(l=function(e,t){let r=function(e,t){let r;let n=K(e).slice(1).split("/"),a=(r=0,()=>{let e="",t=++r;for(;t>0;)e+=String.fromCharCode(97+(t-1)%26),t=Math.floor((t-1)/26);return e}),i={};return{namedParameterizedRoute:n.map(e=>{let r=eH.some(t=>e.startsWith(t)),n=e.match(/\[((?:\[.*\])|.+)\]/);if(r&&n){let[r]=e.split(n[0]);return e2({getSafeRouteKey:a,interceptionMarker:r,segment:n[1],routeKeys:i,keyPrefix:t?"nxtI":void 0})}return n?e2({getSafeRouteKey:a,segment:n[1],routeKeys:i,keyPrefix:t?"nxtP":void 0}):"/"+e1(e)}).join(""),routeKeys:i}}(e,t);return{...e4(e),namedRegex:"^"+r.namedParameterizedRoute+"(?:/)?$",routeKeys:r.routeKeys}}(e,!1)))(e)),{handleRewrites:function(l,c){let d={},h=c.pathname,p=a=>{let p=(function(e,t){let r=[],n=(0,e8.Bo)(e,r,{delimiter:"/",sensitive:"boolean"==typeof(null==t?void 0:t.sensitive)&&t.sensitive,strict:null==t?void 0:t.strict}),a=(0,e8.WS)((null==t?void 0:t.regexModifier)?new RegExp(t.regexModifier(n.source),n.flags):n,r);return(e,n)=>{if("string"!=typeof e)return!1;let i=a(e);if(!i)return!1;if(null==t?void 0:t.removeUnnamedParams)for(let e of r)"number"==typeof e.name&&delete i.params[e.name];return{...n,...i.params}}})(a.source+(s?"(/)?":""),{removeUnnamedParams:!0,strict:!0,sensitive:!!o})(c.pathname);if((a.has||a.missing)&&p){let e=function(e,t,n,a){void 0===n&&(n=[]),void 0===a&&(a=[]);let i={},s=n=>{let a;let s=n.key;switch(n.type){case"header":s=s.toLowerCase(),a=e.headers[s];break;case"cookie":if("cookies"in e)a=e.cookies[n.key];else{var o;a=(o=e.headers,function(){let{cookie:e}=o;if(!e)return{};let{parse:t}=r(337);return t(Array.isArray(e)?e.join("; "):e)})()[n.key]}break;case"query":a=t[s];break;case"host":{let{host:t}=(null==e?void 0:e.headers)||{};a=null==t?void 0:t.split(":",1)[0].toLowerCase()}}if(!n.value&&a)return i[function(e){let t="";for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);(n>64&&n<91||n>96&&n<123)&&(t+=e[r])}return t}(s)]=a,!0;if(a){let e=RegExp("^"+n.value+"$"),t=Array.isArray(a)?a.slice(-1)[0].match(e):a.match(e);if(t)return Array.isArray(t)&&(t.groups?Object.keys(t.groups).forEach(e=>{i[e]=t.groups[e]}):"host"===n.type&&t[0]&&(i.host=t[0])),!0}return!1};return!!n.every(e=>s(e))&&!a.some(e=>s(e))&&i}(l,c.query,a.has,a.missing);e?Object.assign(p,e):p=!1}if(p){let{parsedDestination:r,destQuery:s}=function(e){let t;let r=Object.assign({},e.query);delete r.__nextLocale,delete r.__nextDefaultLocale,delete r.__nextDataReq,delete r.__nextInferredLocaleFromDefault,delete r[em.H4];let n=e.destination;for(let t of Object.keys({...e.params,...r}))n=n.replace(RegExp(":"+e1(t),"g"),"__ESC_COLON_"+t);let a=function(e){if(e.startsWith("/"))return function(e,t){let r=new URL("http://n"),n=e.startsWith(".")?new URL("http://n"):r,{pathname:a,searchParams:i,search:s,hash:o,href:l,origin:u}=new URL(e,n);if(u!==r.origin)throw Error("invariant: invalid relative URL, router received "+e);return{pathname:a,query:te(i),search:s,hash:o,href:l.slice(r.origin.length)}}(e);let t=new URL(e);return{hash:t.hash,hostname:t.hostname,href:t.href,pathname:t.pathname,port:t.port,protocol:t.protocol,query:te(t.searchParams),search:t.search}}(n),i=a.query,s=tt(""+a.pathname+(a.hash||"")),o=tt(a.hostname||""),l=[],u=[];(0,e8.Bo)(s,l),(0,e8.Bo)(o,u);let c=[];l.forEach(e=>c.push(e.name)),u.forEach(e=>c.push(e.name));let d=(0,e8.MY)(s,{validate:!1}),h=(0,e8.MY)(o,{validate:!1});for(let[t,r]of Object.entries(i))Array.isArray(r)?i[t]=r.map(t=>tr(tt(t),e.params)):"string"==typeof r&&(i[t]=tr(tt(r),e.params));let p=Object.keys(e.params).filter(e=>"nextInternalLocale"!==e);if(e.appendParamsToQuery&&!p.some(e=>c.includes(e)))for(let t of p)t in i||(i[t]=e.params[t]);if(ez(s))for(let t of s.split("/")){let r=eH.find(e=>t.startsWith(e));if(r){e.params["0"]=r;break}}try{let[r,n]=(t=d(e.params)).split("#",2);a.hostname=h(e.params),a.pathname=r,a.hash=(n?"#":"")+(n||""),delete a.search}catch(e){if(e.message.match(/Expected .*? to not repeat, but got an array/))throw Error("To use a multi-match in the destination you must add `*` at the end of the param name to signify it should repeat. https://nextjs.org/docs/messages/invalid-multi-match");throw e}return a.query={...r,...a.query},{newUrl:t,destQuery:i,parsedDestination:a}}({appendParamsToQuery:!0,destination:a.destination,params:p,query:c.query});if(r.protocol)return!0;if(Object.assign(d,s,p),Object.assign(c.query,r.query),delete r.query,Object.assign(c,r),h=c.pathname,n&&(h=h.replace(RegExp(`^${n}`),"")||"/"),t){let e=et(h,t.locales);h=e.pathname,c.query.nextInternalLocale=e.detectedLocale||p.nextInternalLocale}if(h===e)return!0;if(i&&u){let e=u(h);if(e)return c.query={...c.query,...e},!0}}return!1};for(let e of a.beforeFiles||[])p(e);if(h!==e){let t=!1;for(let e of a.afterFiles||[])if(t=p(e))break;if(!t&&!(()=>{let t=K(h||"");return t===K(e)||(null==u?void 0:u(t))})()){for(let e of a.fallback||[])if(t=p(e))break}}return d},defaultRouteRegex:l,dynamicRouteMatcher:u,defaultRouteMatches:c,getParamsFromRouteMatches:function(e,r,n){return eX(function(){let{groups:e,routeKeys:a}=l;return{re:{exec:i=>{let s=Object.fromEntries(new URLSearchParams(i)),o=t&&n&&s["1"]===n;for(let e of Object.keys(s)){let t=s[e];e!==eb.dN&&e.startsWith(eb.dN)&&(s[e.substring(eb.dN.length)]=t,delete s[e])}let l=Object.keys(a||{}),u=e=>{if(t){let a=Array.isArray(e),i=a?e[0]:e;if("string"==typeof i&&t.locales.some(e=>e.toLowerCase()===i.toLowerCase()&&(n=e,r.locale=n,!0)))return a&&e.splice(0,1),!a||0===e.length}return!1};return l.every(e=>s[e])?l.reduce((t,r)=>{let n=null==a?void 0:a[r];return n&&!u(s[r])&&(t[e[n].pos]=s[r]),t},{}):Object.keys(s).reduce((e,t)=>{if(!u(s[t])){let r=t;return o&&(r=parseInt(t,10)-1+""),Object.assign(e,{[r]:s[t]})}return e},{})}},groups:e}}())(e.headers["x-now-route-matches"])},normalizeDynamicRouteParams:(e,t)=>{var r,n,a;let i;return r=e,n=l,a=c,i=!0,n?{params:r=Object.keys(n.groups).reduce((e,s)=>{let o=r[s];"string"==typeof o&&(o=e_(o)),Array.isArray(o)&&(o=o.map(e=>("string"==typeof e&&(e=e_(e)),e)));let l=a[s],u=n.groups[s].optional;return((Array.isArray(l)?l.some(e=>Array.isArray(o)?o.some(t=>t.includes(e)):null==o?void 0:o.includes(e)):null==o?void 0:o.includes(l))||void 0===o&&!(u&&t))&&(i=!1),u&&(!o||Array.isArray(o)&&1===o.length&&("index"===o[0]||o[0]===`[[...${s}]]`))&&(o=void 0,delete r[s]),o&&"string"==typeof o&&n.groups[s].repeat&&(o=o.split("/")),o&&(e[s]=o),e},{}),hasValidParams:i}:{params:r,hasValidParams:!1}},normalizeVercelUrl:(e,t,r)=>(function(e,t,r,n,a){if(n&&t&&a){let t=(0,e5.parse)(e.url,!0);for(let e of(delete t.search,Object.keys(t.query)))(e!==eb.dN&&e.startsWith(eb.dN)||(r||Object.keys(a.groups)).includes(e))&&delete t.query[e];e.url=(0,e5.format)(t)}})(e,t,r,i,l),interpolateDynamicPath:(e,t)=>(function(e,t,r){if(!r)return e;for(let n of Object.keys(r.groups)){let{optional:a,repeat:i}=r.groups[n],s=`[${i?"...":""}${n}]`;a&&(s=`[${s}]`);let o=e.indexOf(s);if(o>-1){let r;let a=t[n];r=Array.isArray(a)?a.map(e=>e&&encodeURIComponent(e)).join("/"):a?encodeURIComponent(a):"",e=e.slice(0,o)+r+e.slice(o+s.length)}}return e})(e,t,l)}})({pageIsDynamic:this.matcher.isDynamic,page:this.matcher.definition.pathname,basePath:e.nextUrl.basePath,rewrites:{},caseSensitive:!1}).normalizeDynamicRouteParams(te(e.nextUrl.searchParams)),a={params:n,prerenderManifest:{version:4,routes:{},dynamicRoutes:{},preview:eT(),notFoundRoutes:[]},renderOpts:{supportsDynamicResponse:!0,experimental:{ppr:!1}}},i=await this.routeModule.handle(e,a),s=[e7.waitUntilPromise];return a.renderOpts.waitUntil&&s.push(a.renderOpts.waitUntil),t.waitUntil(Promise.all(s)),i}}var ta=r(561);!function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(l||(l={}));var ti=r(631);let ts="https://api.openai.com/v1".replace(/\/+$/,""),to="undefined"==typeof fetch?void 0:fetch;class tl{basePath;fetch;configuration;constructor(e,t=ts,r=to){this.basePath=t,this.fetch=r,e&&(this.configuration=e,this.basePath=e.basePath||this.basePath)}}class tu extends Error{field;constructor(e,t){super(t),this.field=e,this.name="RequiredError"}}let tc="https://example.com",td=function(e,t,r){if(null==r)throw new tu(t,`Required parameter ${t} was null or undefined when calling ${e}.`)},th=function(e,...t){let r=new URLSearchParams(e.search);!function e(t,r,n=""){null!=r&&("object"==typeof r?Array.isArray(r)?r.forEach(r=>e(t,r,n)):Object.keys(r).forEach(a=>e(t,r[a],`${n}${""!==n?".":""}${a}`)):t.has(n)?t.append(n,r):t.set(n,r))}(r,t),e.search=r.toString()},tp=function(e,t,r){let n="string"!=typeof e;return(n&&r&&r.isJsonMime?r.isJsonMime(t.headers["Content-Type"]):n)?JSON.stringify(void 0!==e?e:{}):e||""},tf=function(e){return e.pathname+e.search+e.hash},tm=function(e,t,r,n){return(a=t,i=r)=>{if(void 0===a)throw Error("You must pass a fetch polyfill if you're running in an environment without a global fetch");let s=e.url;if(n?.defaultQueryParams){let e=-1===s.indexOf("?")?"?":"&";s+=e+n.defaultQueryParams}return a((n?.basePath||i)+s,e.options)}},tg="undefined"==typeof fetch?void 0:fetch,ty=function(e){let t=async(t,r={})=>{let n;td("cancelFineTune","fineTuneId",t);let a=new URL("/fine-tunes/{fine_tune_id}/cancel".replace("{fine_tune_id}",encodeURIComponent(String(t))),tc);e&&(n=e.baseOptions);let i={method:"POST",...n,...r};th(a,{});let s=n&&n.headers?n.headers:{};return i.headers={...s,...r.headers},{url:tf(a),options:i}},r=async(t,r={})=>{let n;td("createAnswer","createAnswerRequest",t);let a=new URL("/answers",tc);e&&(n=e.baseOptions);let i={method:"POST",...n,...r},s={};s["Content-Type"]="application/json",th(a,{});let o=n&&n.headers?n.headers:{};return i.headers={...s,...o,...r.headers},i.body=tp(t,i,e),{url:tf(a),options:i}},n=async(t,r={})=>{let n;td("createChatCompletion","createChatCompletionRequest",t);let a=new URL("/chat/completions",tc);e&&(n=e.baseOptions);let i={method:"POST",...n,...r},s={};s["Content-Type"]="application/json",th(a,{});let o=n&&n.headers?n.headers:{};return i.headers={...s,...o,...r.headers},i.body=tp(t,i,e),{url:tf(a),options:i}},a=async(t,r={})=>{let n;td("createClassification","createClassificationRequest",t);let a=new URL("/classifications",tc);e&&(n=e.baseOptions);let i={method:"POST",...n,...r},s={};s["Content-Type"]="application/json",th(a,{});let o=n&&n.headers?n.headers:{};return i.headers={...s,...o,...r.headers},i.body=tp(t,i,e),{url:tf(a),options:i}},i=async(t,r={})=>{let n;td("createCompletion","createCompletionRequest",t);let a=new URL("/completions",tc);e&&(n=e.baseOptions);let i={method:"POST",...n,...r},s={};s["Content-Type"]="application/json",th(a,{});let o=n&&n.headers?n.headers:{};return i.headers={...s,...o,...r.headers},i.body=tp(t,i,e),{url:tf(a),options:i}},s=async(t,r={})=>{let n;td("createEdit","createEditRequest",t);let a=new URL("/edits",tc);e&&(n=e.baseOptions);let i={method:"POST",...n,...r},s={};s["Content-Type"]="application/json",th(a,{});let o=n&&n.headers?n.headers:{};return i.headers={...s,...o,...r.headers},i.body=tp(t,i,e),{url:tf(a),options:i}},o=async(t,r={})=>{let n;td("createEmbedding","createEmbeddingRequest",t);let a=new URL("/embeddings",tc);e&&(n=e.baseOptions);let i={method:"POST",...n,...r},s={};s["Content-Type"]="application/json",th(a,{});let o=n&&n.headers?n.headers:{};return i.headers={...s,...o,...r.headers},i.body=tp(t,i,e),{url:tf(a),options:i}},l=async(t,r,n={})=>{let a;td("createFile","file",t),td("createFile","purpose",r);let i=new URL("/files",tc);e&&(a=e.baseOptions);let s={method:"POST",...a,...n},o={},l=new(e&&e.formDataCtor||FormData);void 0!==t&&l.append("file",t),void 0!==r&&l.append("purpose",r),o["Content-Type"]="multipart/form-data",th(i,{});let u=a&&a.headers?a.headers:{};return s.headers={...o,...l.getHeaders(),...u,...n.headers},s.body=l,{url:tf(i),options:s}},u=async(t,r={})=>{let n;td("createFineTune","createFineTuneRequest",t);let a=new URL("/fine-tunes",tc);e&&(n=e.baseOptions);let i={method:"POST",...n,...r},s={};s["Content-Type"]="application/json",th(a,{});let o=n&&n.headers?n.headers:{};return i.headers={...s,...o,...r.headers},i.body=tp(t,i,e),{url:tf(a),options:i}},c=async(t,r={})=>{let n;td("createImage","createImageRequest",t);let a=new URL("/images/generations",tc);e&&(n=e.baseOptions);let i={method:"POST",...n,...r},s={};s["Content-Type"]="application/json",th(a,{});let o=n&&n.headers?n.headers:{};return i.headers={...s,...o,...r.headers},i.body=tp(t,i,e),{url:tf(a),options:i}},d=async(t,r,n,a,i,s,o,l={})=>{let u;td("createImageEdit","image",t),td("createImageEdit","prompt",r);let c=new URL("/images/edits",tc);e&&(u=e.baseOptions);let d={method:"POST",...u,...l},h={},p=new(e&&e.formDataCtor||FormData);void 0!==t&&p.append("image",t),void 0!==n&&p.append("mask",n),void 0!==r&&p.append("prompt",r),void 0!==a&&p.append("n",a),void 0!==i&&p.append("size",i),void 0!==s&&p.append("response_format",s),void 0!==o&&p.append("user",o),h["Content-Type"]="multipart/form-data",th(c,{});let f=u&&u.headers?u.headers:{};return d.headers={...h,...p.getHeaders(),...f,...l.headers},d.body=p,{url:tf(c),options:d}},h=async(t,r,n,a,i,s={})=>{let o;td("createImageVariation","image",t);let l=new URL("/images/variations",tc);e&&(o=e.baseOptions);let u={method:"POST",...o,...s},c={},d=new(e&&e.formDataCtor||FormData);void 0!==t&&d.append("image",t),void 0!==r&&d.append("n",r),void 0!==n&&d.append("size",n),void 0!==a&&d.append("response_format",a),void 0!==i&&d.append("user",i),c["Content-Type"]="multipart/form-data",th(l,{});let h=o&&o.headers?o.headers:{};return u.headers={...c,...d.getHeaders(),...h,...s.headers},u.body=d,{url:tf(l),options:u}},p=async(t,r={})=>{let n;td("createModeration","createModerationRequest",t);let a=new URL("/moderations",tc);e&&(n=e.baseOptions);let i={method:"POST",...n,...r},s={};s["Content-Type"]="application/json",th(a,{});let o=n&&n.headers?n.headers:{};return i.headers={...s,...o,...r.headers},i.body=tp(t,i,e),{url:tf(a),options:i}},f=async(t,r,n={})=>{let a;td("createSearch","engineId",t),td("createSearch","createSearchRequest",r);let i=new URL("/engines/{engine_id}/search".replace("{engine_id}",encodeURIComponent(String(t))),tc);e&&(a=e.baseOptions);let s={method:"POST",...a,...n},o={};o["Content-Type"]="application/json",th(i,{});let l=a&&a.headers?a.headers:{};return s.headers={...o,...l,...n.headers},s.body=tp(r,s,e),{url:tf(i),options:s}},m=async(t,r,n,a,i,s,o={})=>{let l;td("createTranscription","file",t),td("createTranscription","model",r);let u=new URL("/audio/transcriptions",tc);e&&(l=e.baseOptions);let c={method:"POST",...l,...o},d={},h=new(e&&e.formDataCtor||FormData);void 0!==t&&h.append("file",t),void 0!==r&&h.append("model",r),void 0!==n&&h.append("prompt",n),void 0!==a&&h.append("response_format",a),void 0!==i&&h.append("temperature",i),void 0!==s&&h.append("language",s),d["Content-Type"]="multipart/form-data",th(u,{});let p=l&&l.headers?l.headers:{};return c.headers={...d,...h.getHeaders(),...p,...o.headers},c.body=h,{url:tf(u),options:c}},g=async(t,r,n,a,i,s={})=>{let o;td("createTranslation","file",t),td("createTranslation","model",r);let l=new URL("/audio/translations",tc);e&&(o=e.baseOptions);let u={method:"POST",...o,...s},c={},d=new(e&&e.formDataCtor||FormData);void 0!==t&&d.append("file",t),void 0!==r&&d.append("model",r),void 0!==n&&d.append("prompt",n),void 0!==a&&d.append("response_format",a),void 0!==i&&d.append("temperature",i),c["Content-Type"]="multipart/form-data",th(l,{});let h=o&&o.headers?o.headers:{};return u.headers={...c,...d.getHeaders(),...h,...s.headers},u.body=d,{url:tf(l),options:u}},y=async(t,r={})=>{let n;td("deleteFile","fileId",t);let a=new URL("/files/{file_id}".replace("{file_id}",encodeURIComponent(String(t))),tc);e&&(n=e.baseOptions);let i={method:"DELETE",...n,...r};th(a,{});let s=n&&n.headers?n.headers:{};return i.headers={...s,...r.headers},{url:tf(a),options:i}},v=async(t,r={})=>{let n;td("deleteModel","model",t);let a=new URL("/models/{model}".replace("{model}",encodeURIComponent(String(t))),tc);e&&(n=e.baseOptions);let i={method:"DELETE",...n,...r};th(a,{});let s=n&&n.headers?n.headers:{};return i.headers={...s,...r.headers},{url:tf(a),options:i}},_=async(t,r={})=>{let n;td("downloadFile","fileId",t);let a=new URL("/files/{file_id}/content".replace("{file_id}",encodeURIComponent(String(t))),tc);e&&(n=e.baseOptions);let i={method:"GET",...n,...r};th(a,{});let s=n&&n.headers?n.headers:{};return i.headers={...s,...r.headers},{url:tf(a),options:i}},b=async(t={})=>{let r;let n=new URL("/engines",tc);e&&(r=e.baseOptions);let a={method:"GET",...r,...t};th(n,{});let i=r&&r.headers?r.headers:{};return a.headers={...i,...t.headers},{url:tf(n),options:a}},w=async(t={})=>{let r;let n=new URL("/files",tc);e&&(r=e.baseOptions);let a={method:"GET",...r,...t};th(n,{});let i=r&&r.headers?r.headers:{};return a.headers={...i,...t.headers},{url:tf(n),options:a}},x=async(t,r,n={})=>{let a;td("listFineTuneEvents","fineTuneId",t);let i=new URL("/fine-tunes/{fine_tune_id}/events".replace("{fine_tune_id}",encodeURIComponent(String(t))),tc);e&&(a=e.baseOptions);let s={method:"GET",...a,...n},o={};void 0!==r&&(o.stream=r),th(i,o);let l=a&&a.headers?a.headers:{};return s.headers={...l,...n.headers},{url:tf(i),options:s}},S=async(t={})=>{let r;let n=new URL("/fine-tunes",tc);e&&(r=e.baseOptions);let a={method:"GET",...r,...t};th(n,{});let i=r&&r.headers?r.headers:{};return a.headers={...i,...t.headers},{url:tf(n),options:a}},E=async(t={})=>{let r;let n=new URL("/models",tc);e&&(r=e.baseOptions);let a={method:"GET",...r,...t};th(n,{});let i=r&&r.headers?r.headers:{};return a.headers={...i,...t.headers},{url:tf(n),options:a}},T=async(t,r={})=>{let n;td("retrieveEngine","engineId",t);let a=new URL("/engines/{engine_id}".replace("{engine_id}",encodeURIComponent(String(t))),tc);e&&(n=e.baseOptions);let i={method:"GET",...n,...r};th(a,{});let s=n&&n.headers?n.headers:{};return i.headers={...s,...r.headers},{url:tf(a),options:i}},k=async(t,r={})=>{let n;td("retrieveFile","fileId",t);let a=new URL("/files/{file_id}".replace("{file_id}",encodeURIComponent(String(t))),tc);e&&(n=e.baseOptions);let i={method:"GET",...n,...r};th(a,{});let s=n&&n.headers?n.headers:{};return i.headers={...s,...r.headers},{url:tf(a),options:i}},C=async(t,r={})=>{let n;td("retrieveFineTune","fineTuneId",t);let a=new URL("/fine-tunes/{fine_tune_id}".replace("{fine_tune_id}",encodeURIComponent(String(t))),tc);e&&(n=e.baseOptions);let i={method:"GET",...n,...r};th(a,{});let s=n&&n.headers?n.headers:{};return i.headers={...s,...r.headers},{url:tf(a),options:i}},A=async(t,r={})=>{let n;td("retrieveModel","model",t);let a=new URL("/models/{model}".replace("{model}",encodeURIComponent(String(t))),tc);e&&(n=e.baseOptions);let i={method:"GET",...n,...r};th(a,{});let s=n&&n.headers?n.headers:{};return i.headers={...s,...r.headers},{url:tf(a),options:i}};return{cancelFineTune:async(r,n)=>tm(await t(r,n),tg,ts,e),createAnswer:async(t,n)=>tm(await r(t,n),tg,ts,e),createChatCompletion:async(t,r)=>tm(await n(t,r),tg,ts,e),createClassification:async(t,r)=>tm(await a(t,r),tg,ts,e),createCompletion:async(t,r)=>tm(await i(t,r),tg,ts,e),createEdit:async(t,r)=>tm(await s(t,r),tg,ts,e),createEmbedding:async(t,r)=>tm(await o(t,r),tg,ts,e),createFile:async(t,r,n)=>tm(await l(t,r,n),tg,ts,e),createFineTune:async(t,r)=>tm(await u(t,r),tg,ts,e),createImage:async(t,r)=>tm(await c(t,r),tg,ts,e),createImageEdit:async(t,r,n,a,i,s,o,l)=>tm(await d(t,r,n,a,i,s,o,l),tg,ts,e),createImageVariation:async(t,r,n,a,i,s)=>tm(await h(t,r,n,a,i,s),tg,ts,e),createModeration:async(t,r)=>tm(await p(t,r),tg,ts,e),createSearch:async(t,r,n)=>tm(await f(t,r,n),tg,ts,e),createTranscription:async(t,r,n,a,i,s,o)=>tm(await m(t,r,n,a,i,s,o),tg,ts,e),createTranslation:async(t,r,n,a,i,s)=>tm(await g(t,r,n,a,i,s),tg,ts,e),deleteFile:async(t,r)=>tm(await y(t,r),tg,ts,e),deleteModel:async(t,r)=>tm(await v(t,r),tg,ts,e),downloadFile:async(t,r)=>tm(await _(t,r),tg,ts,e),listEngines:async t=>tm(await b(t),tg,ts,e),listFiles:async t=>tm(await w(t),tg,ts,e),listFineTuneEvents:async(t,r,n)=>tm(await x(t,r,n),tg,ts,e),listFineTunes:async t=>tm(await S(t),tg,ts,e),listModels:async t=>tm(await E(t),tg,ts,e),retrieveEngine:async(t,r)=>tm(await T(t,r),tg,ts,e),retrieveFile:async(t,r)=>tm(await k(t,r),tg,ts,e),retrieveFineTune:async(t,r)=>tm(await C(t,r),tg,ts,e),retrieveModel:async(t,r)=>tm(await A(t,r),tg,ts,e)}};class tv extends tl{cancelFineTune(e,t){return ty(this.configuration).cancelFineTune(e,t).then(e=>e(this.fetch,this.basePath))}createAnswer(e,t){return ty(this.configuration).createAnswer(e,t).then(e=>e(this.fetch,this.basePath))}createChatCompletion(e,t){return ty(this.configuration).createChatCompletion(e,t).then(e=>e(this.fetch,this.basePath))}createClassification(e,t){return ty(this.configuration).createClassification(e,t).then(e=>e(this.fetch,this.basePath))}createCompletion(e,t){return ty(this.configuration).createCompletion(e,t).then(e=>e(this.fetch,this.basePath))}createEdit(e,t){return ty(this.configuration).createEdit(e,t).then(e=>e(this.fetch,this.basePath))}createEmbedding(e,t){return ty(this.configuration).createEmbedding(e,t).then(e=>e(this.fetch,this.basePath))}createFile(e,t,r){return ty(this.configuration).createFile(e,t,r).then(e=>e(this.fetch,this.basePath))}createFineTune(e,t){return ty(this.configuration).createFineTune(e,t).then(e=>e(this.fetch,this.basePath))}createImage(e,t){return ty(this.configuration).createImage(e,t).then(e=>e(this.fetch,this.basePath))}createImageEdit(e,t,r,n,a,i,s,o){return ty(this.configuration).createImageEdit(e,t,r,n,a,i,s,o).then(e=>e(this.fetch,this.basePath))}createImageVariation(e,t,r,n,a,i){return ty(this.configuration).createImageVariation(e,t,r,n,a,i).then(e=>e(this.fetch,this.basePath))}createModeration(e,t){return ty(this.configuration).createModeration(e,t).then(e=>e(this.fetch,this.basePath))}createSearch(e,t,r){return ty(this.configuration).createSearch(e,t,r).then(e=>e(this.fetch,this.basePath))}createTranscription(e,t,r,n,a,i,s){return ty(this.configuration).createTranscription(e,t,r,n,a,i,s).then(e=>e(this.fetch,this.basePath))}createTranslation(e,t,r,n,a,i){return ty(this.configuration).createTranslation(e,t,r,n,a,i).then(e=>e(this.fetch,this.basePath))}deleteFile(e,t){return ty(this.configuration).deleteFile(e,t).then(e=>e(this.fetch,this.basePath))}deleteModel(e,t){return ty(this.configuration).deleteModel(e,t).then(e=>e(this.fetch,this.basePath))}downloadFile(e,t){return ty(this.configuration).downloadFile(e,t).then(e=>e(this.fetch,this.basePath))}listEngines(e){return ty(this.configuration).listEngines(e).then(e=>e(this.fetch,this.basePath))}listFiles(e){return ty(this.configuration).listFiles(e).then(e=>e(this.fetch,this.basePath))}listFineTuneEvents(e,t,r){return ty(this.configuration).listFineTuneEvents(e,t,r).then(e=>e(this.fetch,this.basePath))}listFineTunes(e){return ty(this.configuration).listFineTunes(e).then(e=>e(this.fetch,this.basePath))}listModels(e){return ty(this.configuration).listModels(e).then(e=>e(this.fetch,this.basePath))}retrieveEngine(e,t){return ty(this.configuration).retrieveEngine(e,t).then(e=>e(this.fetch,this.basePath))}retrieveFile(e,t){return ty(this.configuration).retrieveFile(e,t).then(e=>e(this.fetch,this.basePath))}retrieveFineTune(e,t){return ty(this.configuration).retrieveFineTune(e,t).then(e=>e(this.fetch,this.basePath))}retrieveModel(e,t){return ty(this.configuration).retrieveModel(e,t).then(e=>e(this.fetch,this.basePath))}}class t_ extends FormData{_boundary;constructor(...e){super(...e),this._boundary=function(){for(var e="--------------------------",t=0;t<24;t++)e+=Math.floor(10*Math.random()).toString(16);return e}()}getHeaders(){return{"content-type":"multipart/form-data; boundary="+this._boundary}}}class tb{apiKey;organization;username;password;accessToken;basePath;baseOptions;defaultQueryParams;formDataCtor;constructor(e={}){this.apiKey=e.apiKey,this.organization=e.organization,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.baseOptions=e.baseOptions,this.defaultQueryParams=e.defaultQueryParams,this.formDataCtor=e.formDataCtor,this.baseOptions||(this.baseOptions={}),this.baseOptions.headers={Authorization:`Bearer ${this.apiKey}`,...this.baseOptions.headers},this.organization&&(this.baseOptions.headers["OpenAI-Organization"]=this.organization),this.formDataCtor||(this.formDataCtor=t_)}isJsonMime(e){let t=RegExp("^(application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(;.*)?$","i");return null!==e&&(t.test(e)||"application/json-patch+json"===e.toLowerCase())}}var tw="vercel.ai.error",tx=Symbol.for(tw),tS=class e extends Error{constructor({name:e,message:t,cause:r}){super(t),this[u]=!0,this.name=e,this.cause=r}static isInstance(t){return e.hasMarker(t,tw)}static hasMarker(e,t){let r=Symbol.for(t);return null!=e&&"object"==typeof e&&r in e&&"boolean"==typeof e[r]&&!0===e[r]}};u=tx;var tE=tS;function tT(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}Symbol.for("vercel.ai.error.AI_APICallError"),Symbol.for("vercel.ai.error.AI_EmptyResponseBodyError");var tk="AI_InvalidArgumentError",tC=`vercel.ai.error.${tk}`,tA=Symbol.for(tC),tR=class extends tE{constructor({message:e,cause:t,argument:r}){super({name:tk,message:e,cause:t}),this[c]=!0,this.argument=r}static isInstance(e){return tE.hasMarker(e,tC)}};c=tA,Symbol.for("vercel.ai.error.AI_InvalidPromptError"),Symbol.for("vercel.ai.error.AI_InvalidResponseDataError");var tO="AI_JSONParseError",tP=`vercel.ai.error.${tO}`,tI=Symbol.for(tP),tN=class extends tE{constructor({text:e,cause:t}){super({name:tO,message:`JSON parsing failed: Text: ${e}.
Error message: ${tT(t)}`,cause:t}),this[d]=!0,this.text=e}static isInstance(e){return tE.hasMarker(e,tP)}};d=tI,Symbol.for("vercel.ai.error.AI_LoadAPIKeyError"),Symbol.for("vercel.ai.error.AI_LoadSettingError"),Symbol.for("vercel.ai.error.AI_NoContentGeneratedError");var tj="AI_NoSuchModelError",t$=`vercel.ai.error.${tj}`,tM=Symbol.for(t$),tD=class extends tE{constructor({errorName:e=tj,modelId:t,modelType:r,message:n=`No such ${r}: ${t}`}){super({name:e,message:n}),this[h]=!0,this.modelId=t,this.modelType=r}static isInstance(e){return tE.hasMarker(e,t$)}};h=tM,Symbol.for("vercel.ai.error.AI_TooManyEmbeddingValuesForCallError");var tL="AI_TypeValidationError",tU=`vercel.ai.error.${tL}`,tF=Symbol.for(tU),tZ=class e extends tE{constructor({value:e,cause:t}){super({name:tL,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${tT(t)}`,cause:t}),this[p]=!0,this.value=e}static isInstance(e){return tE.hasMarker(e,tU)}static wrap({value:t,cause:r}){return e.isInstance(r)&&r.value===t?r:new e({value:t,cause:r})}};p=tF;var tq="AI_UnsupportedFunctionalityError",tB=`vercel.ai.error.${tq}`,tH=Symbol.for(tB),tz=class extends tE{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:tq,message:t}),this[f]=!0,this.functionality=e}static isInstance(e){return tE.hasMarker(e,tB)}};function tV(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||(Array.isArray(e)?e.every(tV):"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&tV(t)))}f=tH;let tW=(e,t=21)=>(r=t)=>{let n="",a=0|r;for(;a--;)n+=e[Math.random()*e.length|0];return n};var tJ=r(87),tG=({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let a=tW(r,t);if(null==e)return a;if(r.includes(n))throw new tR({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return t=>`${e}${n}${a(t)}`};tG();var tK=Symbol.for("vercel.ai.validator");function tY({value:e,schema:t}){let r="object"==typeof t&&null!==t&&tK in t&&!0===t[tK]&&"validate"in t?t:{[tK]:!0,validate:e=>{let r=t.safeParse(e);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}}};try{if(null==r.validate)return{success:!0,value:e};let t=r.validate(e);if(t.success)return t;return{success:!1,error:tZ.wrap({value:e,cause:t.error})}}catch(t){return{success:!1,error:tZ.wrap({value:e,cause:t})}}}function tX({text:e,schema:t}){try{let r=tJ.parse(e);if(null==t)return{success:!0,value:r};return tY({value:r,schema:t})}catch(t){return{success:!1,error:tN.isInstance(t)?t:new tN({text:e,cause:t})}}}var{btoa:tQ,atob:t0}=globalThis;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(let e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(m||(m={})),(g||(g={})).mergeShapes=(e,t)=>({...e,...t});let t1=m.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),t9=e=>{switch(typeof e){case"undefined":return t1.undefined;case"string":return t1.string;case"number":return isNaN(e)?t1.nan:t1.number;case"boolean":return t1.boolean;case"function":return t1.function;case"bigint":return t1.bigint;case"symbol":return t1.symbol;case"object":if(Array.isArray(e))return t1.array;if(null===e)return t1.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return t1.promise;if("undefined"!=typeof Map&&e instanceof Map)return t1.map;if("undefined"!=typeof Set&&e instanceof Set)return t1.set;if("undefined"!=typeof Date&&e instanceof Date)return t1.date;return t1.object;default:return t1.unknown}},t4=m.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class t2 extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(n);else if("invalid_return_type"===a.code)n(a.returnTypeError);else if("invalid_arguments"===a.code)n(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,n=0;for(;n<a.path.length;){let r=a.path[n];n===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof t2))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,m.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}t2.create=e=>new t2(e);let t3=(e,t)=>{let r;switch(e.code){case t4.invalid_type:r=e.received===t1.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case t4.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,m.jsonStringifyReplacer)}`;break;case t4.unrecognized_keys:r=`Unrecognized key(s) in object: ${m.joinValues(e.keys,", ")}`;break;case t4.invalid_union:r="Invalid input";break;case t4.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${m.joinValues(e.options)}`;break;case t4.invalid_enum_value:r=`Invalid enum value. Expected ${m.joinValues(e.options)}, received '${e.received}'`;break;case t4.invalid_arguments:r="Invalid function arguments";break;case t4.invalid_return_type:r="Invalid function return type";break;case t4.invalid_date:r="Invalid date";break;case t4.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:m.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case t4.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case t4.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case t4.custom:r="Invalid input";break;case t4.invalid_intersection_types:r="Intersection results could not be merged";break;case t4.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case t4.not_finite:r="Number must be finite";break;default:r=t.defaultError,m.assertNever(e)}return{message:r}},t6=t3;function t7(){return t6}let t5=e=>{let{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],s={...a,path:i};if(void 0!==a.message)return{...a,path:i,message:a.message};let o="";for(let e of n.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...a,path:i,message:o}};function t8(e,t){let r=t7(),n=t5({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===t3?void 0:t3].filter(e=>!!e)});e.common.issues.push(n)}class re{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return rt;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return re.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:a}=n;if("aborted"===t.status||"aborted"===a.status)return rt;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==a.value||n.alwaysSet)&&(r[t.value]=a.value)}return{status:e.value,value:r}}}let rt=Object.freeze({status:"aborted"}),rr=e=>({status:"dirty",value:e}),rn=e=>({status:"valid",value:e}),ra=e=>"aborted"===e.status,ri=e=>"dirty"===e.status,rs=e=>"valid"===e.status,ro=e=>"undefined"!=typeof Promise&&e instanceof Promise;function rl(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function ru(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r}"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(y||(y={}));class rc{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let rd=(e,t)=>{if(rs(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new t2(e.common.issues);return this._error=t,this._error}}};function rh(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{var i,s;let{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:a.defaultError}:void 0===a.data?{message:null!==(i=null!=o?o:n)&&void 0!==i?i:a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:null!==(s=null!=o?o:r)&&void 0!==s?s:a.defaultError}},description:a}}class rp{get description(){return this._def.description}_getType(e){return t9(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:t9(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new re,ctx:{common:e.parent.common,data:e.data,parsedType:t9(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(ro(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let n={common:{issues:[],async:null!==(r=null==t?void 0:t.async)&&void 0!==r&&r,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:t9(e)},a=this._parseSync({data:e,path:n.path,parent:n});return rd(n,a)}"~validate"(e){var t,r;let n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:t9(e)};if(!this["~standard"].async)try{let t=this._parseSync({data:e,path:[],parent:n});return rs(t)?{value:t.value}:{issues:n.common.issues}}catch(e){(null===(r=null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.toLowerCase())||void 0===r?void 0:r.includes("encountered"))&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(e=>rs(e)?{value:e.value}:{issues:n.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:t9(e)},n=this._parse({data:e,path:r.path,parent:r});return rd(r,await (ro(n)?n:Promise.resolve(n)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let a=e(t),i=()=>n.addIssue({code:t4.custom,...r(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(i(),!1)):!!a||(i(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new r7({schema:this,typeName:b.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return r5.create(this,this._def)}nullable(){return r8.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return rH.create(this)}promise(){return r6.create(this,this._def)}or(e){return rV.create([this,e],this._def)}and(e){return rG.create(this,e,this._def)}transform(e){return new r7({...rh(this._def),schema:this,typeName:b.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new ne({...rh(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:b.ZodDefault})}brand(){return new na({typeName:b.ZodBranded,type:this,...rh(this._def)})}catch(e){return new nt({...rh(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:b.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return ni.create(this,e)}readonly(){return ns.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let rf=/^c[^\s-]{8,}$/i,rm=/^[0-9a-z]+$/,rg=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ry=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,rv=/^[a-z0-9_-]{21}$/i,r_=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,rb=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,rw=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,rx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,rE=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,rT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,rk=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,rC=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,rA="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",rR=RegExp(`^${rA}$`);function rO(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function rP(e){let t=`${rA}T${rO(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}class rI extends rp{_parse(e){var t,r,n,a;let i;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==t1.string){let t=this._getOrReturnCtx(e);return t8(t,{code:t4.invalid_type,expected:t1.string,received:t.parsedType}),rt}let o=new re;for(let l of this._def.checks)if("min"===l.kind)e.data.length<l.value&&(t8(i=this._getOrReturnCtx(e,i),{code:t4.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),o.dirty());else if("max"===l.kind)e.data.length>l.value&&(t8(i=this._getOrReturnCtx(e,i),{code:t4.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),o.dirty());else if("length"===l.kind){let t=e.data.length>l.value,r=e.data.length<l.value;(t||r)&&(i=this._getOrReturnCtx(e,i),t?t8(i,{code:t4.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):r&&t8(i,{code:t4.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),o.dirty())}else if("email"===l.kind)rw.test(e.data)||(t8(i=this._getOrReturnCtx(e,i),{validation:"email",code:t4.invalid_string,message:l.message}),o.dirty());else if("emoji"===l.kind)s||(s=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),s.test(e.data)||(t8(i=this._getOrReturnCtx(e,i),{validation:"emoji",code:t4.invalid_string,message:l.message}),o.dirty());else if("uuid"===l.kind)ry.test(e.data)||(t8(i=this._getOrReturnCtx(e,i),{validation:"uuid",code:t4.invalid_string,message:l.message}),o.dirty());else if("nanoid"===l.kind)rv.test(e.data)||(t8(i=this._getOrReturnCtx(e,i),{validation:"nanoid",code:t4.invalid_string,message:l.message}),o.dirty());else if("cuid"===l.kind)rf.test(e.data)||(t8(i=this._getOrReturnCtx(e,i),{validation:"cuid",code:t4.invalid_string,message:l.message}),o.dirty());else if("cuid2"===l.kind)rm.test(e.data)||(t8(i=this._getOrReturnCtx(e,i),{validation:"cuid2",code:t4.invalid_string,message:l.message}),o.dirty());else if("ulid"===l.kind)rg.test(e.data)||(t8(i=this._getOrReturnCtx(e,i),{validation:"ulid",code:t4.invalid_string,message:l.message}),o.dirty());else if("url"===l.kind)try{new URL(e.data)}catch(t){t8(i=this._getOrReturnCtx(e,i),{validation:"url",code:t4.invalid_string,message:l.message}),o.dirty()}else"regex"===l.kind?(l.regex.lastIndex=0,l.regex.test(e.data)||(t8(i=this._getOrReturnCtx(e,i),{validation:"regex",code:t4.invalid_string,message:l.message}),o.dirty())):"trim"===l.kind?e.data=e.data.trim():"includes"===l.kind?e.data.includes(l.value,l.position)||(t8(i=this._getOrReturnCtx(e,i),{code:t4.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),o.dirty()):"toLowerCase"===l.kind?e.data=e.data.toLowerCase():"toUpperCase"===l.kind?e.data=e.data.toUpperCase():"startsWith"===l.kind?e.data.startsWith(l.value)||(t8(i=this._getOrReturnCtx(e,i),{code:t4.invalid_string,validation:{startsWith:l.value},message:l.message}),o.dirty()):"endsWith"===l.kind?e.data.endsWith(l.value)||(t8(i=this._getOrReturnCtx(e,i),{code:t4.invalid_string,validation:{endsWith:l.value},message:l.message}),o.dirty()):"datetime"===l.kind?rP(l).test(e.data)||(t8(i=this._getOrReturnCtx(e,i),{code:t4.invalid_string,validation:"datetime",message:l.message}),o.dirty()):"date"===l.kind?rR.test(e.data)||(t8(i=this._getOrReturnCtx(e,i),{code:t4.invalid_string,validation:"date",message:l.message}),o.dirty()):"time"===l.kind?RegExp(`^${rO(l)}$`).test(e.data)||(t8(i=this._getOrReturnCtx(e,i),{code:t4.invalid_string,validation:"time",message:l.message}),o.dirty()):"duration"===l.kind?rb.test(e.data)||(t8(i=this._getOrReturnCtx(e,i),{validation:"duration",code:t4.invalid_string,message:l.message}),o.dirty()):"ip"===l.kind?(t=e.data,("v4"===(r=l.version)||!r)&&rx.test(t)||("v6"===r||!r)&&rE.test(t)||(t8(i=this._getOrReturnCtx(e,i),{validation:"ip",code:t4.invalid_string,message:l.message}),o.dirty())):"jwt"===l.kind?!function(e,t){if(!r_.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));if("object"!=typeof a||null===a||!a.typ||!a.alg||t&&a.alg!==t)return!1;return!0}catch(e){return!1}}(e.data,l.alg)&&(t8(i=this._getOrReturnCtx(e,i),{validation:"jwt",code:t4.invalid_string,message:l.message}),o.dirty()):"cidr"===l.kind?(n=e.data,("v4"===(a=l.version)||!a)&&rS.test(n)||("v6"===a||!a)&&rT.test(n)||(t8(i=this._getOrReturnCtx(e,i),{validation:"cidr",code:t4.invalid_string,message:l.message}),o.dirty())):"base64"===l.kind?rk.test(e.data)||(t8(i=this._getOrReturnCtx(e,i),{validation:"base64",code:t4.invalid_string,message:l.message}),o.dirty()):"base64url"===l.kind?rC.test(e.data)||(t8(i=this._getOrReturnCtx(e,i),{validation:"base64url",code:t4.invalid_string,message:l.message}),o.dirty()):m.assertNever(l);return{status:o.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:t4.invalid_string,...y.errToObj(r)})}_addCheck(e){return new rI({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...y.errToObj(e)})}url(e){return this._addCheck({kind:"url",...y.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...y.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...y.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...y.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...y.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...y.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...y.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...y.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...y.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...y.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...y.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...y.errToObj(e)})}datetime(e){var t,r;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(r=null==e?void 0:e.local)&&void 0!==r&&r,...y.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...y.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...y.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...y.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...y.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...y.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...y.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...y.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...y.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...y.errToObj(t)})}nonempty(e){return this.min(1,y.errToObj(e))}trim(){return new rI({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new rI({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new rI({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}rI.create=e=>{var t;return new rI({checks:[],typeName:b.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...rh(e)})};class rN extends rp{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==t1.number){let t=this._getOrReturnCtx(e);return t8(t,{code:t4.invalid_type,expected:t1.number,received:t.parsedType}),rt}let r=new re;for(let n of this._def.checks)"int"===n.kind?m.isInteger(e.data)||(t8(t=this._getOrReturnCtx(e,t),{code:t4.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(t8(t=this._getOrReturnCtx(e,t),{code:t4.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(t8(t=this._getOrReturnCtx(e,t),{code:t4.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n;return parseInt(e.toFixed(a).replace(".",""))%parseInt(t.toFixed(a).replace(".",""))/Math.pow(10,a)}(e.data,n.value)&&(t8(t=this._getOrReturnCtx(e,t),{code:t4.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(t8(t=this._getOrReturnCtx(e,t),{code:t4.not_finite,message:n.message}),r.dirty()):m.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,y.toString(t))}gt(e,t){return this.setLimit("min",e,!1,y.toString(t))}lte(e,t){return this.setLimit("max",e,!0,y.toString(t))}lt(e,t){return this.setLimit("max",e,!1,y.toString(t))}setLimit(e,t,r,n){return new rN({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:y.toString(n)}]})}_addCheck(e){return new rN({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:y.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:y.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:y.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:y.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:y.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:y.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&m.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}rN.create=e=>new rN({checks:[],typeName:b.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...rh(e)});class rj extends rp{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==t1.bigint)return this._getInvalidInput(e);let r=new re;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(t8(t=this._getOrReturnCtx(e,t),{code:t4.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(t8(t=this._getOrReturnCtx(e,t),{code:t4.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(t8(t=this._getOrReturnCtx(e,t),{code:t4.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):m.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return t8(t,{code:t4.invalid_type,expected:t1.bigint,received:t.parsedType}),rt}gte(e,t){return this.setLimit("min",e,!0,y.toString(t))}gt(e,t){return this.setLimit("min",e,!1,y.toString(t))}lte(e,t){return this.setLimit("max",e,!0,y.toString(t))}lt(e,t){return this.setLimit("max",e,!1,y.toString(t))}setLimit(e,t,r,n){return new rj({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:y.toString(n)}]})}_addCheck(e){return new rj({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:y.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:y.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}rj.create=e=>{var t;return new rj({checks:[],typeName:b.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...rh(e)})};class r$ extends rp{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==t1.boolean){let t=this._getOrReturnCtx(e);return t8(t,{code:t4.invalid_type,expected:t1.boolean,received:t.parsedType}),rt}return rn(e.data)}}r$.create=e=>new r$({typeName:b.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...rh(e)});class rM extends rp{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==t1.date){let t=this._getOrReturnCtx(e);return t8(t,{code:t4.invalid_type,expected:t1.date,received:t.parsedType}),rt}if(isNaN(e.data.getTime()))return t8(this._getOrReturnCtx(e),{code:t4.invalid_date}),rt;let r=new re;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(t8(t=this._getOrReturnCtx(e,t),{code:t4.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(t8(t=this._getOrReturnCtx(e,t),{code:t4.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):m.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new rM({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:y.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:y.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}rM.create=e=>new rM({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:b.ZodDate,...rh(e)});class rD extends rp{_parse(e){if(this._getType(e)!==t1.symbol){let t=this._getOrReturnCtx(e);return t8(t,{code:t4.invalid_type,expected:t1.symbol,received:t.parsedType}),rt}return rn(e.data)}}rD.create=e=>new rD({typeName:b.ZodSymbol,...rh(e)});class rL extends rp{_parse(e){if(this._getType(e)!==t1.undefined){let t=this._getOrReturnCtx(e);return t8(t,{code:t4.invalid_type,expected:t1.undefined,received:t.parsedType}),rt}return rn(e.data)}}rL.create=e=>new rL({typeName:b.ZodUndefined,...rh(e)});class rU extends rp{_parse(e){if(this._getType(e)!==t1.null){let t=this._getOrReturnCtx(e);return t8(t,{code:t4.invalid_type,expected:t1.null,received:t.parsedType}),rt}return rn(e.data)}}rU.create=e=>new rU({typeName:b.ZodNull,...rh(e)});class rF extends rp{constructor(){super(...arguments),this._any=!0}_parse(e){return rn(e.data)}}rF.create=e=>new rF({typeName:b.ZodAny,...rh(e)});class rZ extends rp{constructor(){super(...arguments),this._unknown=!0}_parse(e){return rn(e.data)}}rZ.create=e=>new rZ({typeName:b.ZodUnknown,...rh(e)});class rq extends rp{_parse(e){let t=this._getOrReturnCtx(e);return t8(t,{code:t4.invalid_type,expected:t1.never,received:t.parsedType}),rt}}rq.create=e=>new rq({typeName:b.ZodNever,...rh(e)});class rB extends rp{_parse(e){if(this._getType(e)!==t1.undefined){let t=this._getOrReturnCtx(e);return t8(t,{code:t4.invalid_type,expected:t1.void,received:t.parsedType}),rt}return rn(e.data)}}rB.create=e=>new rB({typeName:b.ZodVoid,...rh(e)});class rH extends rp{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==t1.array)return t8(t,{code:t4.invalid_type,expected:t1.array,received:t.parsedType}),rt;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,a=t.data.length<n.exactLength.value;(e||a)&&(t8(t,{code:e?t4.too_big:t4.too_small,minimum:a?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(t8(t,{code:t4.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(t8(t,{code:t4.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new rc(t,e,t.path,r)))).then(e=>re.mergeArray(r,e));let a=[...t.data].map((e,r)=>n.type._parseSync(new rc(t,e,t.path,r)));return re.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new rH({...this._def,minLength:{value:e,message:y.toString(t)}})}max(e,t){return new rH({...this._def,maxLength:{value:e,message:y.toString(t)}})}length(e,t){return new rH({...this._def,exactLength:{value:e,message:y.toString(t)}})}nonempty(e){return this.min(1,e)}}rH.create=(e,t)=>new rH({type:e,minLength:null,maxLength:null,exactLength:null,typeName:b.ZodArray,...rh(t)});class rz extends rp{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=m.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==t1.object){let t=this._getOrReturnCtx(e);return t8(t,{code:t4.invalid_type,expected:t1.object,received:t.parsedType}),rt}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:a}=this._getCached(),i=[];if(!(this._def.catchall instanceof rq&&"strip"===this._def.unknownKeys))for(let e in r.data)a.includes(e)||i.push(e);let s=[];for(let e of a){let t=n[e],a=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new rc(r,a,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof rq){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of i)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)i.length>0&&(t8(r,{code:t4.unrecognized_keys,keys:i}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of i){let n=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new rc(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>re.mergeObjectSync(t,e)):re.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return y.errToObj,new rz({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var n,a,i,s;let o=null!==(i=null===(a=(n=this._def).errorMap)||void 0===a?void 0:a.call(n,t,r).message)&&void 0!==i?i:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=y.errToObj(e).message)&&void 0!==s?s:o}:{message:o}}}:{}})}strip(){return new rz({...this._def,unknownKeys:"strip"})}passthrough(){return new rz({...this._def,unknownKeys:"passthrough"})}extend(e){return new rz({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new rz({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:b.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new rz({...this._def,catchall:e})}pick(e){let t={};return m.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new rz({...this._def,shape:()=>t})}omit(e){let t={};return m.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new rz({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof rz){let r={};for(let n in t.shape){let a=t.shape[n];r[n]=r5.create(e(a))}return new rz({...t._def,shape:()=>r})}return t instanceof rH?new rH({...t._def,type:e(t.element)}):t instanceof r5?r5.create(e(t.unwrap())):t instanceof r8?r8.create(e(t.unwrap())):t instanceof rK?rK.create(t.items.map(t=>e(t))):t}(this)}partial(e){let t={};return m.objectKeys(this.shape).forEach(r=>{let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}),new rz({...this._def,shape:()=>t})}required(e){let t={};return m.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof r5;)e=e._def.innerType;t[r]=e}}),new rz({...this._def,shape:()=>t})}keyof(){return r4(m.objectKeys(this.shape))}}rz.create=(e,t)=>new rz({shape:()=>e,unknownKeys:"strip",catchall:rq.create(),typeName:b.ZodObject,...rh(t)}),rz.strictCreate=(e,t)=>new rz({shape:()=>e,unknownKeys:"strict",catchall:rq.create(),typeName:b.ZodObject,...rh(t)}),rz.lazycreate=(e,t)=>new rz({shape:e,unknownKeys:"strip",catchall:rq.create(),typeName:b.ZodObject,...rh(t)});class rV extends rp{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new t2(e.ctx.common.issues));return t8(t,{code:t4.invalid_union,unionErrors:r}),rt});{let e;let n=[];for(let a of r){let r={...t,common:{...t.common,issues:[]},parent:null},i=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=n.map(e=>new t2(e));return t8(t,{code:t4.invalid_union,unionErrors:a}),rt}}get options(){return this._def.options}}rV.create=(e,t)=>new rV({options:e,typeName:b.ZodUnion,...rh(t)});let rW=e=>{if(e instanceof r1)return rW(e.schema);if(e instanceof r7)return rW(e.innerType());if(e instanceof r9)return[e.value];if(e instanceof r2)return e.options;if(e instanceof r3)return m.objectValues(e.enum);if(e instanceof ne)return rW(e._def.innerType);if(e instanceof rL)return[void 0];else if(e instanceof rU)return[null];else if(e instanceof r5)return[void 0,...rW(e.unwrap())];else if(e instanceof r8)return[null,...rW(e.unwrap())];else if(e instanceof na)return rW(e.unwrap());else if(e instanceof ns)return rW(e.unwrap());else if(e instanceof nt)return rW(e._def.innerType);else return[]};class rJ extends rp{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==t1.object)return t8(t,{code:t4.invalid_type,expected:t1.object,received:t.parsedType}),rt;let r=this.discriminator,n=t.data[r],a=this.optionsMap.get(n);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(t8(t,{code:t4.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),rt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=rW(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of t){if(n.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);n.set(a,r)}}return new rJ({typeName:b.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...rh(r)})}}class rG extends rp{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(ra(e)||ra(n))return rt;let a=function e(t,r){let n=t9(t),a=t9(r);if(t===r)return{valid:!0,data:t};if(n===t1.object&&a===t1.object){let n=m.objectKeys(r),a=m.objectKeys(t).filter(e=>-1!==n.indexOf(e)),i={...t,...r};for(let n of a){let a=e(t[n],r[n]);if(!a.valid)return{valid:!1};i[n]=a.data}return{valid:!0,data:i}}if(n===t1.array&&a===t1.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let a=0;a<t.length;a++){let i=e(t[a],r[a]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}return n===t1.date&&a===t1.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}(e.value,n.value);return a.valid?((ri(e)||ri(n))&&t.dirty(),{status:t.value,value:a.data}):(t8(r,{code:t4.invalid_intersection_types}),rt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}rG.create=(e,t,r)=>new rG({left:e,right:t,typeName:b.ZodIntersection,...rh(r)});class rK extends rp{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==t1.array)return t8(r,{code:t4.invalid_type,expected:t1.array,received:r.parsedType}),rt;if(r.data.length<this._def.items.length)return t8(r,{code:t4.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),rt;!this._def.rest&&r.data.length>this._def.items.length&&(t8(r,{code:t4.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new rc(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>re.mergeArray(t,e)):re.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new rK({...this._def,rest:e})}}rK.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new rK({items:e,typeName:b.ZodTuple,rest:null,...rh(t)})};class rY extends rp{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==t1.object)return t8(r,{code:t4.invalid_type,expected:t1.object,received:r.parsedType}),rt;let n=[],a=this._def.keyType,i=this._def.valueType;for(let e in r.data)n.push({key:a._parse(new rc(r,e,r.path,e)),value:i._parse(new rc(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?re.mergeObjectAsync(t,n):re.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new rY(t instanceof rp?{keyType:e,valueType:t,typeName:b.ZodRecord,...rh(r)}:{keyType:rI.create(),valueType:e,typeName:b.ZodRecord,...rh(t)})}}class rX extends rp{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==t1.map)return t8(r,{code:t4.invalid_type,expected:t1.map,received:r.parsedType}),rt;let n=this._def.keyType,a=this._def.valueType,i=[...r.data.entries()].map(([e,t],i)=>({key:n._parse(new rc(r,e,r.path,[i,"key"])),value:a._parse(new rc(r,t,r.path,[i,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of i){let n=await r.key,a=await r.value;if("aborted"===n.status||"aborted"===a.status)return rt;("dirty"===n.status||"dirty"===a.status)&&t.dirty(),e.set(n.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of i){let n=r.key,a=r.value;if("aborted"===n.status||"aborted"===a.status)return rt;("dirty"===n.status||"dirty"===a.status)&&t.dirty(),e.set(n.value,a.value)}return{status:t.value,value:e}}}}rX.create=(e,t,r)=>new rX({valueType:t,keyType:e,typeName:b.ZodMap,...rh(r)});class rQ extends rp{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==t1.set)return t8(r,{code:t4.invalid_type,expected:t1.set,received:r.parsedType}),rt;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(t8(r,{code:t4.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(t8(r,{code:t4.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let a=this._def.valueType;function i(e){let r=new Set;for(let n of e){if("aborted"===n.status)return rt;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>a._parse(new rc(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>i(e)):i(s)}min(e,t){return new rQ({...this._def,minSize:{value:e,message:y.toString(t)}})}max(e,t){return new rQ({...this._def,maxSize:{value:e,message:y.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}rQ.create=(e,t)=>new rQ({valueType:e,minSize:null,maxSize:null,typeName:b.ZodSet,...rh(t)});class r0 extends rp{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==t1.function)return t8(t,{code:t4.invalid_type,expected:t1.function,received:t.parsedType}),rt;function r(e,r){return t5({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,t7(),t3].filter(e=>!!e),issueData:{code:t4.invalid_arguments,argumentsError:r}})}function n(e,r){return t5({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,t7(),t3].filter(e=>!!e),issueData:{code:t4.invalid_return_type,returnTypeError:r}})}let a={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof r6){let e=this;return rn(async function(...t){let s=new t2([]),o=await e._def.args.parseAsync(t,a).catch(e=>{throw s.addIssue(r(t,e)),s}),l=await Reflect.apply(i,this,o);return await e._def.returns._def.type.parseAsync(l,a).catch(e=>{throw s.addIssue(n(l,e)),s})})}{let e=this;return rn(function(...t){let s=e._def.args.safeParse(t,a);if(!s.success)throw new t2([r(t,s.error)]);let o=Reflect.apply(i,this,s.data),l=e._def.returns.safeParse(o,a);if(!l.success)throw new t2([n(o,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new r0({...this._def,args:rK.create(e).rest(rZ.create())})}returns(e){return new r0({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new r0({args:e||rK.create([]).rest(rZ.create()),returns:t||rZ.create(),typeName:b.ZodFunction,...rh(r)})}}class r1 extends rp{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}r1.create=(e,t)=>new r1({getter:e,typeName:b.ZodLazy,...rh(t)});class r9 extends rp{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return t8(t,{received:t.data,code:t4.invalid_literal,expected:this._def.value}),rt}return{status:"valid",value:e.data}}get value(){return this._def.value}}function r4(e,t){return new r2({values:e,typeName:b.ZodEnum,...rh(t)})}r9.create=(e,t)=>new r9({value:e,typeName:b.ZodLiteral,...rh(t)});class r2 extends rp{constructor(){super(...arguments),v.set(this,void 0)}_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return t8(t,{expected:m.joinValues(r),received:t.parsedType,code:t4.invalid_type}),rt}if(rl(this,v,"f")||ru(this,v,new Set(this._def.values),"f"),!rl(this,v,"f").has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return t8(t,{received:t.data,code:t4.invalid_enum_value,options:r}),rt}return rn(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return r2.create(e,{...this._def,...t})}exclude(e,t=this._def){return r2.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}v=new WeakMap,r2.create=r4;class r3 extends rp{constructor(){super(...arguments),_.set(this,void 0)}_parse(e){let t=m.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==t1.string&&r.parsedType!==t1.number){let e=m.objectValues(t);return t8(r,{expected:m.joinValues(e),received:r.parsedType,code:t4.invalid_type}),rt}if(rl(this,_,"f")||ru(this,_,new Set(m.getValidEnumValues(this._def.values)),"f"),!rl(this,_,"f").has(e.data)){let e=m.objectValues(t);return t8(r,{received:r.data,code:t4.invalid_enum_value,options:e}),rt}return rn(e.data)}get enum(){return this._def.values}}_=new WeakMap,r3.create=(e,t)=>new r3({values:e,typeName:b.ZodNativeEnum,...rh(t)});class r6 extends rp{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==t1.promise&&!1===t.common.async?(t8(t,{code:t4.invalid_type,expected:t1.promise,received:t.parsedType}),rt):rn((t.parsedType===t1.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}r6.create=(e,t)=>new r6({type:e,typeName:b.ZodPromise,...rh(t)});class r7 extends rp{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===b.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:e=>{t8(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===n.type){let e=n.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return rt;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?rt:"dirty"===n.status||"dirty"===t.value?rr(n.value):n});{if("aborted"===t.value)return rt;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?rt:"dirty"===n.status||"dirty"===t.value?rr(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?rt:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?rt:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type){if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>rs(e)?Promise.resolve(n.transform(e.value,a)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!rs(e))return e;let i=n.transform(e.value,a);if(i instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}}m.assertNever(n)}}r7.create=(e,t,r)=>new r7({schema:e,typeName:b.ZodEffects,effect:t,...rh(r)}),r7.createWithPreprocess=(e,t,r)=>new r7({schema:t,effect:{type:"preprocess",transform:e},typeName:b.ZodEffects,...rh(r)});class r5 extends rp{_parse(e){return this._getType(e)===t1.undefined?rn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}r5.create=(e,t)=>new r5({innerType:e,typeName:b.ZodOptional,...rh(t)});class r8 extends rp{_parse(e){return this._getType(e)===t1.null?rn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}r8.create=(e,t)=>new r8({innerType:e,typeName:b.ZodNullable,...rh(t)});class ne extends rp{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===t1.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ne.create=(e,t)=>new ne({innerType:e,typeName:b.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...rh(t)});class nt extends rp{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ro(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new t2(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new t2(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}nt.create=(e,t)=>new nt({innerType:e,typeName:b.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...rh(t)});class nr extends rp{_parse(e){if(this._getType(e)!==t1.nan){let t=this._getOrReturnCtx(e);return t8(t,{code:t4.invalid_type,expected:t1.nan,received:t.parsedType}),rt}return{status:"valid",value:e.data}}}nr.create=e=>new nr({typeName:b.ZodNaN,...rh(e)});let nn=Symbol("zod_brand");class na extends rp{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class ni extends rp{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?rt:"dirty"===e.status?(t.dirty(),rr(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?rt:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new ni({in:e,out:t,typeName:b.ZodPipeline})}}class ns extends rp{_parse(e){let t=this._def.innerType._parse(e),r=e=>(rs(e)&&(e.value=Object.freeze(e.value)),e);return ro(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function no(e,t={},r){return e?rF.create().superRefine((n,a)=>{var i,s;if(!e(n)){let e="function"==typeof t?t(n):"string"==typeof t?{message:t}:t,o=null===(s=null!==(i=e.fatal)&&void 0!==i?i:r)||void 0===s||s;a.addIssue({code:"custom",..."string"==typeof e?{message:e}:e,fatal:o})}}):rF.create()}ns.create=(e,t)=>new ns({innerType:e,typeName:b.ZodReadonly,...rh(t)});let nl={object:rz.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(b||(b={}));let nu=rI.create,nc=rN.create,nd=nr.create,nh=rj.create,np=r$.create,nf=rM.create,nm=rD.create,ng=rL.create,ny=rU.create,nv=rF.create,n_=rZ.create,nb=rq.create,nw=rB.create,nx=rH.create,nS=rz.create,nE=rz.strictCreate,nT=rV.create,nk=rJ.create,nC=rG.create,nA=rK.create,nR=rY.create,nO=rX.create,nP=rQ.create,nI=r0.create,nN=r1.create,nj=r9.create,n$=r2.create,nM=r3.create,nD=r6.create,nL=r7.create,nU=r5.create,nF=r8.create,nZ=r7.createWithPreprocess,nq=ni.create;var nB=Object.freeze({__proto__:null,defaultErrorMap:t3,setErrorMap:function(e){t6=e},getErrorMap:t7,makeIssue:t5,EMPTY_PATH:[],addIssueToContext:t8,ParseStatus:re,INVALID:rt,DIRTY:rr,OK:rn,isAborted:ra,isDirty:ri,isValid:rs,isAsync:ro,get util(){return m},get objectUtil(){return g},ZodParsedType:t1,getParsedType:t9,ZodType:rp,datetimeRegex:rP,ZodString:rI,ZodNumber:rN,ZodBigInt:rj,ZodBoolean:r$,ZodDate:rM,ZodSymbol:rD,ZodUndefined:rL,ZodNull:rU,ZodAny:rF,ZodUnknown:rZ,ZodNever:rq,ZodVoid:rB,ZodArray:rH,ZodObject:rz,ZodUnion:rV,ZodDiscriminatedUnion:rJ,ZodIntersection:rG,ZodTuple:rK,ZodRecord:rY,ZodMap:rX,ZodSet:rQ,ZodFunction:r0,ZodLazy:r1,ZodLiteral:r9,ZodEnum:r2,ZodNativeEnum:r3,ZodPromise:r6,ZodEffects:r7,ZodTransformer:r7,ZodOptional:r5,ZodNullable:r8,ZodDefault:ne,ZodCatch:nt,ZodNaN:nr,BRAND:nn,ZodBranded:na,ZodPipeline:ni,ZodReadonly:ns,custom:no,Schema:rp,ZodSchema:rp,late:nl,get ZodFirstPartyTypeKind(){return b},coerce:{string:e=>rI.create({...e,coerce:!0}),number:e=>rN.create({...e,coerce:!0}),boolean:e=>r$.create({...e,coerce:!0}),bigint:e=>rj.create({...e,coerce:!0}),date:e=>rM.create({...e,coerce:!0})},any:nv,array:nx,bigint:nh,boolean:np,date:nf,discriminatedUnion:nk,effect:nL,enum:n$,function:nI,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>no(t=>t instanceof e,t),intersection:nC,lazy:nN,literal:nj,map:nO,nan:nd,nativeEnum:nM,never:nb,null:ny,nullable:nF,number:nc,object:nS,oboolean:()=>np().optional(),onumber:()=>nc().optional(),optional:nU,ostring:()=>nu().optional(),pipeline:nq,preprocess:nZ,promise:nD,record:nR,set:nP,strictObject:nE,string:nu,symbol:nm,transformer:nL,tuple:nA,undefined:ng,union:nT,unknown:n_,void:nw,NEVER:rt,ZodIssueCode:t4,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:t2});let nH=Symbol("Let zodToJsonSchema decide on which parser to use"),nz={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},nV=e=>"string"==typeof e?{...nz,name:e}:{...nz,...e},nW=e=>{let t=nV(e),r=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([e,r])=>[r._def,{def:r._def,path:[...t.basePath,t.definitionPath,e],jsonSchema:void 0}]))}};function nJ(e,t,r,n){n?.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}function nG(e,t,r,n,a){e[t]=r,nJ(e,t,n,a)}function nK(e,t){return an(e.type._def,t)}let nY=(e,t)=>an(e.innerType._def,t),nX=(e,t)=>{let r={type:"integer",format:"unix-time"};if("openApi3"===t.target)return r;for(let n of e.checks)switch(n.kind){case"min":nG(r,"minimum",n.value,n.message,t);break;case"max":nG(r,"maximum",n.value,n.message,t)}return r},nQ=e=>(!("type"in e)||"string"!==e.type)&&"allOf"in e,n0={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===o&&(o=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),o),ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function n1(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":nG(r,"minLength","number"==typeof r.minLength?Math.max(r.minLength,n.value):n.value,n.message,t);break;case"max":nG(r,"maxLength","number"==typeof r.maxLength?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"email":switch(t.emailStrategy){case"format:email":n2(r,"email",n.message,t);break;case"format:idn-email":n2(r,"idn-email",n.message,t);break;case"pattern:zod":n3(r,n0.email,n.message,t)}break;case"url":n2(r,"uri",n.message,t);break;case"uuid":n2(r,"uuid",n.message,t);break;case"regex":n3(r,n.regex,n.message,t);break;case"cuid":n3(r,n0.cuid,n.message,t);break;case"cuid2":n3(r,n0.cuid2,n.message,t);break;case"startsWith":n3(r,RegExp(`^${n9(n.value,t)}`),n.message,t);break;case"endsWith":n3(r,RegExp(`${n9(n.value,t)}$`),n.message,t);break;case"datetime":n2(r,"date-time",n.message,t);break;case"date":n2(r,"date",n.message,t);break;case"time":n2(r,"time",n.message,t);break;case"duration":n2(r,"duration",n.message,t);break;case"length":nG(r,"minLength","number"==typeof r.minLength?Math.max(r.minLength,n.value):n.value,n.message,t),nG(r,"maxLength","number"==typeof r.maxLength?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"includes":n3(r,RegExp(n9(n.value,t)),n.message,t);break;case"ip":"v6"!==n.version&&n2(r,"ipv4",n.message,t),"v4"!==n.version&&n2(r,"ipv6",n.message,t);break;case"base64url":n3(r,n0.base64url,n.message,t);break;case"jwt":n3(r,n0.jwt,n.message,t);break;case"cidr":"v6"!==n.version&&n3(r,n0.ipv4Cidr,n.message,t),"v4"!==n.version&&n3(r,n0.ipv6Cidr,n.message,t);break;case"emoji":n3(r,n0.emoji(),n.message,t);break;case"ulid":n3(r,n0.ulid,n.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":n2(r,"binary",n.message,t);break;case"contentEncoding:base64":nG(r,"contentEncoding","base64",n.message,t);break;case"pattern:zod":n3(r,n0.base64,n.message,t)}break;case"nanoid":n3(r,n0.nanoid,n.message,t)}return r}function n9(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let r=0;r<e.length;r++)n4.has(e[r])||(t+="\\"),t+=e[r];return t}(e):e}let n4=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function n2(e,t,r,n){e.format||e.anyOf?.some(e=>e.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):nG(e,"format",t,r,n)}function n3(e,t,r,n){e.pattern||e.allOf?.some(e=>e.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push({pattern:n6(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):nG(e,"pattern",n6(t,n),r,n)}function n6(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=r.i?e.source.toLowerCase():e.source,a="",i=!1,s=!1,o=!1;for(let e=0;e<n.length;e++){if(i){a+=n[e],i=!1;continue}if(r.i){if(s){if(n[e].match(/[a-z]/)){o?(a+=n[e]+`${n[e-2]}-${n[e]}`.toUpperCase(),o=!1):"-"===n[e+1]&&n[e+2]?.match(/[a-z]/)?(a+=n[e],o=!0):a+=`${n[e]}${n[e].toUpperCase()}`;continue}}else if(n[e].match(/[a-z]/)){a+=`[${n[e]}${n[e].toUpperCase()}]`;continue}}if(r.m){if("^"===n[e]){a+=`(^|(?<=[\r
]))`;continue}if("$"===n[e]){a+=`($|(?=[\r
]))`;continue}}if(r.s&&"."===n[e]){a+=s?`${n[e]}\r
`:`[${n[e]}\r
]`;continue}a+=n[e],"\\"===n[e]?i=!0:s&&"]"===n[e]?s=!1:s||"["!==n[e]||(s=!0)}try{new RegExp(a)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return a}function n7(e,t){if("openAi"===t.target&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),"openApi3"===t.target&&e.keyType?._def.typeName===b.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((r,n)=>({...r,[n]:an(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",n]})??{}}),{}),additionalProperties:!1};let r={type:"object",additionalProperties:an(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if("openApi3"===t.target)return r;if(e.keyType?._def.typeName===b.ZodString&&e.keyType._def.checks?.length){let{type:n,...a}=n1(e.keyType._def,t);return{...r,propertyNames:a}}if(e.keyType?._def.typeName===b.ZodEnum)return{...r,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===b.ZodBranded&&e.keyType._def.type._def.typeName===b.ZodString&&e.keyType._def.type._def.checks?.length){let{type:n,...a}=nK(e.keyType._def,t);return{...r,propertyNames:a}}return r}let n5={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"},n8=(e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((e,r)=>an(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${r}`]})).filter(e=>!!e&&(!t.strictUnions||"object"==typeof e&&Object.keys(e).length>0));return r.length?{anyOf:r}:void 0},ae=(e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return an(e.innerType._def,t);let r=an(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}},at=(e,t)=>{if("input"===t.pipeStrategy)return an(e.in._def,t);if("output"===t.pipeStrategy)return an(e.out._def,t);let r=an(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=an(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(e=>void 0!==e)}},ar=(e,t)=>an(e.innerType._def,t);function an(e,t,r=!1){let n=t.seen.get(e);if(t.override){let a=t.override?.(e,t,n,r);if(a!==nH)return a}if(n&&!r){let e=aa(n,t);if(void 0!==e)return e}let a={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,a);let i=as(e,e.typeName,t);return i&&ao(e,t,i),a.jsonSchema=i,i}let aa=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:ai(t.currentPath,e.path)};case"none":case"seen":if(e.path.length<t.currentPath.length&&e.path.every((e,r)=>t.currentPath[r]===e))return console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{};return"seen"===t.$refStrategy?{}:void 0}},ai=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},as=(e,t,r)=>{switch(t){case b.ZodString:return n1(e,r);case b.ZodNumber:return function(e,t){let r={type:"number"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"int":r.type="integer",nJ(r,"type",n.message,t);break;case"min":"jsonSchema7"===t.target?n.inclusive?nG(r,"minimum",n.value,n.message,t):nG(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),nG(r,"minimum",n.value,n.message,t));break;case"max":"jsonSchema7"===t.target?n.inclusive?nG(r,"maximum",n.value,n.message,t):nG(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),nG(r,"maximum",n.value,n.message,t));break;case"multipleOf":nG(r,"multipleOf",n.value,n.message,t)}return r}(e,r);case b.ZodObject:return function(e,t){let r="openAi"===t.target,n={type:"object",...Object.entries(e.shape()).reduce((e,[n,a])=>{if(void 0===a||void 0===a._def)return e;let i=a.isOptional();i&&r&&(a instanceof r5&&(a=a._def.innerType),a.isNullable()||(a=a.nullable()),i=!1);let s=an(a._def,{...t,currentPath:[...t.currentPath,"properties",n],propertyPath:[...t.currentPath,"properties",n]});return void 0===s?e:{properties:{...e.properties,[n]:s},required:i?e.required:[...e.required,n]}},{properties:{},required:[]}),additionalProperties:"strict"===t.removeAdditionalStrategy?"ZodNever"===e.catchall._def.typeName?"strict"!==e.unknownKeys:an(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:"ZodNever"===e.catchall._def.typeName?"passthrough"===e.unknownKeys:an(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0};return n.required.length||delete n.required,n}(e,r);case b.ZodBigInt:return function(e,t){let r={type:"integer",format:"int64"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"min":"jsonSchema7"===t.target?n.inclusive?nG(r,"minimum",n.value,n.message,t):nG(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),nG(r,"minimum",n.value,n.message,t));break;case"max":"jsonSchema7"===t.target?n.inclusive?nG(r,"maximum",n.value,n.message,t):nG(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),nG(r,"maximum",n.value,n.message,t));break;case"multipleOf":nG(r,"multipleOf",n.value,n.message,t)}return r}(e,r);case b.ZodBoolean:return{type:"boolean"};case b.ZodDate:return function e(t,r,n){let a=n??r.dateStrategy;if(Array.isArray(a))return{anyOf:a.map((n,a)=>e(t,r,n))};switch(a){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return nX(t,r)}}(e,r);case b.ZodUndefined:return{not:{}};case b.ZodNull:return"openApi3"===r.target?{enum:["null"],nullable:!0}:{type:"null"};case b.ZodArray:return function(e,t){let r={type:"array"};return e.type?._def&&e.type?._def?.typeName!==b.ZodAny&&(r.items=an(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&nG(r,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&nG(r,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(nG(r,"minItems",e.exactLength.value,e.exactLength.message,t),nG(r,"maxItems",e.exactLength.value,e.exactLength.message,t)),r}(e,r);case b.ZodUnion:case b.ZodDiscriminatedUnion:return function(e,t){if("openApi3"===t.target)return n8(e,t);let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(e=>e._def.typeName in n5&&(!e._def.checks||!e._def.checks.length))){let e=r.reduce((e,t)=>{let r=n5[t._def.typeName];return r&&!e.includes(r)?[...e,r]:e},[]);return{type:e.length>1?e:e[0]}}if(r.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){let e=r.reduce((e,t)=>{let r=typeof t._def.value;switch(r){case"string":case"number":case"boolean":return[...e,r];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===r.length){let t=e.filter((e,t,r)=>r.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:r.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(r.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:r.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return n8(e,t)}(e,r);case b.ZodIntersection:return function(e,t){let r=[an(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),an(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(e=>!!e),n="jsonSchema2019-09"===t.target?{unevaluatedProperties:!1}:void 0,a=[];return r.forEach(e=>{if(nQ(e))a.push(...e.allOf),void 0===e.unevaluatedProperties&&(n=void 0);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){let{additionalProperties:r,...n}=e;t=n}else n=void 0;a.push(t)}}),a.length?{allOf:a,...n}:void 0}(e,r);case b.ZodTuple:return function(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,r)=>an(e._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:an(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,r)=>an(e._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[])}}(e,r);case b.ZodRecord:return n7(e,r);case b.ZodLiteral:return function(e,t){let r=typeof e.value;return"bigint"!==r&&"number"!==r&&"boolean"!==r&&"string"!==r?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===t.target?{type:"bigint"===r?"integer":r,enum:[e.value]}:{type:"bigint"===r?"integer":r,const:e.value}}(e,r);case b.ZodEnum:return{type:"string",enum:Array.from(e.values)};case b.ZodNativeEnum:return function(e){let t=e.values,r=Object.keys(e.values).filter(e=>"number"!=typeof t[t[e]]).map(e=>t[e]),n=Array.from(new Set(r.map(e=>typeof e)));return{type:1===n.length?"string"===n[0]?"string":"number":["string","number"],enum:r}}(e);case b.ZodNullable:return function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===t.target?{type:n5[e.innerType._def.typeName],nullable:!0}:{type:[n5[e.innerType._def.typeName],"null"]};if("openApi3"===t.target){let r=an(e.innerType._def,{...t,currentPath:[...t.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}let r=an(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}(e,r);case b.ZodOptional:return ae(e,r);case b.ZodMap:return function(e,t){return"record"===t.mapStrategy?n7(e,t):{type:"array",maxItems:125,items:{type:"array",items:[an(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},an(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}}}(e,r);case b.ZodSet:return function(e,t){let r={type:"array",uniqueItems:!0,items:an(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&nG(r,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&nG(r,"maxItems",e.maxSize.value,e.maxSize.message,t),r}(e,r);case b.ZodLazy:return an(e.getter()._def,r);case b.ZodPromise:return an(e.type._def,r);case b.ZodNaN:case b.ZodNever:return{not:{}};case b.ZodEffects:return function(e,t){return"input"===t.effectStrategy?an(e.schema._def,t):{}}(e,r);case b.ZodAny:case b.ZodUnknown:return{};case b.ZodDefault:return function(e,t){return{...an(e.innerType._def,t),default:e.defaultValue()}}(e,r);case b.ZodBranded:return nK(e,r);case b.ZodReadonly:return ar(e,r);case b.ZodCatch:return nY(e,r);case b.ZodPipeline:return at(e,r);case b.ZodFunction:case b.ZodVoid:case b.ZodSymbol:default:return}},ao=(e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r),al=(e,t)=>{let r=nW(t),n="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce((e,[t,n])=>({...e,[t]:an(n._def,{...r,currentPath:[...r.basePath,r.definitionPath,t]},!0)??{}}),{}):void 0,a="string"==typeof t?t:t?.nameStrategy==="title"?void 0:t?.name,i=an(e._def,void 0===a?r:{...r,currentPath:[...r.basePath,r.definitionPath,a]},!1)??{},s="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==s&&(i.title=s);let o=void 0===a?n?{...i,[r.definitionPath]:n}:i:{$ref:[..."relative"===r.$refStrategy?[]:r.basePath,r.definitionPath,a].join("/"),[r.definitionPath]:{...n,[a]:i}};return"jsonSchema7"===r.target?o.$schema="http://json-schema.org/draft-07/schema#":("jsonSchema2019-09"===r.target||"openAi"===r.target)&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),"openAi"===r.target&&("anyOf"in o||"oneOf"in o||"allOf"in o||"type"in o&&Array.isArray(o.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),o};var au={code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw Error('"text" parts expect a string value.');return{type:"text",value:e}}},ac={code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw Error('"error" parts expect a string value.');return{type:"error",value:e}}},ad={code:"4",name:"assistant_message",parse:e=>{if(null==e||"object"!=typeof e||!("id"in e)||!("role"in e)||!("content"in e)||"string"!=typeof e.id||"string"!=typeof e.role||"assistant"!==e.role||!Array.isArray(e.content)||!e.content.every(e=>null!=e&&"object"==typeof e&&"type"in e&&"text"===e.type&&"text"in e&&null!=e.text&&"object"==typeof e.text&&"value"in e.text&&"string"==typeof e.text.value))throw Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},ah={code:"5",name:"assistant_control_data",parse:e=>{if(null==e||"object"!=typeof e||!("threadId"in e)||!("messageId"in e)||"string"!=typeof e.threadId||"string"!=typeof e.messageId)throw Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},ap={code:"6",name:"data_message",parse:e=>{if(null==e||"object"!=typeof e||!("role"in e)||!("data"in e)||"string"!=typeof e.role||"data"!==e.role)throw Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}};au.code,ac.code,ad.code,ah.code,ap.code,au.name,au.code,ac.name,ac.code,ad.name,ad.code,ah.name,ah.code,ap.name,ap.code,[au,ac,ad,ah,ap].map(e=>e.code);var af={code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw Error('"text" parts expect a string value.');return{type:"text",value:e}}},am={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw Error('"data" parts expect an array value.');return{type:"data",value:e}}},ag={code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw Error('"error" parts expect a string value.');return{type:"error",value:e}}},ay={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},av={code:"9",name:"tool_call",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName||!("args"in e)||"object"!=typeof e.args)throw Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},a_={code:"a",name:"tool_result",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("result"in e))throw Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},ab={code:"b",name:"tool_call_streaming_start",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName)throw Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},aw={code:"c",name:"tool_call_delta",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("argsTextDelta"in e)||"string"!=typeof e.argsTextDelta)throw Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},ax={code:"d",name:"finish_message",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw Error('"finish_message" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}}},aS={code:"e",name:"finish_step",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw Error('"finish_step" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&"boolean"==typeof e.isContinued&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}}},aE=[af,am,ag,ay,av,a_,ab,aw,ax,aS],aT={[af.code]:af,[am.code]:am,[ag.code]:ag,[ay.code]:ay,[av.code]:av,[a_.code]:a_,[ab.code]:ab,[aw.code]:aw,[ax.code]:ax,[aS.code]:aS};af.name,af.code,am.name,am.code,ag.name,ag.code,ay.name,ay.code,av.name,av.code,a_.name,a_.code,ab.name,ab.code,aw.name,aw.code,ax.name,ax.code,aS.name,aS.code;var ak=aE.map(e=>e.code),aC=e=>{let t=e.indexOf(":");if(-1===t)throw Error("Failed to parse stream string. No separator found.");let r=e.slice(0,t);if(!ak.includes(r))throw Error(`Failed to parse stream string. Invalid code ${r}.`);let n=JSON.parse(e.slice(t+1));return aT[r].parse(n)};function aA(e,t){let r=aE.find(t=>t.name===e);if(!r)throw Error(`Invalid stream part type: ${e}`);return`${r.code}:${JSON.stringify(t)}
`}var aR=Symbol.for("vercel.ai.schema"),aO=Object.defineProperty,aP=(e,t)=>{for(var r in t)aO(e,r,{get:t[r],enumerable:!0})};function aI(e,{contentType:t,dataStreamVersion:r}){let n=new Headers(null!=e?e:{});return n.has("Content-Type")||n.set("Content-Type",t),void 0!==r&&n.set("X-Vercel-AI-Data-Stream",r),n}var aN="AI_InvalidArgumentError",aj=`vercel.ai.error.${aN}`,a$=Symbol.for(aj),aM=class extends tE{constructor({parameter:e,value:t,message:r}){super({name:aN,message:`Invalid argument for parameter ${e}: ${r}`}),this[w]=!0,this.parameter=e,this.value=t}static isInstance(e){return tE.hasMarker(e,aj)}};async function aD(e){return null==e?Promise.resolve():new Promise(t=>setTimeout(t,e))}w=a$;var aL="AI_RetryError",aU=`vercel.ai.error.${aL}`,aF=Symbol.for(aU),aZ=class extends tE{constructor({message:e,reason:t,errors:r}){super({name:aL,message:e}),this[x]=!0,this.reason=t,this.errors=r,this.lastError=r[r.length-1]}static isInstance(e){return tE.hasMarker(e,aU)}};x=aF;var aq=({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:r=2}={})=>async n=>aB(n,{maxRetries:e,delayInMs:t,backoffFactor:r});async function aB(e,{maxRetries:t,delayInMs:r,backoffFactor:n},a=[]){try{return await e()}catch(l){if(isAbortError(l)||0===t)throw l;let i=getErrorMessage(l),s=[...a,l],o=s.length;if(o>t)throw new aZ({message:`Failed after ${o} attempts. Last error: ${i}`,reason:"maxRetriesExceeded",errors:s});if(l instanceof Error&&APICallError.isInstance(l)&&!0===l.isRetryable&&o<=t)return await aD(r),aB(e,{maxRetries:t,delayInMs:n*r,backoffFactor:n},s);if(1===o)throw l;throw new aZ({message:`Failed after ${o} attempts with non-retryable error: '${i}'`,reason:"errorNotRetryable",errors:s})}}var aH={startSpan:()=>az,startActiveSpan:(e,t,r,n)=>"function"==typeof t?t(az):"function"==typeof r?r(az):"function"==typeof n?n(az):void 0},az={spanContext:()=>aV,setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording:()=>!1,recordException(){return this}},aV={traceId:"",spanId:"",traceFlags:0},aW="AI_NoObjectGeneratedError",aJ=`vercel.ai.error.${aW}`,aG=Symbol.for(aJ),aK=class extends tE{constructor({message:e="No object generated.",cause:t,text:r,response:n,usage:a}){super({name:aW,message:e,cause:t}),this[S]=!0,this.text=r,this.response=n,this.usage=a}static isInstance(e){return tE.hasMarker(e,aJ)}};S=aG;var aY="AI_DownloadError",aX=`vercel.ai.error.${aY}`,aQ=Symbol.for(aX),a0=class extends tE{constructor({url:e,statusCode:t,statusText:r,cause:n,message:a=null==n?`Failed to download ${e}: ${t} ${r}`:`Failed to download ${e}: ${n}`}){super({name:aY,message:a,cause:n}),this[E]=!0,this.url=e,this.statusCode=t,this.statusText=r}static isInstance(e){return tE.hasMarker(e,aX)}};async function a1({url:e,fetchImplementation:t=fetch}){var r;let n=e.toString();try{let e=await t(n);if(!e.ok)throw new a0({url:n,statusCode:e.status,statusText:e.statusText});return{data:new Uint8Array(await e.arrayBuffer()),mimeType:null!=(r=e.headers.get("content-type"))?r:void 0}}catch(e){if(a0.isInstance(e))throw e;throw new a0({url:n,cause:e})}}E=aQ;var a9=[{mimeType:"image/gif",bytes:[71,73,70]},{mimeType:"image/png",bytes:[137,80,78,71]},{mimeType:"image/jpeg",bytes:[255,216]},{mimeType:"image/webp",bytes:[82,73,70,70]}],a4="AI_InvalidDataContentError",a2=`vercel.ai.error.${a4}`,a3=Symbol.for(a2),a6=class extends tE{constructor({content:e,cause:t,message:r=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:a4,message:r,cause:t}),this[T]=!0,this.content=e}static isInstance(e){return tE.hasMarker(e,a2)}};T=a3;var a7=nB.union([nB.string(),nB.instanceof(Uint8Array),nB.instanceof(ArrayBuffer),nB.custom(e=>{var t,r;return null!=(r=null==(t=globalThis.Buffer)?void 0:t.isBuffer(e))&&r},{message:"Must be a Buffer"})]);function a5(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)try{return convertBase64ToUint8Array2(e)}catch(t){throw new a6({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:t})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new a6({content:e})}var a8="AI_InvalidMessageRoleError",ie=`vercel.ai.error.${a8}`,it=Symbol.for(ie),ir=class extends tE{constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:a8,message:t}),this[k]=!0,this.role=e}static isInstance(e){return tE.hasMarker(e,ie)}};async function ia(e,t,r,n){let a=e.filter(e=>"user"===e.role).map(e=>e.content).filter(e=>Array.isArray(e)).flat().filter(e=>"image"===e.type||"file"===e.type).filter(e=>!("image"===e.type&&!0===r)).map(e=>"image"===e.type?e.image:e.data).map(e=>"string"==typeof e&&(e.startsWith("http:")||e.startsWith("https:"))?new URL(e):e).filter(e=>e instanceof URL).filter(e=>!n(e));return Object.fromEntries((await Promise.all(a.map(async e=>({url:e,data:await t({url:e})})))).map(({url:e,data:t})=>[e.toString(),t]))}k=it;var ii=nB.lazy(()=>nB.union([nB.null(),nB.string(),nB.number(),nB.boolean(),nB.record(nB.string(),ii),nB.array(ii)])),is=nB.record(nB.string(),nB.record(nB.string(),ii)),io=nB.array(nB.union([nB.object({type:nB.literal("text"),text:nB.string()}),nB.object({type:nB.literal("image"),data:nB.string(),mimeType:nB.string().optional()})])),il=nB.object({type:nB.literal("text"),text:nB.string(),experimental_providerMetadata:is.optional()}),iu=nB.object({type:nB.literal("image"),image:nB.union([a7,nB.instanceof(URL)]),mimeType:nB.string().optional(),experimental_providerMetadata:is.optional()}),ic=nB.object({type:nB.literal("file"),data:nB.union([a7,nB.instanceof(URL)]),mimeType:nB.string(),experimental_providerMetadata:is.optional()}),id=nB.object({type:nB.literal("tool-call"),toolCallId:nB.string(),toolName:nB.string(),args:nB.unknown()}),ih=nB.object({type:nB.literal("tool-result"),toolCallId:nB.string(),toolName:nB.string(),result:nB.unknown(),content:io.optional(),isError:nB.boolean().optional(),experimental_providerMetadata:is.optional()}),ip=nB.object({role:nB.literal("system"),content:nB.string(),experimental_providerMetadata:is.optional()}),im=nB.object({role:nB.literal("user"),content:nB.union([nB.string(),nB.array(nB.union([il,iu,ic]))]),experimental_providerMetadata:is.optional()}),ig=nB.object({role:nB.literal("assistant"),content:nB.union([nB.string(),nB.array(nB.union([il,id]))]),experimental_providerMetadata:is.optional()}),iy=nB.object({role:nB.literal("tool"),content:nB.array(ih),experimental_providerMetadata:is.optional()}),iv=nB.union([ip,im,ig,iy]);function i_(e){return"object"==typeof e&&null!==e&&("function"===e.role||"data"===e.role||"toolInvocations"in e||"experimental_attachments"in e)?"has-ui-specific-parts":"object"==typeof e&&null!==e&&"content"in e&&(Array.isArray(e.content)||"experimental_providerMetadata"in e)?"has-core-specific-parts":"object"==typeof e&&null!==e&&"role"in e&&"content"in e&&"string"==typeof e.content&&["system","user","assistant","tool"].includes(e.role)?"message":"other"}var ib="AI_MessageConversionError",iw=`vercel.ai.error.${ib}`,ix=Symbol.for(iw),iS=class extends tE{constructor({originalMessage:e,message:t}){super({name:ib,message:t}),this[C]=!0,this.originalMessage=e}static isInstance(e){return tE.hasMarker(e,iw)}};C=ix;tG({prefix:"aiobj",size:24});function iE(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}}tG({prefix:"aiobj",size:24});var iT="AI_NoOutputSpecifiedError",ik=`vercel.ai.error.${iT}`;A=Symbol.for(ik);var iC="AI_ToolExecutionError",iA=`vercel.ai.error.${iC}`;R=Symbol.for(iA);var iR="AI_InvalidToolArgumentsError",iO=`vercel.ai.error.${iR}`,iP=Symbol.for(iO),iI=class extends tE{constructor({toolArgs:e,toolName:t,cause:r,message:n=`Invalid arguments for tool ${t}: ${tT(r)}`}){super({name:iR,message:n,cause:r}),this[O]=!0,this.toolArgs=e,this.toolName=t}static isInstance(e){return tE.hasMarker(e,iO)}};O=iP;var iN="AI_NoSuchToolError",ij=`vercel.ai.error.${iN}`,i$=Symbol.for(ij),iM=class extends tE{constructor({toolName:e,availableTools:t,message:r=`Model tried to call unavailable tool '${e}'. ${void 0===t?"No tools are available.":`Available tools: ${t.join(", ")}.`}`}){super({name:iN,message:r}),this[P]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return tE.hasMarker(e,ij)}};P=i$;var iD="AI_ToolCallRepairError",iL=`vercel.ai.error.${iD}`,iU=Symbol.for(iL),iF=class extends tE{constructor({cause:e,originalError:t,message:r=`Error repairing tool call: ${tT(e)}`}){super({name:iD,message:r,cause:e}),this[I]=!0,this.originalError=t}static isInstance(e){return tE.hasMarker(e,iL)}};async function iZ({toolCall:e,tools:t}){let r=e.toolName,n=t[r];if(null==n)throw new iM({toolName:e.toolName,availableTools:Object.keys(t)});let a=asSchema3(n.parameters),i=""===e.args.trim()?safeValidateTypes3({value:{},schema:a}):safeParseJSON2({text:e.args,schema:a});if(!1===i.success)throw new iI({toolName:r,toolArgs:e.args,cause:i.error});return{type:"tool-call",toolCallId:e.toolCallId,toolName:r,args:i.value}}I=iU,tG({prefix:"aitxt",size:24}),aP({},{object:()=>iB,text:()=>iq});var iq=()=>({type:"text",responseFormat:()=>({type:"text"}),injectIntoSystemPrompt:({system:e})=>e,parsePartial:({text:e})=>({partial:e}),parseOutput:({text:e})=>e}),iB=({schema:e})=>{let t=function(e){return"object"==typeof e&&null!==e&&aR in e&&!0===e[aR]&&"jsonSchema"in e&&"validate"in e?e:function(e,{validate:t}={}){return{[aR]:!0,_type:void 0,[tK]:!0,jsonSchema:e,validate:t}}(al(e),{validate:t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}}})}(e);return{type:"object",responseFormat:({model:e})=>({type:"json",schema:e.supportsStructuredOutputs?t.jsonSchema:void 0}),injectIntoSystemPrompt:({system:e,model:r})=>r.supportsStructuredOutputs?e:function({prompt:e,schema:t,schemaPrefix:r=null!=t?"JSON schema:":void 0,schemaSuffix:n=null!=t?"You MUST answer with a JSON object that matches the JSON schema above.":"You MUST answer with JSON."}){return[null!=e&&e.length>0?e:void 0,null!=e&&e.length>0?"":void 0,r,null!=t?JSON.stringify(t):void 0,n].filter(e=>null!=e).join("\n")}({prompt:e,schema:t.jsonSchema}),parsePartial({text:e}){let t=function(e){if(void 0===e)return{value:void 0,state:"undefined-input"};let t=tX({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=tX({text:function(e){let t=["ROOT"],r=-1,n=null;function a(e,a,i){switch(e){case'"':r=a,t.pop(),t.push(i),t.push("INSIDE_STRING");break;case"f":case"t":case"n":r=a,n=a,t.pop(),t.push(i),t.push("INSIDE_LITERAL");break;case"-":t.pop(),t.push(i),t.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=a,t.pop(),t.push(i),t.push("INSIDE_NUMBER");break;case"{":r=a,t.pop(),t.push(i),t.push("INSIDE_OBJECT_START");break;case"[":r=a,t.pop(),t.push(i),t.push("INSIDE_ARRAY_START")}}function i(e,n){switch(e){case",":t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":r=n,t.pop()}}function s(e,n){switch(e){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":r=n,t.pop()}}for(let o=0;o<e.length;o++){let l=e[o];switch(t[t.length-1]){case"ROOT":a(l,o,"FINISH");break;case"INSIDE_OBJECT_START":switch(l){case'"':t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"}":r=o,t.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":'"'===l&&(t.pop(),t.push("INSIDE_OBJECT_KEY"));break;case"INSIDE_OBJECT_KEY":'"'===l&&(t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY"));break;case"INSIDE_OBJECT_AFTER_KEY":":"===l&&(t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE"));break;case"INSIDE_OBJECT_BEFORE_VALUE":a(l,o,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":i(l,o);break;case"INSIDE_STRING":switch(l){case'"':t.pop(),r=o;break;case"\\":t.push("INSIDE_STRING_ESCAPE");break;default:r=o}break;case"INSIDE_ARRAY_START":"]"===l?(r=o,t.pop()):(r=o,a(l,o,"INSIDE_ARRAY_AFTER_VALUE"));break;case"INSIDE_ARRAY_AFTER_VALUE":switch(l){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":r=o,t.pop();break;default:r=o}break;case"INSIDE_ARRAY_AFTER_COMMA":a(l,o,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":t.pop(),r=o;break;case"INSIDE_NUMBER":switch(l){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=o;break;case"e":case"E":case"-":case".":break;case",":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&s(l,o),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&i(l,o);break;case"}":t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&i(l,o);break;case"]":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&s(l,o);break;default:t.pop()}break;case"INSIDE_LITERAL":{let a=e.substring(n,o+1);"false".startsWith(a)||"true".startsWith(a)||"null".startsWith(a)?r=o:(t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]?i(l,o):"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&s(l,o))}}}let o=e.slice(0,r+1);for(let r=t.length-1;r>=0;r--)switch(t[r]){case"INSIDE_STRING":o+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":o+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":o+="]";break;case"INSIDE_LITERAL":{let t=e.substring(n,e.length);"true".startsWith(t)?o+="true".slice(t.length):"false".startsWith(t)?o+="false".slice(t.length):"null".startsWith(t)&&(o+="null".slice(t.length))}}return o}(e)})).success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"}}(e);switch(t.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:t.value};default:{let e=t.state;throw Error(`Unsupported parse state: ${e}`)}}},parseOutput({text:e},r){let n=tX({text:e});if(!n.success)throw new aK({message:"No object generated: could not parse the response.",cause:n.error,text:e,response:r.response,usage:r.usage});let a=tY({value:n.value,schema:t});if(!a.success)throw new aK({message:"No object generated: response did not match schema.",cause:a.error,text:e,response:r.response,usage:r.usage});return a.value}}};function iH(e,t){let r,n;let a=e.getReader(),i=t.getReader(),s=!1,o=!1;async function l(e){try{null==r&&(r=a.read());let t=await r;r=void 0,t.done?e.close():e.enqueue(t.value)}catch(t){e.error(t)}}async function u(e){try{null==n&&(n=i.read());let t=await n;n=void 0,t.done?e.close():e.enqueue(t.value)}catch(t){e.error(t)}}return new ReadableStream({async pull(e){try{if(s){await u(e);return}if(o){await l(e);return}null==r&&(r=a.read()),null==n&&(n=i.read());let{result:t,reader:c}=await Promise.race([r.then(e=>({result:e,reader:a})),n.then(e=>({result:e,reader:i}))]);t.done||e.enqueue(t.value),c===a?(r=void 0,t.done&&(await u(e),s=!0)):(n=void 0,t.done&&(o=!0,await l(e)))}catch(t){e.error(t)}},cancel(){a.cancel(),i.cancel()}})}tG({prefix:"aitxt",size:24});var iz="AI_NoSuchProviderError",iV=`vercel.ai.error.${iz}`;function iW(e={}){let t=new TextEncoder,r="";return new TransformStream({async start(){e.onStart&&await e.onStart()},async transform(n,a){a.enqueue(t.encode(n)),r+=n,e.onToken&&await e.onToken(n),e.onText&&"string"==typeof n&&await e.onText(n)},async flush(){e.onCompletion&&await e.onCompletion(r),e.onFinal&&await e.onFinal(r)}})}function iJ(e,t){return e.pipeThrough(new TransformStream({transform:async(e,t)=>{var r;if("string"==typeof e){t.enqueue(e);return}if("event"in e){"on_chat_model_stream"===e.event&&iX(null==(r=e.data)?void 0:r.chunk,t);return}iX(e,t)}})).pipeThrough(iW(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(e,t)=>{t.enqueue(aA("text",e))}}))}function iG(e,t){return iJ(e,t).pipeThrough(new TextEncoderStream)}function iK(e,t){var r;let n=iJ(e,null==t?void 0:t.callbacks).pipeThrough(new TextEncoderStream),a=null==t?void 0:t.data,i=null==t?void 0:t.init;return new Response(a?iH(a.stream,n):n,{status:null!=(r=null==i?void 0:i.status)?r:200,statusText:null==i?void 0:i.statusText,headers:aI(null==i?void 0:i.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function iY(e,t){t.dataStream.merge(iJ(e,t.callbacks))}function iX(e,t){if("string"==typeof e.content)t.enqueue(e.content);else for(let r of e.content)"text"===r.type&&t.enqueue(r.text)}function iQ(e,t){var r;let n;let a=(n=!0,e=>(n&&(e=e.trimStart())&&(n=!1),e));return(r=e[Symbol.asyncIterator](),new ReadableStream({async pull(e){try{let{value:t,done:n}=await r.next();n?e.close():e.enqueue(t)}catch(t){e.error(t)}},cancel(){}})).pipeThrough(new TransformStream({async transform(e,t){t.enqueue(a(e.delta))}})).pipeThrough(iW(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(e,t)=>{t.enqueue(aA("text",e))}}))}function i0(e,t){return iQ(e,t).pipeThrough(new TextEncoderStream)}function i1(e,t={}){var r;let{init:n,data:a,callbacks:i}=t,s=iQ(e,i).pipeThrough(new TextEncoderStream);return new Response(a?iH(a.stream,s):s,{status:null!=(r=null==n?void 0:n.status)?r:200,statusText:null==n?void 0:n.statusText,headers:aI(null==n?void 0:n.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function i9(e,t){t.dataStream.merge(iQ(e,t.callbacks))}N=Symbol.for(iV),aP({},{mergeIntoDataStream:()=>iY,toDataStream:()=>iG,toDataStreamResponse:()=>iK}),aP({},{mergeIntoDataStream:()=>i9,toDataStream:()=>i0,toDataStreamResponse:()=>i1});let i4=new tv(new tb({apiKey:process.env.OPENAI_API_KEY})),i2="edge";async function i3(e){let{messages:t}=await e.json(),r=await i4.createChatCompletion({model:"gpt-3.5-turbo",stream:!0,messages:[{role:"system",content:"You are a helpful assistant for TransMENA Network, a logistics and freight forwarding company operating in the Middle East and North Africa region. Provide concise and accurate information about TransMENA's services, partners, and logistics solutions."},...t]}),n=(0,j.OpenAIStream)(r);return new j.StreamingTextResponse(n)}let i6=new ta.AppRouteRouteModule({definition:{kind:l.APP_ROUTE,page:"/api/chat/route",pathname:"/api/chat",filename:"route",bundlePath:"app/api/chat/route"},resolvedPagePath:"C:\\Users\\screa\\OneDrive\\Desktop\\TransMENA Projecttttt\\app\\api\\chat\\route.ts",nextConfigOutput:"",userland:$}),{requestAsyncStorage:i7,staticGenerationAsyncStorage:i5,serverHooks:i8}=i6,se="/api/chat/route";function st(){return(0,ti.XH)({serverHooks:i8,staticGenerationAsyncStorage:i5})}let sr=M,sn=tn.wrap(i6)},723:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DiagConsoleLogger:()=>j,DiagLogLevel:()=>n,INVALID_SPANID:()=>ed,INVALID_SPAN_CONTEXT:()=>ep,INVALID_TRACEID:()=>eh,ProxyTracer:()=>eP,ProxyTracerProvider:()=>eN,ROOT_CONTEXT:()=>I,SamplingDecision:()=>s,SpanKind:()=>o,SpanStatusCode:()=>l,TraceFlags:()=>i,ValueType:()=>a,baggageEntryMetadataFromString:()=>O,context:()=>eF,createContextKey:()=>P,createNoopMeter:()=>ee,createTraceState:()=>eU,default:()=>e9,defaultTextMapGetter:()=>et,defaultTextMapSetter:()=>er,diag:()=>eZ,isSpanContextValid:()=>ek,isValidSpanId:()=>eT,isValidTraceId:()=>eE,metrics:()=>eH,propagation:()=>eQ,trace:()=>e1});var n,a,i,s,o,l,u="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof r.g?r.g:{},c="1.9.0",d=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,h=function(e){var t=new Set([e]),r=new Set,n=e.match(d);if(!n)return function(){return!1};var a={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=a.prerelease)return function(t){return t===e};function i(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;var n=e.match(d);if(!n)return i(e);var s={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};return null!=s.prerelease||a.major!==s.major?i(e):0===a.major?a.minor===s.minor&&a.patch<=s.patch?(t.add(e),!0):i(e):a.minor<=s.minor?(t.add(e),!0):i(e)}}(c),p=Symbol.for("opentelemetry.js.api."+c.split(".")[0]);function f(e,t,r,n){void 0===n&&(n=!1);var a,i=u[p]=null!==(a=u[p])&&void 0!==a?a:{version:c};if(!n&&i[e]){var s=Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(s.stack||s.message),!1}if(i.version!==c){var s=Error("@opentelemetry/api: Registration of version v"+i.version+" for "+e+" does not match previously registered API v"+c);return r.error(s.stack||s.message),!1}return i[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+c+"."),!0}function m(e){var t,r,n=null===(t=u[p])||void 0===t?void 0:t.version;if(n&&h(n))return null===(r=u[p])||void 0===r?void 0:r[e]}function g(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+c+".");var r=u[p];r&&delete r[e]}var y=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return s},v=function(e,t,r){if(r||2==arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},_=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return b("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return b("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return b("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return b("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return b("verbose",this._namespace,e)},e}();function b(e,t,r){var n=m("diag");if(n)return r.unshift(t),n[e].apply(n,v([],y(r),!1))}!function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(n||(n={}));var w=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return s},x=function(e,t,r){if(r||2==arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},S=function(){function e(){function e(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=m("diag");if(n)return n[e].apply(n,x([],w(t),!1))}}var t=this;t.setLogger=function(e,r){if(void 0===r&&(r={logLevel:n.INFO}),e===t){var a,i,s,o=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(a=o.stack)&&void 0!==a?a:o.message),!1}"number"==typeof r&&(r={logLevel:r});var l=m("diag"),u=function(e,t){function r(r,n){var a=t[r];return"function"==typeof a&&e>=n?a.bind(t):function(){}}return e<n.NONE?e=n.NONE:e>n.ALL&&(e=n.ALL),t=t||{},{error:r("error",n.ERROR),warn:r("warn",n.WARN),info:r("info",n.INFO),debug:r("debug",n.DEBUG),verbose:r("verbose",n.VERBOSE)}}(null!==(i=r.logLevel)&&void 0!==i?i:n.INFO,e);if(l&&!r.suppressOverrideMessage){var c=null!==(s=Error().stack)&&void 0!==s?s:"<failed to generate stacktrace>";l.warn("Current logger will be overwritten from "+c),u.warn("Current logger will overwrite one already registered from "+c)}return f("diag",u,t,!0)},t.disable=function(){g("diag",t)},t.createComponentLogger=function(e){return new _(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),E=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return s},T=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},k=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var t=E(e,2);return[t[0],t[1]]})},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t,r,n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var i=new e(this._entries);try{for(var s=T(n),o=s.next();!o.done;o=s.next()){var l=o.value;i._entries.delete(l)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return i},e.prototype.clear=function(){return new e},e}(),C=Symbol("BaggageEntryMetadata"),A=S.instance();function R(e){return void 0===e&&(e={}),new k(new Map(Object.entries(e)))}function O(e){return"string"!=typeof e&&(A.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:C,toString:function(){return e}}}function P(e){return Symbol.for(e)}var I=new function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(e){return r._currentContext.get(e)},r.setValue=function(t,n){var a=new e(r._currentContext);return a._currentContext.set(t,n),a},r.deleteValue=function(t){var n=new e(r._currentContext);return n._currentContext.delete(t),n}},N=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],j=function(){for(var e=0;e<N.length;e++)this[N[e].n]=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(console){var n=console[e];if("function"!=typeof n&&(n=console.log),"function"==typeof n)return n.apply(console,t)}}}(N[e].c)},$=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),M=function(){function e(){}return e.prototype.createGauge=function(e,t){return J},e.prototype.createHistogram=function(e,t){return G},e.prototype.createCounter=function(e,t){return W},e.prototype.createUpDownCounter=function(e,t){return K},e.prototype.createObservableGauge=function(e,t){return X},e.prototype.createObservableCounter=function(e,t){return Y},e.prototype.createObservableUpDownCounter=function(e,t){return Q},e.prototype.addBatchObservableCallback=function(e,t){},e.prototype.removeBatchObservableCallback=function(e){},e}(),D=function(){},L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $(t,e),t.prototype.add=function(e,t){},t}(D),U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $(t,e),t.prototype.add=function(e,t){},t}(D),F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $(t,e),t.prototype.record=function(e,t){},t}(D),Z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $(t,e),t.prototype.record=function(e,t){},t}(D),q=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.removeCallback=function(e){},e}(),B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $(t,e),t}(q),H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $(t,e),t}(q),z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $(t,e),t}(q),V=new M,W=new L,J=new F,G=new Z,K=new U,Y=new B,X=new H,Q=new z;function ee(){return V}!function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(a||(a={}));var et={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},er={set:function(e,t,r){null!=e&&(e[t]=r)}},en=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return s},ea=function(e,t,r){if(r||2==arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},ei=function(){function e(){}return e.prototype.active=function(){return I},e.prototype.with=function(e,t,r){for(var n=[],a=3;a<arguments.length;a++)n[a-3]=arguments[a];return t.call.apply(t,ea([r],en(n),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),es=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return s},eo=function(e,t,r){if(r||2==arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},el="context",eu=new ei,ec=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return f(el,e,S.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,r){for(var n,a=[],i=3;i<arguments.length;i++)a[i-3]=arguments[i];return(n=this._getContextManager()).with.apply(n,eo([e,t,r],es(a),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return m(el)||eu},e.prototype.disable=function(){this._getContextManager().disable(),g(el,S.instance())},e}();!function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(i||(i={}));var ed="0000000000000000",eh="00000000000000000000000000000000",ep={traceId:eh,spanId:ed,traceFlags:i.NONE},ef=function(){function e(e){void 0===e&&(e=ep),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),em=P("OpenTelemetry Context Key SPAN");function eg(e){return e.getValue(em)||void 0}function ey(){return eg(ec.getInstance().active())}function ev(e,t){return e.setValue(em,t)}function e_(e){return e.deleteValue(em)}function eb(e,t){return ev(e,new ef(t))}function ew(e){var t;return null===(t=eg(e))||void 0===t?void 0:t.spanContext()}var ex=/^([0-9a-f]{32})$/i,eS=/^[0-9a-f]{16}$/i;function eE(e){return ex.test(e)&&e!==eh}function eT(e){return eS.test(e)&&e!==ed}function ek(e){return eE(e.traceId)&&eT(e.spanId)}function eC(e){return new ef(e)}var eA=ec.getInstance(),eR=function(){function e(){}return e.prototype.startSpan=function(e,t,r){if(void 0===r&&(r=eA.active()),null==t?void 0:t.root)return new ef;var n=r&&ew(r);return"object"==typeof n&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&ek(n)?new ef(n):new ef},e.prototype.startActiveSpan=function(e,t,r,n){if(!(arguments.length<2)){2==arguments.length?s=t:3==arguments.length?(a=t,s=r):(a=t,i=r,s=n);var a,i,s,o=null!=i?i:eA.active(),l=this.startSpan(e,a,o),u=ev(o,l);return eA.with(u,s,void 0,l)}},e}(),eO=new eR,eP=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.startSpan=function(e,t,r){return this._getTracer().startSpan(e,t,r)},e.prototype.startActiveSpan=function(e,t,r,n){var a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):eO},e}(),eI=new(function(){function e(){}return e.prototype.getTracer=function(e,t,r){return new eR},e}()),eN=function(){function e(){}return e.prototype.getTracer=function(e,t,r){var n;return null!==(n=this.getDelegateTracer(e,t,r))&&void 0!==n?n:new eP(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:eI},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t,r)},e}();!function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(s||(s={})),function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(o||(o={})),function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(l||(l={}));var ej="[_0-9a-z-*/]",e$=RegExp("^(?:[a-z]"+ej+"{0,255}|"+("[a-z0-9]"+ej)+"{0,240}@[a-z]"+ej+"{0,13})$"),eM=/^[ -~]{0,255}[!-~]$/,eD=/,|=/,eL=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce(function(t,r){return t.push(r+"="+e.get(r)),t},[]).join(",")},e.prototype._parse=function(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce(function(e,t){var r=t.trim(),n=r.indexOf("=");if(-1!==n){var a=r.slice(0,n),i=r.slice(n+1,t.length);e$.test(a)&&eM.test(i)&&!eD.test(i)&&e.set(a,i)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();function eU(e){return new eL(e)}var eF=ec.getInstance(),eZ=S.instance(),eq=new(function(){function e(){}return e.prototype.getMeter=function(e,t,r){return V},e}()),eB="metrics",eH=(function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(e){return f(eB,e,S.instance())},e.prototype.getMeterProvider=function(){return m(eB)||eq},e.prototype.getMeter=function(e,t,r){return this.getMeterProvider().getMeter(e,t,r)},e.prototype.disable=function(){g(eB,S.instance())},e})().getInstance(),ez=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),eV=P("OpenTelemetry Baggage Key");function eW(e){return e.getValue(eV)||void 0}function eJ(){return eW(ec.getInstance().active())}function eG(e,t){return e.setValue(eV,t)}function eK(e){return e.deleteValue(eV)}var eY="propagation",eX=new ez,eQ=(function(){function e(){this.createBaggage=R,this.getBaggage=eW,this.getActiveBaggage=eJ,this.setBaggage=eG,this.deleteBaggage=eK}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return f(eY,e,S.instance())},e.prototype.inject=function(e,t,r){return void 0===r&&(r=er),this._getGlobalPropagator().inject(e,t,r)},e.prototype.extract=function(e,t,r){return void 0===r&&(r=et),this._getGlobalPropagator().extract(e,t,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){g(eY,S.instance())},e.prototype._getGlobalPropagator=function(){return m(eY)||eX},e})().getInstance(),e0="trace",e1=(function(){function e(){this._proxyTracerProvider=new eN,this.wrapSpanContext=eC,this.isSpanContextValid=ek,this.deleteSpan=e_,this.getSpan=eg,this.getActiveSpan=ey,this.getSpanContext=ew,this.setSpan=ev,this.setSpanContext=eb}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=f(e0,this._proxyTracerProvider,S.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return m(e0)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){g(e0,S.instance()),this._proxyTracerProvider=new eN},e})().getInstance();let e9={context:eF,diag:eZ,metrics:eH,propagation:eQ,trace:e1}},676:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,i={};function s(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),n=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===r.length?n:`${n}; ${r.join("; ")}`}function o(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[n,a]=[r.slice(0,e),r.slice(e+1)];try{t.set(n,decodeURIComponent(null!=a?a:"true"))}catch{}}return t}function l(e){var t,r;if(!e)return;let[[n,a],...i]=o(e),{domain:s,expires:l,httponly:d,maxage:h,path:p,samesite:f,secure:m,partitioned:g,priority:y}=Object.fromEntries(i.map(([e,t])=>[e.toLowerCase(),t]));return function(e){let t={};for(let r in e)e[r]&&(t[r]=e[r]);return t}({name:n,value:decodeURIComponent(a),domain:s,...l&&{expires:new Date(l)},...d&&{httpOnly:!0},..."string"==typeof h&&{maxAge:Number(h)},path:p,...f&&{sameSite:u.includes(t=(t=f).toLowerCase())?t:void 0},...m&&{secure:!0},...y&&{priority:c.includes(r=(r=y).toLowerCase())?r:void 0},...g&&{partitioned:!0}})}((e,r)=>{for(var n in r)t(e,n,{get:r[n],enumerable:!0})})(i,{RequestCookies:()=>d,ResponseCookies:()=>h,parseCookie:()=>o,parseSetCookie:()=>l,stringifyCookie:()=>s}),e.exports=((e,i,s,o)=>{if(i&&"object"==typeof i||"function"==typeof i)for(let l of n(i))a.call(e,l)||l===s||t(e,l,{get:()=>i[l],enumerable:!(o=r(i,l))||o.enumerable});return e})(t({},"__esModule",{value:!0}),i);var u=["strict","lax","none"],c=["low","medium","high"],d=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,r]of o(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===n).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,n=this._parsed;return n.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(n).map(([e,t])=>s(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>s(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},h=class{constructor(e){var t,r,n;this._parsed=new Map,this._headers=e;let a=null!=(n=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?n:[];for(let e of Array.isArray(a)?a:function(e){if(!e)return[];var t,r,n,a,i,s=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,i=!1;l();)if(","===(r=e.charAt(o))){for(n=o,o+=1,l(),a=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(i=!0,o=a,s.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!i||o>=e.length)&&s.push(e.substring(t,e.length))}return s}(a)){let t=l(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===n)}has(e){return this._parsed.has(e)}set(...e){let[t,r,n]=1===e.length?[e[0].name,e[0].value,e[0]]:e,a=this._parsed;return a.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...n})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=s(r);t.append("set-cookie",e)}}(a,this._headers),this}delete(...e){let[t,r,n]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0].path,e[0].domain];return this.set({name:t,path:r,domain:n,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(s).join("; ")}}},337:e=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="//");var t={};(()=>{t.parse=function(t,r){if("string"!=typeof t)throw TypeError("argument str must be a string");for(var a={},i=t.split(n),s=(r||{}).decode||e,o=0;o<i.length;o++){var l=i[o],u=l.indexOf("=");if(!(u<0)){var c=l.substr(0,u).trim(),d=l.substr(++u,l.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),void 0==a[c]&&(a[c]=function(e,t){try{return t(e)}catch(t){return e}}(d,s))}}return a},t.serialize=function(e,t,n){var i=n||{},s=i.encode||r;if("function"!=typeof s)throw TypeError("option encode is invalid");if(!a.test(e))throw TypeError("argument name is invalid");var o=s(t);if(o&&!a.test(o))throw TypeError("argument val is invalid");var l=e+"="+o;if(null!=i.maxAge){var u=i.maxAge-0;if(isNaN(u)||!isFinite(u))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(u)}if(i.domain){if(!a.test(i.domain))throw TypeError("option domain is invalid");l+="; Domain="+i.domain}if(i.path){if(!a.test(i.path))throw TypeError("option path is invalid");l+="; Path="+i.path}if(i.expires){if("function"!=typeof i.expires.toUTCString)throw TypeError("option expires is invalid");l+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(l+="; HttpOnly"),i.secure&&(l+="; Secure"),i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l};var e=decodeURIComponent,r=encodeURIComponent,n=/; */,a=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/})(),e.exports=t})()},996:e=>{(()=>{"use strict";var t={806:(e,t,r)=>{let n=r(190),a=Symbol("max"),i=Symbol("length"),s=Symbol("lengthCalculator"),o=Symbol("allowStale"),l=Symbol("maxAge"),u=Symbol("dispose"),c=Symbol("noDisposeOnSet"),d=Symbol("lruList"),h=Symbol("cache"),p=Symbol("updateAgeOnGet"),f=()=>1;class m{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw TypeError("max must be a non-negative number");this[a]=e.max||1/0;let t=e.length||f;if(this[s]="function"!=typeof t?f:t,this[o]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[u]=e.dispose,this[c]=e.noDisposeOnSet||!1,this[p]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw TypeError("max must be a non-negative number");this[a]=e||1/0,v(this)}get max(){return this[a]}set allowStale(e){this[o]=!!e}get allowStale(){return this[o]}set maxAge(e){if("number"!=typeof e)throw TypeError("maxAge must be a non-negative number");this[l]=e,v(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[s]&&(this[s]=e,this[i]=0,this[d].forEach(e=>{e.length=this[s](e.value,e.key),this[i]+=e.length})),v(this)}get lengthCalculator(){return this[s]}get length(){return this[i]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let r=this[d].tail;null!==r;){let n=r.prev;w(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[d].head;null!==r;){let n=r.next;w(this,e,r,t),r=n}}keys(){return this[d].toArray().map(e=>e.key)}values(){return this[d].toArray().map(e=>e.value)}reset(){this[u]&&this[d]&&this[d].length&&this[d].forEach(e=>this[u](e.key,e.value)),this[h]=new Map,this[d]=new n,this[i]=0}dump(){return this[d].map(e=>!y(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[d]}set(e,t,r){if((r=r||this[l])&&"number"!=typeof r)throw TypeError("maxAge must be a number");let n=r?Date.now():0,o=this[s](t,e);if(this[h].has(e)){if(o>this[a])return _(this,this[h].get(e)),!1;let s=this[h].get(e).value;return this[u]&&!this[c]&&this[u](e,s.value),s.now=n,s.maxAge=r,s.value=t,this[i]+=o-s.length,s.length=o,this.get(e),v(this),!0}let p=new b(e,t,o,n,r);return p.length>this[a]?(this[u]&&this[u](e,t),!1):(this[i]+=p.length,this[d].unshift(p),this[h].set(e,this[d].head),v(this),!0)}has(e){return!!this[h].has(e)&&!y(this,this[h].get(e).value)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){let e=this[d].tail;return e?(_(this,e),e.value):null}del(e){_(this,this[h].get(e))}load(e){this.reset();let t=Date.now();for(let r=e.length-1;r>=0;r--){let n=e[r],a=n.e||0;if(0===a)this.set(n.k,n.v);else{let e=a-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[h].forEach((e,t)=>g(this,t,!1))}}let g=(e,t,r)=>{let n=e[h].get(t);if(n){let t=n.value;if(y(e,t)){if(_(e,n),!e[o])return}else r&&(e[p]&&(n.value.now=Date.now()),e[d].unshiftNode(n));return t.value}},y=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;let r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[l]&&r>e[l]},v=e=>{if(e[i]>e[a])for(let t=e[d].tail;e[i]>e[a]&&null!==t;){let r=t.prev;_(e,t),t=r}},_=(e,t)=>{if(t){let r=t.value;e[u]&&e[u](r.key,r.value),e[i]-=r.length,e[h].delete(r.key),e[d].removeNode(t)}};class b{constructor(e,t,r,n,a){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=a||0}}let w=(e,t,r,n)=>{let a=r.value;y(e,a)&&(_(e,r),e[o]||(a=void 0)),a&&t.call(n,a.value,a.key,e)};e.exports=m},76:e=>{e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},190:(e,t,r)=>{function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var r=0,a=arguments.length;r<a;r++)t.push(arguments[r]);return t}function a(e,t,r,n){if(!(this instanceof a))return new a(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e,t=0,r=arguments.length;t<r;t++)e=arguments[t],this.tail=new a(e,this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length},n.prototype.unshift=function(){for(var e,t=0,r=arguments.length;t<r;t++)e=arguments[t],this.head=new a(e,null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,a=this.head;null!==a;)r.push(e.call(t,a.value,this)),a=a.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,a=this.tail;null!==a;)r.push(e.call(t,a.value,this)),a=a.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw TypeError("Reduce of empty list with no initial value");for(var a=0;null!==n;a++)r=e(r,n.value,a),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw TypeError("Reduce of empty list with no initial value");for(var a=this.length-1;null!==n;a--)r=e(r,n.value,a),n=n.prev;return r},n.prototype.toArray=function(){for(var e=Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var a=0,i=this.head;null!==i&&a<e;a++)i=i.next;for(;null!==i&&a<t;a++,i=i.next)r.push(i.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var a=this.length,i=this.tail;null!==i&&a>t;a--)i=i.prev;for(;null!==i&&a>e;a--,i=i.prev)r.push(i.value);return r},n.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,n=this.head;null!==n&&r<e;r++)n=n.next;for(var i=[],r=0;n&&r<t;r++)i.push(n.value),n=this.removeNode(n);null===n&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev);for(var r=2;r<arguments.length;r++)n=function(e,t,r){var n=t===e.head?new a(r,null,t,e):new a(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}(this,n,arguments[r]);return i},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(76)(n)}catch(e){}}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var i=r[e]={exports:{}},s=!0;try{t[e](i,i.exports,n),s=!1}finally{s&&delete r[e]}return i.exports}n.ab="//";var a=n(806);e.exports=a})()},960:(e,t,r)=>{!function(){var t={452:function(e){"use strict";e.exports=r(28)}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}},s=!0;try{t[e](i,i.exports,a),s=!1}finally{s&&delete n[e]}return i.exports}a.ab="//";var i={};!function(){var e,t=(e=a(452))&&"object"==typeof e&&"default"in e?e.default:e,r=/https?|ftp|gopher|file/;function n(e){"string"==typeof e&&(e=y(e));var n,a,i,s,o,l,u,c,d,h=(a=(n=e).auth,i=n.hostname,s=n.protocol||"",o=n.pathname||"",l=n.hash||"",u=n.query||"",c=!1,a=a?encodeURIComponent(a).replace(/%3A/i,":")+"@":"",n.host?c=a+n.host:i&&(c=a+(~i.indexOf(":")?"["+i+"]":i),n.port&&(c+=":"+n.port)),u&&"object"==typeof u&&(u=t.encode(u)),d=n.search||u&&"?"+u||"",s&&":"!==s.substr(-1)&&(s+=":"),n.slashes||(!s||r.test(s))&&!1!==c?(c="//"+(c||""),o&&"/"!==o[0]&&(o="/"+o)):c||(c=""),l&&"#"!==l[0]&&(l="#"+l),d&&"?"!==d[0]&&(d="?"+d),{protocol:s,host:c,pathname:o=o.replace(/[?#]/g,encodeURIComponent),search:d=d.replace("#","%23"),hash:l});return""+h.protocol+h.host+h.pathname+h.search+h.hash}var s="http://",o=s+"w.w",l=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,u=/https?|ftp|gopher|file/;function c(e,t){var r="string"==typeof e?y(e):e;e="object"==typeof e?n(e):e;var a=y(t),i="";r.protocol&&!r.slashes&&(i=r.protocol,e=e.replace(r.protocol,""),i+="/"===t[0]||"/"===e[0]?"/":""),i&&a.protocol&&(i="",a.slashes||(i=a.protocol,t=t.replace(a.protocol,"")));var c=e.match(l);c&&!a.protocol&&(e=e.substr((i=c[1]+(c[2]||"")).length),/^\/\/[^/]/.test(t)&&(i=i.slice(0,-1)));var d=new URL(e,o+"/"),h=new URL(t,d).toString().replace(o,""),p=a.protocol||r.protocol;return p+=r.slashes||a.slashes?"//":"",!i&&p?h=h.replace(s,p):i&&(h=h.replace(s,"")),u.test(h)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==h.slice(-1)||(h=h.slice(0,-1)),i&&(h=i+("/"===h[0]?h.substr(1):h)),h}function d(){}d.prototype.parse=y,d.prototype.format=n,d.prototype.resolve=c,d.prototype.resolveObject=c;var h=/^https?|ftp|gopher|file/,p=/^(.*?)([#?].*)/,f=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,m=/^([a-z0-9.+-]*:)?\/\/\/*/i,g=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function y(e,r,a){if(void 0===r&&(r=!1),void 0===a&&(a=!1),e&&"object"==typeof e&&e instanceof d)return e;var i=(e=e.trim()).match(p);e=i?i[1].replace(/\\/g,"/")+i[2]:e.replace(/\\/g,"/"),g.test(e)&&"/"!==e.slice(-1)&&(e+="/");var s=!/(^javascript)/.test(e)&&e.match(f),l=m.test(e),u="";s&&(h.test(s[1])||(u=s[1].toLowerCase(),e=""+s[2]+s[3]),s[2]||(l=!1,h.test(s[1])?(u=s[1],e=""+s[3]):e="//"+s[3]),3!==s[2].length&&1!==s[2].length||(u=s[1],e="/"+s[3]));var c,y=(i?i[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),v=y&&y[1],_=new d,b="",w="";try{c=new URL(e)}catch(t){b=t,u||a||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(w="/",e=e.substr(1));try{c=new URL(e,o)}catch(e){return _.protocol=u,_.href=u,_}}_.slashes=l&&!w,_.host="w.w"===c.host?"":c.host,_.hostname="w.w"===c.hostname?"":c.hostname.replace(/(\[|\])/g,""),_.protocol=b?u||null:c.protocol,_.search=c.search.replace(/\\/g,"%5C"),_.hash=c.hash.replace(/\\/g,"%5C");var x=e.split("#");!_.search&&~x[0].indexOf("?")&&(_.search="?"),_.hash||""!==x[1]||(_.hash="#"),_.query=r?t.decode(c.search.substr(1)):_.search.substr(1),_.pathname=w+(s?c.pathname.replace(/['^|`]/g,function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()}).replace(/((?:%[0-9A-F]{2})+)/g,function(e,t){try{return decodeURIComponent(t).split("").map(function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()}).join("")}catch(e){return t}}):c.pathname),"about:"===_.protocol&&"blank"===_.pathname&&(_.protocol="",_.pathname=""),b&&"/"!==e[0]&&(_.pathname=_.pathname.substr(1)),u&&!h.test(u)&&"/"!==e.slice(-1)&&"/"===_.pathname&&(_.pathname=""),_.path=_.pathname+_.search,_.auth=[c.username,c.password].map(decodeURIComponent).filter(Boolean).join(":"),_.port=c.port,v&&!_.host.endsWith(v)&&(_.host+=v,_.port=v.slice(1)),_.href=w?""+_.pathname+_.search+_.hash:n(_);var S=/^(file)/.test(_.href)?["host","hostname"]:[];return Object.keys(_).forEach(function(e){~S.indexOf(e)||(_[e]=_[e]||null)}),_}i.parse=y,i.format=n,i.resolve=c,i.resolveObject=function(e,t){return y(c(e,t))},i.Url=d}(),e.exports=i}()},914:e=>{!function(){"use strict";var t={114:function(e){function t(e){if("string"!=typeof e)throw TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,n="",a=0,i=-1,s=0,o=0;o<=e.length;++o){if(o<e.length)r=e.charCodeAt(o);else if(47===r)break;else r=47;if(47===r){if(i===o-1||1===s);else if(i!==o-1&&2===s){if(n.length<2||2!==a||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2)){if(n.length>2){var l=n.lastIndexOf("/");if(l!==n.length-1){-1===l?(n="",a=0):a=(n=n.slice(0,l)).length-1-n.lastIndexOf("/"),i=o,s=0;continue}}else if(2===n.length||1===n.length){n="",a=0,i=o,s=0;continue}}t&&(n.length>0?n+="/..":n="..",a=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),a=o-i-1;i=o,s=0}else 46===r&&-1!==s?++s:s=-1}return n}var n={resolve:function(){for(var e,n,a="",i=!1,s=arguments.length-1;s>=-1&&!i;s--)s>=0?n=arguments[s]:(void 0===e&&(e=""),n=e),t(n),0!==n.length&&(a=n+"/"+a,i=47===n.charCodeAt(0));return(a=r(a,!i),i)?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(e){if(t(e),0===e.length)return".";var n=47===e.charCodeAt(0),a=47===e.charCodeAt(e.length-1);return(0!==(e=r(e,!n)).length||n||(e="."),e.length>0&&a&&(e+="/"),n)?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0==arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var a=arguments[r];t(a),a.length>0&&(void 0===e?e=a:e+="/"+a)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r||(e=n.resolve(e))===(r=n.resolve(r)))return"";for(var a=1;a<e.length&&47===e.charCodeAt(a);++a);for(var i=e.length,s=i-a,o=1;o<r.length&&47===r.charCodeAt(o);++o);for(var l=r.length-o,u=s<l?s:l,c=-1,d=0;d<=u;++d){if(d===u){if(l>u){if(47===r.charCodeAt(o+d))return r.slice(o+d+1);if(0===d)return r.slice(o+d)}else s>u&&(47===e.charCodeAt(a+d)?c=d:0===d&&(c=0));break}var h=e.charCodeAt(a+d);if(h!==r.charCodeAt(o+d))break;47===h&&(c=d)}var p="";for(d=a+c+1;d<=i;++d)(d===i||47===e.charCodeAt(d))&&(0===p.length?p+="..":p+="/..");return p.length>0?p+r.slice(o+c):(o+=c,47===r.charCodeAt(o)&&++o,r.slice(o))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),n=47===r,a=-1,i=!0,s=e.length-1;s>=1;--s)if(47===(r=e.charCodeAt(s))){if(!i){a=s;break}}else i=!1;return -1===a?n?"/":".":n&&1===a?"//":e.slice(0,a)},basename:function(e,r){if(void 0!==r&&"string"!=typeof r)throw TypeError('"ext" argument must be a string');t(e);var n,a=0,i=-1,s=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var o=r.length-1,l=-1;for(n=e.length-1;n>=0;--n){var u=e.charCodeAt(n);if(47===u){if(!s){a=n+1;break}}else -1===l&&(s=!1,l=n+1),o>=0&&(u===r.charCodeAt(o)?-1==--o&&(i=n):(o=-1,i=l))}return a===i?i=l:-1===i&&(i=e.length),e.slice(a,i)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!s){a=n+1;break}}else -1===i&&(s=!1,i=n+1);return -1===i?"":e.slice(a,i)},extname:function(e){t(e);for(var r=-1,n=0,a=-1,i=!0,s=0,o=e.length-1;o>=0;--o){var l=e.charCodeAt(o);if(47===l){if(!i){n=o+1;break}continue}-1===a&&(i=!1,a=o+1),46===l?-1===r?r=o:1!==s&&(s=1):-1!==r&&(s=-1)}return -1===r||-1===a||0===s||1===s&&r===a-1&&r===n+1?"":e.slice(r,a)},format:function(e){var t,r;if(null===e||"object"!=typeof e)throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return t=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||""),t?t===e.root?t+r:t+"/"+r:r},parse:function(e){t(e);var r,n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var a=e.charCodeAt(0),i=47===a;i?(n.root="/",r=1):r=0;for(var s=-1,o=0,l=-1,u=!0,c=e.length-1,d=0;c>=r;--c){if(47===(a=e.charCodeAt(c))){if(!u){o=c+1;break}continue}-1===l&&(u=!1,l=c+1),46===a?-1===s?s=c:1!==d&&(d=1):-1!==s&&(d=-1)}return -1===s||-1===l||0===d||1===d&&s===l-1&&s===o+1?-1!==l&&(0===o&&i?n.base=n.name=e.slice(1,l):n.base=n.name=e.slice(o,l)):(0===o&&i?(n.name=e.slice(1,s),n.base=e.slice(1,l)):(n.name=e.slice(o,s),n.base=e.slice(o,l)),n.ext=e.slice(s,l)),o>0?n.dir=e.slice(0,o-1):i&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,e.exports=n}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var i=r[e]={exports:{}},s=!0;try{t[e](i,i.exports,n),s=!1}finally{s&&delete r[e]}return i.exports}n.ab="//";var a=n(114);e.exports=a}()},548:(e,t)=>{"use strict";function r(e,t){void 0===t&&(t={});for(var r=function(e){for(var t=[],r=0;r<e.length;){var n=e[r];if("*"===n||"+"===n||"?"===n){t.push({type:"MODIFIER",index:r,value:e[r++]});continue}if("\\"===n){t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});continue}if("{"===n){t.push({type:"OPEN",index:r,value:e[r++]});continue}if("}"===n){t.push({type:"CLOSE",index:r,value:e[r++]});continue}if(":"===n){for(var a="",i=r+1;i<e.length;){var s=e.charCodeAt(i);if(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||95===s){a+=e[i++];continue}break}if(!a)throw TypeError("Missing parameter name at "+r);t.push({type:"NAME",index:r,value:a}),r=i;continue}if("("===n){var o=1,l="",i=r+1;if("?"===e[i])throw TypeError('Pattern cannot start with "?" at '+i);for(;i<e.length;){if("\\"===e[i]){l+=e[i++]+e[i++];continue}if(")"===e[i]){if(0==--o){i++;break}}else if("("===e[i]&&(o++,"?"!==e[i+1]))throw TypeError("Capturing groups are not allowed at "+i);l+=e[i++]}if(o)throw TypeError("Unbalanced pattern at "+r);if(!l)throw TypeError("Missing pattern at "+r);t.push({type:"PATTERN",index:r,value:l}),r=i;continue}t.push({type:"CHAR",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}(e),a=t.prefixes,i=void 0===a?"./":a,s="[^"+n(t.delimiter||"/#?")+"]+?",o=[],l=0,u=0,c="",d=function(e){if(u<r.length&&r[u].type===e)return r[u++].value},h=function(e){var t=d(e);if(void 0!==t)return t;var n=r[u];throw TypeError("Unexpected "+n.type+" at "+n.index+", expected "+e)},p=function(){for(var e,t="";e=d("CHAR")||d("ESCAPED_CHAR");)t+=e;return t};u<r.length;){var f=d("CHAR"),m=d("NAME"),g=d("PATTERN");if(m||g){var y=f||"";-1===i.indexOf(y)&&(c+=y,y=""),c&&(o.push(c),c=""),o.push({name:m||l++,prefix:y,suffix:"",pattern:g||s,modifier:d("MODIFIER")||""});continue}var v=f||d("ESCAPED_CHAR");if(v){c+=v;continue}if(c&&(o.push(c),c=""),d("OPEN")){var y=p(),_=d("NAME")||"",b=d("PATTERN")||"",w=p();h("CLOSE"),o.push({name:_||(b?l++:""),pattern:_&&!b?s:b,prefix:y,suffix:w,modifier:d("MODIFIER")||""});continue}h("END")}return o}function n(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function a(e){return e&&e.sensitive?"":"i"}t.MY=function(e,t){var n,i,s,o,l,u,c,d;return n=r(e,t),void 0===(i=t)&&(i={}),s=a(i),l=void 0===(o=i.encode)?function(e){return e}:o,c=void 0===(u=i.validate)||u,d=n.map(function(e){if("object"==typeof e)return RegExp("^(?:"+e.pattern+")$",s)}),function(e){for(var t="",r=0;r<n.length;r++){var a=n[r];if("string"==typeof a){t+=a;continue}var i=e?e[a.name]:void 0,s="?"===a.modifier||"*"===a.modifier,o="*"===a.modifier||"+"===a.modifier;if(Array.isArray(i)){if(!o)throw TypeError('Expected "'+a.name+'" to not repeat, but got an array');if(0===i.length){if(s)continue;throw TypeError('Expected "'+a.name+'" to not be empty')}for(var u=0;u<i.length;u++){var h=l(i[u],a);if(c&&!d[r].test(h))throw TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but got "'+h+'"');t+=a.prefix+h+a.suffix}continue}if("string"==typeof i||"number"==typeof i){var h=l(String(i),a);if(c&&!d[r].test(h))throw TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but got "'+h+'"');t+=a.prefix+h+a.suffix;continue}if(!s){var p=o?"an array":"a string";throw TypeError('Expected "'+a.name+'" to be '+p)}}return t}},t.WS=function(e,t,r){void 0===r&&(r={});var n=r.decode,a=void 0===n?function(e){return e}:n;return function(r){var n=e.exec(r);if(!n)return!1;for(var i=n[0],s=n.index,o=Object.create(null),l=1;l<n.length;l++)!function(e){if(void 0!==n[e]){var r=t[e-1];"*"===r.modifier||"+"===r.modifier?o[r.name]=n[e].split(r.prefix+r.suffix).map(function(e){return a(e,r)}):o[r.name]=a(n[e],r)}}(l);return{path:i,index:s,params:o}}},t.Bo=function e(t,i,s){return t instanceof RegExp?function(e,t){if(!t)return e;var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:"",suffix:"",modifier:"",pattern:""});return e}(t,i):Array.isArray(t)?RegExp("(?:"+t.map(function(t){return e(t,i,s).source}).join("|")+")",a(s)):function(e,t,r){void 0===r&&(r={});for(var i=r.strict,s=void 0!==i&&i,o=r.start,l=r.end,u=r.encode,c=void 0===u?function(e){return e}:u,d="["+n(r.endsWith||"")+"]|$",h="["+n(r.delimiter||"/#?")+"]",p=void 0===o||o?"^":"",f=0;f<e.length;f++){var m=e[f];if("string"==typeof m)p+=n(c(m));else{var g=n(c(m.prefix)),y=n(c(m.suffix));if(m.pattern){if(t&&t.push(m),g||y){if("+"===m.modifier||"*"===m.modifier){var v="*"===m.modifier?"?":"";p+="(?:"+g+"((?:"+m.pattern+")(?:"+y+g+"(?:"+m.pattern+"))*)"+y+")"+v}else p+="(?:"+g+"("+m.pattern+")"+y+")"+m.modifier}else p+="("+m.pattern+")"+m.modifier}else p+="(?:"+g+y+")"+m.modifier}}if(void 0===l||l)s||(p+=h+"?"),p+=r.endsWith?"(?="+d+")":"$";else{var _=e[e.length-1],b="string"==typeof _?h.indexOf(_[_.length-1])>-1:void 0===_;s||(p+="(?:"+h+"(?="+d+"))?"),b||(p+="(?="+h+"|"+d+")")}return new RegExp(p,a(r))}(r(t,s),i,s)}},28:e=>{!function(){"use strict";var t={815:function(e){e.exports=function(e,r,n,a){r=r||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var s=/\+/g;e=e.split(r);var o=1e3;a&&"number"==typeof a.maxKeys&&(o=a.maxKeys);var l=e.length;o>0&&l>o&&(l=o);for(var u=0;u<l;++u){var c,d,h,p,f=e[u].replace(s,"%20"),m=f.indexOf(n);(m>=0?(c=f.substr(0,m),d=f.substr(m+1)):(c=f,d=""),h=decodeURIComponent(c),p=decodeURIComponent(d),Object.prototype.hasOwnProperty.call(i,h))?t(i[h])?i[h].push(p):i[h]=[i[h],p]:i[h]=p}return i};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},577:function(e){var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,i,s,o){return(i=i||"&",s=s||"=",null===e&&(e=void 0),"object"==typeof e)?n(a(e),function(a){var o=encodeURIComponent(t(a))+s;return r(e[a])?n(e[a],function(e){return o+encodeURIComponent(t(e))}).join(i):o+encodeURIComponent(t(e[a]))}).join(i):o?encodeURIComponent(t(o))+s+encodeURIComponent(t(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function n(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var a=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var i=r[e]={exports:{}},s=!0;try{t[e](i,i.exports,n),s=!1}finally{s&&delete r[e]}return i.exports}n.ab="//";var a={};a.decode=a.parse=n(815),a.encode=a.stringify=n(577),e.exports=a}()},642:(e,t)=>{"use strict";var r={usingClientEntryPoint:!1,Events:null,Dispatcher:{current:null}};function n(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}var a=r.Dispatcher;t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r,t.preconnect=function(e,t){var r=a.current;r&&"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,r.preconnect(e,t))},t.prefetchDNS=function(e){var t=a.current;t&&"string"==typeof e&&t.prefetchDNS(e)},t.preinit=function(e,t){var r=a.current;if(r&&"string"==typeof e&&t&&"string"==typeof t.as){var i=t.as,s=n(i,t.crossOrigin),o="string"==typeof t.integrity?t.integrity:void 0,l="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===i?r.preinitStyle(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:s,integrity:o,fetchPriority:l}):"script"===i&&r.preinitScript(e,{crossOrigin:s,integrity:o,fetchPriority:l,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){var r=a.current;if(r&&"string"==typeof e){if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var i=n(t.as,t.crossOrigin);r.preinitModuleScript(e,{crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&r.preinitModuleScript(e)}},t.preload=function(e,t){var r=a.current;if(r&&"string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var i=t.as,s=n(i,t.crossOrigin);r.preload(e,i,{crossOrigin:s,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0})}},t.preloadModule=function(e,t){var r=a.current;if(r&&"string"==typeof e){if(t){var i=n(t.as,t.crossOrigin);r.preloadModule(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else r.preloadModule(e)}}},105:(e,t,r)=>{"use strict";e.exports=r(642)},651:(e,t,r)=>{"use strict";var n=r(908),a=r(105),i=null,s=0;function o(e,t){if(0!==t.byteLength){if(2048<t.byteLength)0<s&&(e.enqueue(new Uint8Array(i.buffer,0,s)),i=new Uint8Array(2048),s=0),e.enqueue(t);else{var r=i.length-s;r<t.byteLength&&(0===r?e.enqueue(i):(i.set(t.subarray(0,r),s),e.enqueue(i),t=t.subarray(r)),i=new Uint8Array(2048),s=0),i.set(t,s),s+=t.byteLength}}return!0}var l=new TextEncoder,u=Symbol.for("react.client.reference"),c=Symbol.for("react.server.reference");function d(e,t,r){return Object.defineProperties(e,{$$typeof:{value:u},$$id:{value:t},$$async:{value:r}})}var h=Function.prototype.bind,p=Array.prototype.slice;function f(){var e=h.apply(this,arguments);if(this.$$typeof===c){var t=p.call(arguments,1);return Object.defineProperties(e,{$$typeof:{value:c},$$id:{value:this.$$id},$$bound:{value:this.$$bound?this.$$bound.concat(t):t},bind:{value:f}})}return e}var m=Promise.prototype,g={get:function(e,t){switch(t){case"$$typeof":return e.$$typeof;case"$$id":return e.$$id;case"$$async":return e.$$async;case"name":return e.name;case"displayName":case"defaultProps":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case Symbol.toStringTag:return Object.prototype[Symbol.toStringTag];case"Provider":throw Error("Cannot render a Client Context Provider on the Server. Instead, you can export a Client Component wrapper that itself renders a Client Context Provider.")}throw Error("Cannot access "+String(e.name)+"."+String(t)+" on the server. You cannot dot into a client module from a server component. You can only pass the imported name through.")},set:function(){throw Error("Cannot assign to a client module from a server module.")}};function y(e,t){switch(t){case"$$typeof":return e.$$typeof;case"$$id":return e.$$id;case"$$async":return e.$$async;case"name":return e.name;case"defaultProps":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case Symbol.toStringTag:return Object.prototype[Symbol.toStringTag];case"__esModule":var r=e.$$id;return e.default=d(function(){throw Error("Attempted to call the default export of "+r+" from the server but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},e.$$id+"#",e.$$async),!0;case"then":if(e.then)return e.then;if(e.$$async)return;var n=d({},e.$$id,!0),a=new Proxy(n,v);return e.status="fulfilled",e.value=a,e.then=d(function(e){return Promise.resolve(e(a))},e.$$id+"#then",!1)}if("symbol"==typeof t)throw Error("Cannot read Symbol exports. Only named exports are supported on a client module imported on the server.");return(n=e[t])||(Object.defineProperty(n=d(function(){throw Error("Attempted to call "+String(t)+"() from the server but "+String(t)+" is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},e.$$id+"#"+t,e.$$async),"name",{value:t}),n=e[t]=new Proxy(n,g)),n}var v={get:function(e,t){return y(e,t)},getOwnPropertyDescriptor:function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return r||(r={value:y(e,t),writable:!1,configurable:!1,enumerable:!1},Object.defineProperty(e,t,r)),r},getPrototypeOf:function(){return m},set:function(){throw Error("Cannot assign to a client module from a server module.")}};a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Dispatcher;var _="function"==typeof AsyncLocalStorage,b=_?new AsyncLocalStorage:null;"object"==typeof async_hooks&&async_hooks.createHook,"object"==typeof async_hooks&&async_hooks.executionAsyncId;var w=Symbol.for("react.element"),x=Symbol.for("react.fragment"),S=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.postpone");var O=Symbol.iterator,P=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`");function I(){}var N=null;function j(){if(null===N)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var e=N;return N=null,e}var $=null,M=0,D=null;function L(){var e=D||[];return D=null,e}var U={useMemo:function(e){return e()},useCallback:function(e){return e},useDebugValue:function(){},useDeferredValue:F,useTransition:F,readContext:q,useContext:q,useReducer:F,useRef:F,useState:F,useInsertionEffect:F,useLayoutEffect:F,useImperativeHandle:F,useEffect:F,useId:function(){if(null===$)throw Error("useId can only be used while React is rendering");var e=$.identifierCount++;return":"+$.identifierPrefix+"S"+e.toString(32)+":"},useSyncExternalStore:F,useCacheRefresh:function(){return Z},useMemoCache:function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=R;return t},use:function(e){if(null!==e&&"object"==typeof e||"function"==typeof e){if("function"==typeof e.then){var t=M;return M+=1,null===D&&(D=[]),function(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(I,I),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:if("string"!=typeof t.status)switch((e=t).status="pending",e.then(function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}},function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}}),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}throw N=t,P}}(D,e,t)}e.$$typeof===S&&q()}if(e.$$typeof===u){if(null!=e.value&&e.value.$$typeof===S)throw Error("Cannot read a Client Context from a Server Component.");throw Error("Cannot use() an already resolved Client Reference.")}throw Error("An unsupported type was passed to use(): "+String(e))}};function F(){throw Error("This Hook is not supported in Server Components.")}function Z(){throw Error("Refreshing the cache is not supported in Server Components.")}function q(){throw Error("Cannot read a Client Context from a Server Component.")}var B=Array.isArray,H=Object.getPrototypeOf;function z(e){return Object.prototype.toString.call(e).replace(/^\[object (.*)\]$/,function(e,t){return t})}function V(e){switch(typeof e){case"string":return JSON.stringify(10>=e.length?e:e.slice(0,10)+"...");case"object":if(B(e))return"[...]";if(null!==e&&e.$$typeof===W)return"client";return"Object"===(e=z(e))?"{...}":e;case"function":return e.$$typeof===W?"client":(e=e.displayName||e.name)?"function "+e:"function";default:return String(e)}}var W=Symbol.for("react.client.reference");function J(e,t){var r=z(e);if("Object"!==r&&"Array"!==r)return r;r=-1;var n=0;if(B(e)){for(var a="[",i=0;i<e.length;i++){0<i&&(a+=", ");var s=e[i];s="object"==typeof s&&null!==s?J(s):V(s),""+i===t?(r=a.length,n=s.length,a+=s):a=10>s.length&&40>a.length+s.length?a+s:a+"..."}a+="]"}else if(e.$$typeof===w)a="<"+function e(t){if("string"==typeof t)return t;switch(t){case T:return"Suspense";case k:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case E:return e(t.render);case C:return e(t.type);case A:var r=t._payload;t=t._init;try{return e(t(r))}catch(e){}}return""}(e.type)+"/>";else{if(e.$$typeof===W)return"client";for(s=0,a="{",i=Object.keys(e);s<i.length;s++){0<s&&(a+=", ");var o=i[s],l=JSON.stringify(o);a+=('"'+o+'"'===l?o:l)+": ",l="object"==typeof(l=e[o])&&null!==l?J(l):V(l),o===t?(r=a.length,n=l.length,a+=l):a=10>l.length&&40>a.length+l.length?a+l:a+"..."}a+="}"}return void 0===t?a:-1<r&&0<n?"\n  "+a+"\n  "+(e=" ".repeat(r)+"^".repeat(n)):"\n  "+a}var G=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=n.__SECRET_SERVER_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;if(!K)throw Error('The "react" package in this environment is not configured correctly. The "react-server" condition must be enabled in any environment that runs React Server Components.');var Y=Object.prototype,X=JSON.stringify,Q=(K.ReactCurrentCache,G.ReactCurrentDispatcher),ee=null;function et(e){if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e}function er(e,t,r,n,a){var i=t.thenableState;if(t.thenableState=null,M=0,D=i,"object"==typeof(n=n(a,void 0))&&null!==n&&"function"==typeof n.then){if("fulfilled"===(a=n).status)return a.value;n=function(e){switch(e.status){case"fulfilled":case"rejected":break;default:"string"!=typeof e.status&&(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))}return{$$typeof:A,_payload:e,_init:et}}(n)}return a=t.keyPath,i=t.implicitSlot,null!==r?t.keyPath=null===a?r:a+","+r:null===a&&(t.implicitSlot=!0),e=eu(e,t,eh,"",n),t.keyPath=a,t.implicitSlot=i,e}function en(e,t){var r=e.pingedTasks;r.push(t),1===r.length&&(e.flushScheduled=null!==e.destination,setTimeout(function(){return function(e){var t=Q.current;Q.current=U;var r=ee;$=ee=e;try{var n=e.pingedTasks;e.pingedTasks=[];for(var a=0;a<n.length;a++)ep(e,n[a]);null!==e.destination&&ef(e,e.destination)}catch(t){ec(e,t),function(e,t){var r;null!==e.destination?(e.status=2,"function"==typeof(r=e.destination).error?r.error(t):r.close()):(e.status=1,e.fatalError=t)}(e,t)}finally{Q.current=t,$=null,ee=r}}(e)},0))}function ea(e,t,r,n,a){e.pendingChunks++;var i=e.nextChunkId++;"object"==typeof t&&null!==t&&e.writtenObjects.set(t,i);var s={id:i,status:0,model:t,keyPath:r,implicitSlot:n,ping:function(){return en(e,s)},toJSON:function(t,r){var n=s.keyPath,a=s.implicitSlot;try{var i=eu(e,s,this,t,r)}catch(l){if(t=l===P?j():l,r="object"==typeof(r=s.model)&&null!==r&&(r.$$typeof===w||r.$$typeof===A),"object"==typeof t&&null!==t&&"function"==typeof t.then){var o=(i=ea(e,s.model,s.keyPath,s.implicitSlot,e.abortableTasks)).ping;t.then(o,o),i.thenableState=L(),s.keyPath=n,s.implicitSlot=a,i=r?"$L"+i.id.toString(16):ei(i.id)}else if(s.keyPath=n,s.implicitSlot=a,r)e.pendingChunks++,n=e.nextChunkId++,a=ec(e,t),ed(e,n,a),i="$L"+n.toString(16);else throw t}return i},thenableState:null};return a.add(s),s}function ei(e){return"$"+e.toString(16)}function es(e,t,r,n){var a=n.$$async?n.$$id+"#async":n.$$id,i=e.writtenClientReferences,s=i.get(a);if(void 0!==s)return t[0]===w&&"1"===r?"$L"+s.toString(16):ei(s);try{var o=e.bundlerConfig,u=n.$$id;s="";var c=o[u];if(c)s=c.name;else{var d=u.lastIndexOf("#");if(-1!==d&&(s=u.slice(d+1),c=o[u.slice(0,d)]),!c)throw Error('Could not find the module "'+u+'" in the React Client Manifest. This is probably a bug in the React Server Components bundler.')}var h=!0===n.$$async?[c.id,c.chunks,s,1]:[c.id,c.chunks,s];e.pendingChunks++;var p=e.nextChunkId++,f=X(h),m=p.toString(16)+":I"+f+"\n",g=l.encode(m);return e.completedImportChunks.push(g),i.set(a,p),t[0]===w&&"1"===r?"$L"+p.toString(16):ei(p)}catch(n){return e.pendingChunks++,t=e.nextChunkId++,r=ec(e,n),ed(e,t,r),ei(t)}}function eo(e,t){return t=ea(e,t,null,!1,e.abortableTasks),ep(e,t),t.id}var el=!1;function eu(e,t,r,n,a){if(t.model=a,a===w)return"$";if(null===a)return null;if("object"==typeof a){switch(a.$$typeof){case w:if(void 0!==(n=(r=e.writtenObjects).get(a))){if(el!==a)return -1===n?ei(e=eo(e,a)):ei(n);el=null}else r.set(a,-1);return function e(t,r,n,a,i,s){if(null!=i)throw Error("Refs cannot be used in Server Components, nor passed to Client Components.");if("function"==typeof n)return n.$$typeof===u?[w,n,a,s]:er(t,r,a,n,s);if("string"==typeof n)return[w,n,a,s];if("symbol"==typeof n)return n===x&&null===a?(a=r.implicitSlot,null===r.keyPath&&(r.implicitSlot=!0),t=eu(t,r,eh,"",s.children),r.implicitSlot=a,t):[w,n,a,s];if(null!=n&&"object"==typeof n){if(n.$$typeof===u)return[w,n,a,s];switch(n.$$typeof){case A:return e(t,r,n=(0,n._init)(n._payload),a,i,s);case E:return er(t,r,a,n.render,s);case C:return e(t,r,n.type,a,i,s)}}throw Error("Unsupported Server Component type: "+V(n))}(e,t,a.type,a.key,a.ref,a.props);case A:return t.thenableState=null,eu(e,t,eh,"",a=(r=a._init)(a._payload))}if(a.$$typeof===u)return es(e,r,n,a);if(n=(r=e.writtenObjects).get(a),"function"==typeof a.then){if(void 0!==n){if(el!==a)return"$@"+n.toString(16);el=null}return e=function(e,t,r){var n=ea(e,null,t.keyPath,t.implicitSlot,e.abortableTasks);switch(r.status){case"fulfilled":return n.model=r.value,en(e,n),n.id;case"rejected":return t=ec(e,r.reason),ed(e,n.id,t),n.id;default:"string"!=typeof r.status&&(r.status="pending",r.then(function(e){"pending"===r.status&&(r.status="fulfilled",r.value=e)},function(e){"pending"===r.status&&(r.status="rejected",r.reason=e)}))}return r.then(function(t){n.model=t,en(e,n)},function(t){n.status=4,t=ec(e,t),ed(e,n.id,t),e.abortableTasks.delete(n),null!==e.destination&&ef(e,e.destination)}),n.id}(e,t,a),r.set(a,e),"$@"+e.toString(16)}if(void 0!==n){if(el!==a)return -1===n?ei(e=eo(e,a)):ei(n);el=null}else r.set(a,-1);if(B(a))return a;if(a instanceof Map){for(t=0,a=Array.from(a);t<a.length;t++)"object"==typeof(r=a[t][0])&&null!==r&&void 0===(n=e.writtenObjects).get(r)&&n.set(r,-1);return"$Q"+eo(e,a).toString(16)}if(a instanceof Set){for(t=0,a=Array.from(a);t<a.length;t++)"object"==typeof(r=a[t])&&null!==r&&void 0===(n=e.writtenObjects).get(r)&&n.set(r,-1);return"$W"+eo(e,a).toString(16)}if(e=null===a||"object"!=typeof a?null:"function"==typeof(e=O&&a[O]||a["@@iterator"])?e:null)return e=Array.from(a);if((e=H(a))!==Y&&(null===e||null!==H(e)))throw Error("Only plain objects, and a few built-ins, can be passed to Client Components from Server Components. Classes or null prototypes are not supported.");return a}if("string"==typeof a)return"Z"===a[a.length-1]&&r[n]instanceof Date?"$D"+a:1024<=a.length?(e.pendingChunks+=2,t=e.nextChunkId++,r=(a=l.encode(a)).byteLength,r=t.toString(16)+":T"+r.toString(16)+",",r=l.encode(r),e.completedRegularChunks.push(r,a),ei(t)):e="$"===a[0]?"$"+a:a;if("boolean"==typeof a)return a;if("number"==typeof a)return Number.isFinite(a)?0===a&&-1/0==1/a?"$-0":a:1/0===a?"$Infinity":-1/0===a?"$-Infinity":"$NaN";if(void 0===a)return"$undefined";if("function"==typeof a){if(a.$$typeof===u)return es(e,r,n,a);if(a.$$typeof===c)return void 0!==(r=(t=e.writtenServerReferences).get(a))?e="$F"+r.toString(16):(r=a.$$bound,e=eo(e,r={id:a.$$id,bound:r?Promise.resolve(r):null}),t.set(a,e),e="$F"+e.toString(16)),e;if(/^on[A-Z]/.test(n))throw Error("Event handlers cannot be passed to Client Component props."+J(r,n)+"\nIf you need interactivity, consider converting part of this to a Client Component.");throw Error('Functions cannot be passed directly to Client Components unless you explicitly expose it by marking it with "use server". Or maybe you meant to call this function rather than return it.'+J(r,n))}if("symbol"==typeof a){var i,s,o=(t=e.writtenSymbols).get(a);if(void 0!==o)return ei(o);if(Symbol.for(o=a.description)!==a)throw Error("Only global symbols received from Symbol.for(...) can be passed to Client Components. The symbol Symbol.for("+a.description+") cannot be found among global symbols."+J(r,n));return e.pendingChunks++,r=e.nextChunkId++,i=e,s=r,i=X("$S"+o),s=s.toString(16)+":"+i+"\n",n=l.encode(s),e.completedImportChunks.push(n),t.set(a,r),ei(r)}if("bigint"==typeof a)return"$n"+a.toString(10);throw Error("Type "+typeof a+" is not supported in Client Component props."+J(r,n))}function ec(e,t){var r=ee;ee=null;try{var n=e.onError,a=_?b.run(void 0,n,t):n(t)}finally{ee=r}if(null!=a&&"string"!=typeof a)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof a+'" instead');return a||""}function ed(e,t,r){r={digest:r},t=t.toString(16)+":E"+X(r)+"\n",t=l.encode(t),e.completedErrorChunks.push(t)}var eh={};function ep(e,t){if(0===t.status)try{el=t.model;var r=eu(e,t,eh,"",t.model);el=r,t.keyPath=null,t.implicitSlot=!1;var n="object"==typeof r&&null!==r?X(r,t.toJSON):X(r),a=t.id.toString(16)+":"+n+"\n",i=l.encode(a);e.completedRegularChunks.push(i),e.abortableTasks.delete(t),t.status=1}catch(r){var s=r===P?j():r;if("object"==typeof s&&null!==s&&"function"==typeof s.then){var o=t.ping;s.then(o,o),t.thenableState=L()}else{e.abortableTasks.delete(t),t.status=4;var u=ec(e,s);ed(e,t.id,u)}}finally{}}function ef(e,t){i=new Uint8Array(2048),s=0;try{for(var r=e.completedImportChunks,n=0;n<r.length;n++)e.pendingChunks--,o(t,r[n]);r.splice(0,n);var a=e.completedHintChunks;for(n=0;n<a.length;n++)o(t,a[n]);a.splice(0,n);var l=e.completedRegularChunks;for(n=0;n<l.length;n++)e.pendingChunks--,o(t,l[n]);l.splice(0,n);var u=e.completedErrorChunks;for(n=0;n<u.length;n++)e.pendingChunks--,o(t,u[n]);u.splice(0,n)}finally{e.flushScheduled=!1,i&&0<s&&(t.enqueue(new Uint8Array(i.buffer,0,s)),i=null,s=0)}0===e.pendingChunks&&t.close()}var em=new Map;function eg(e){var t=globalThis.__next_require__(e);return"function"!=typeof t.then||"fulfilled"===t.status?null:(t.then(function(e){t.status="fulfilled",t.value=e},function(e){t.status="rejected",t.reason=e}),t)}function ey(){}function ev(e,t,r,n){this.status=e,this.value=t,this.reason=r,this._response=n}function e_(e,t){for(var r=0;r<e.length;r++)(0,e[r])(t)}ev.prototype=Object.create(Promise.prototype),ev.prototype.then=function(e,t){switch("resolved_model"===this.status&&ex(this),this.status){case"fulfilled":e(this.value);break;case"pending":case"blocked":e&&(null===this.value&&(this.value=[]),this.value.push(e)),t&&(null===this.reason&&(this.reason=[]),this.reason.push(t));break;default:t(this.reason)}};var eb=null,ew=null;function ex(e){var t=eb,r=ew;eb=e,ew=null;try{var n=JSON.parse(e.value,e._response._fromJSON);null!==ew&&0<ew.deps?(ew.value=n,e.status="blocked",e.value=null,e.reason=null):(e.status="fulfilled",e.value=n)}catch(t){e.status="rejected",e.reason=t}finally{eb=t,ew=r}}t.createClientModuleProxy=function(e){return new Proxy(e=d({},e,!1),v)}},796:(e,t,r)=>{"use strict";e.exports=r(651)},949:(e,t)=>{"use strict";var r=Object.assign,n={current:null};function a(){return new Map}if("function"==typeof fetch){var i=fetch,s=function(e,t){var r=n.current;if(!r||t&&t.signal&&t.signal!==r.getCacheSignal())return i(e,t);if("string"!=typeof e||t){var s="string"==typeof e||e instanceof URL?new Request(e,t):e;if("GET"!==s.method&&"HEAD"!==s.method||s.keepalive)return i(e,t);var o=JSON.stringify([s.method,Array.from(s.headers.entries()),s.mode,s.redirect,s.credentials,s.referrer,s.referrerPolicy,s.integrity]);s=s.url}else o='["GET",[],null,"follow",null,null,null,null]',s=e;var l=r.getCacheForType(a);if(void 0===(r=l.get(s)))e=i(e,t),l.set(s,[o,e]);else{for(s=0,l=r.length;s<l;s+=2){var u=r[s+1];if(r[s]===o)return(e=u).then(function(e){return e.clone()})}e=i(e,t),r.push(o,e)}return e.then(function(e){return e.clone()})};r(s,i);try{fetch=s}catch(e){try{globalThis.fetch=s}catch(e){console.warn("React was unable to patch the fetch() function in this environment. Suspensey APIs might not work correctly as a result.")}}}var o={current:null},l={ReactCurrentDispatcher:o,ReactCurrentOwner:{current:null}};function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=Array.isArray,d=Symbol.for("react.element"),h=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator,w=Object.prototype.hasOwnProperty,x=l.ReactCurrentOwner;function S(e){return"object"==typeof e&&null!==e&&e.$$typeof===d}var E=/\/+/g;function T(e,t){var r,n;return"object"==typeof e&&null!==e&&null!=e.key?(r=""+e.key,n={"=":"=0",":":"=2"},"$"+r.replace(/[=:]/g,function(e){return n[e]})):t.toString(36)}function k(){}function C(e,t,r){if(null==e)return e;var n=[],a=0;return!function e(t,r,n,a,i){var s,o,l,p=typeof t;("undefined"===p||"boolean"===p)&&(t=null);var f=!1;if(null===t)f=!0;else switch(p){case"string":case"number":f=!0;break;case"object":switch(t.$$typeof){case d:case h:f=!0;break;case _:return e((f=t._init)(t._payload),r,n,a,i)}}if(f)return i=i(t),f=""===a?"."+T(t,0):a,c(i)?(n="",null!=f&&(n=f.replace(E,"$&/")+"/"),e(i,r,n,"",function(e){return e})):null!=i&&(S(i)&&(s=i,o=n+(!i.key||t&&t.key===i.key?"":(""+i.key).replace(E,"$&/")+"/")+f,i={$$typeof:d,type:s.type,key:o,ref:s.ref,props:s.props,_owner:s._owner}),r.push(i)),1;f=0;var m=""===a?".":a+":";if(c(t))for(var g=0;g<t.length;g++)p=m+T(a=t[g],g),f+=e(a,r,n,p,i);else if("function"==typeof(g=null===(l=t)||"object"!=typeof l?null:"function"==typeof(l=b&&l[b]||l["@@iterator"])?l:null))for(t=g.call(t),g=0;!(a=t.next()).done;)p=m+T(a=a.value,g++),f+=e(a,r,n,p,i);else if("object"===p){if("function"==typeof t.then)return e(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(k,k):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(t),r,n,a,i);throw Error(u(31,"[object Object]"===(r=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":r))}return f}(e,n,"","",function(e){return t.call(r,e,a++)}),n}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}function R(){return new WeakMap}function O(){return{s:0,v:void 0,o:null,p:null}}var P={transition:null};function I(){}var N="function"==typeof reportError?reportError:function(e){console.error(e)};t.Children={map:C,forEach:function(e,t,r){C(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return C(e,function(){t++}),t},toArray:function(e){return C(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error(u(143));return e}},t.Fragment=p,t.Profiler=m,t.StrictMode=f,t.Suspense=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l,t.__SECRET_SERVER_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={ReactCurrentCache:n},t.cache=function(e){return function(){var t=n.current;if(!t)return e.apply(null,arguments);var r=t.getCacheForType(R);void 0===(t=r.get(e))&&(t=O(),r.set(e,t)),r=0;for(var a=arguments.length;r<a;r++){var i=arguments[r];if("function"==typeof i||"object"==typeof i&&null!==i){var s=t.o;null===s&&(t.o=s=new WeakMap),void 0===(t=s.get(i))&&(t=O(),s.set(i,t))}else null===(s=t.p)&&(t.p=s=new Map),void 0===(t=s.get(i))&&(t=O(),s.set(i,t))}if(1===t.s)return t.v;if(2===t.s)throw t.v;try{var o=e.apply(null,arguments);return(r=t).s=1,r.v=o}catch(e){throw(o=t).s=2,o.v=e,e}}},t.cloneElement=function(e,t,n){if(null==e)throw Error(u(267,e));var a=r({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=x.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&"key"!==c&&"ref"!==c&&"__self"!==c&&"__source"!==c&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];a.children=l}return{$$typeof:d,type:e.type,key:i,ref:s,props:a,_owner:o}},t.createElement=function(e,t,r){var n,a={},i=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,n)&&"key"!==n&&"ref"!==n&&"__self"!==n&&"__source"!==n&&(a[n]=t[n]);var o=arguments.length-2;if(1===o)a.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps)void 0===a[n]&&(a[n]=o[n]);return{$$typeof:d,type:e,key:i,ref:s,props:a,_owner:x.current}},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:g,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:_,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:v,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition,r=new Set;P.transition={_callbacks:r};var n=P.transition;try{var a=e();"object"==typeof a&&null!==a&&"function"==typeof a.then&&(r.forEach(function(e){return e(n,a)}),a.then(I,N))}catch(e){N(e)}finally{P.transition=t}},t.use=function(e){return o.current.use(e)},t.useCallback=function(e,t){return o.current.useCallback(e,t)},t.useDebugValue=function(){},t.useId=function(){return o.current.useId()},t.useMemo=function(e,t){return o.current.useMemo(e,t)},t.version="18.3.0-canary-178c267a4e-20241218"},908:(e,t,r)=>{"use strict";e.exports=r(949)},583:(e,t,r)=>{"use strict";var n;r.d(t,{ZK:()=>y});let{env:a,stdout:i}=(null==(n=globalThis)?void 0:n.process)??{},s=a&&!a.NO_COLOR&&(a.FORCE_COLOR||(null==i?void 0:i.isTTY)&&!a.CI&&"dumb"!==a.TERM),o=(e,t,r,n)=>{let a=e.substring(0,n)+r,i=e.substring(n+t.length),s=i.indexOf(t);return~s?a+o(i,t,r,s):a+i},l=(e,t,r=e)=>s?n=>{let a=""+n,i=a.indexOf(t,e.length);return~i?e+o(a,t,r,i)+t:e+a+t}:String,u=l("\x1b[1m","\x1b[22m","\x1b[22m\x1b[1m");l("\x1b[2m","\x1b[22m","\x1b[22m\x1b[2m"),l("\x1b[3m","\x1b[23m"),l("\x1b[4m","\x1b[24m"),l("\x1b[7m","\x1b[27m"),l("\x1b[8m","\x1b[28m"),l("\x1b[9m","\x1b[29m"),l("\x1b[30m","\x1b[39m");let c=l("\x1b[31m","\x1b[39m"),d=l("\x1b[32m","\x1b[39m"),h=l("\x1b[33m","\x1b[39m");l("\x1b[34m","\x1b[39m");let p=l("\x1b[35m","\x1b[39m");l("\x1b[38;2;173;127;168m","\x1b[39m"),l("\x1b[36m","\x1b[39m");let f=l("\x1b[37m","\x1b[39m");l("\x1b[90m","\x1b[39m"),l("\x1b[40m","\x1b[49m"),l("\x1b[41m","\x1b[49m"),l("\x1b[42m","\x1b[49m"),l("\x1b[43m","\x1b[49m"),l("\x1b[44m","\x1b[49m"),l("\x1b[45m","\x1b[49m"),l("\x1b[46m","\x1b[49m"),l("\x1b[47m","\x1b[49m");let m={wait:f(u("○")),error:c(u("⨯")),warn:h(u("⚠")),ready:"▲",info:f(u(" ")),event:d(u("✓")),trace:p(u("\xbb"))},g={log:"log",warn:"warn",error:"error"};function y(...e){!function(e,...t){(""===t[0]||void 0===t[0])&&1===t.length&&t.shift();let r=e in g?g[e]:"log",n=m[e];0===t.length?console[r](""):console[r](" "+n,...t)}("warn",...e)}},39:(e,t,r)=>{"use strict";r.d(t,{H4:()=>i,om:()=>n,vu:()=>a});let n="Next-Action",a=[["RSC"],["Next-Router-State-Tree"],["Next-Router-Prefetch"]],i="_rsc"},363:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DynamicServerError:()=>a,isDynamicServerError:()=>i});let n="DYNAMIC_SERVER_USAGE";class a extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=n}}function i(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===n}},439:(e,t,r)=>{"use strict";r.d(t,{G:()=>n});class n extends Error{constructor(...e){super(...e),this.code="NEXT_STATIC_GEN_BAILOUT"}}},927:(e,t,r)=>{"use strict";r.d(t,{Ar:()=>d,BR:()=>y,EX:()=>u,Et:()=>c,Ho:()=>m,JT:()=>l,Qq:()=>i,Sx:()=>s,X_:()=>p,cv:()=>f,dN:()=>n,hd:()=>o,of:()=>h,y3:()=>a,zt:()=>g});let n="nxtP",a="x-prerender-revalidate",i="x-prerender-revalidate-if-generated",s=".prefetch.rsc",o=".rsc",l=".json",u=".meta",c="x-next-cache-tags",d="x-next-cache-soft-tags",h="x-next-revalidated-tags",p="x-next-revalidate-tag-token",f=128,m=256,g="_N_T_",y=31536e3,v={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",api:"api",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",appMetadataRoute:"app-metadata-route",appRouteHandler:"app-route-handler"};({...v,GROUP:{serverOnly:[v.reactServerComponents,v.actionBrowser,v.appMetadataRoute,v.appRouteHandler,v.instrument],clientOnly:[v.serverSideRendering,v.appPagesBrowser],nonClientServerTarget:[v.middleware,v.api],app:[v.reactServerComponents,v.actionBrowser,v.appMetadataRoute,v.appRouteHandler,v.serverSideRendering,v.appPagesBrowser,v.shared,v.instrument]}})},828:(e,t,r)=>{"use strict";r.d(t,{FI:()=>o,TP:()=>l,fl:()=>u});var n=r(908),a=r(363),i=r(439);let s="function"==typeof n.unstable_postpone;function o(e){return{isDebugSkeleton:e,dynamicAccesses:[]}}function l(e,t){let r=new URL(e.urlPathname,"http://n").pathname;if(e.isUnstableCacheCallback)throw Error(`Route ${r} used "${t}" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "${t}" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`);if(e.dynamicShouldError)throw new i.G(`Route ${r} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${t}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(e.prerenderState)c(e.prerenderState,t,r);else if(e.revalidate=0,e.isStaticGeneration){let n=new a.DynamicServerError(`Route ${r} couldn't be rendered statically because it used \`${t}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw e.dynamicUsageDescription=t,e.dynamicUsageStack=n.stack,n}}function u(e,t){e.prerenderState&&c(e.prerenderState,t,e.urlPathname)}function c(e,t,r){!function(){if(!s)throw Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js")}();let a=`Route ${r} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`;e.dynamicAccesses.push({stack:e.isDebugSkeleton?Error().stack:void 0,expression:t}),n.unstable_postpone(a)}},988:(e,t,r)=>{"use strict";r.d(t,{B:()=>h});var n=r(39),a=r(665),i=r(776),s=r(101),o=r(927);r(991),r(816);let l="__prerender_bypass";Symbol("__next_preview_data"),Symbol(l);class u{constructor(e,t,r,n){var i;let s=e&&function(e,t){let r=a.h.from(e.headers);return{isOnDemandRevalidate:r.get(o.y3)===t.previewModeId,revalidateOnlyGenerated:r.has(o.Qq)}}(t,e).isOnDemandRevalidate,u=null==(i=r.get(l))?void 0:i.value;this.isEnabled=!!(!s&&u&&e&&u===e.previewModeId),this._previewModeId=null==e?void 0:e.previewModeId,this._mutableCookies=n}enable(){if(!this._previewModeId)throw Error("Invariant: previewProps missing previewModeId this should never happen");this._mutableCookies.set({name:l,value:this._previewModeId,httpOnly:!0,sameSite:"none",secure:!0,path:"/"})}disable(){this._mutableCookies.set({name:l,value:"",httpOnly:!0,sameSite:"none",secure:!0,path:"/",expires:new Date(0)})}}var c=r(573);function d(e,t){if("x-middleware-set-cookie"in e.headers&&"string"==typeof e.headers["x-middleware-set-cookie"]){let r=e.headers["x-middleware-set-cookie"],n=new Headers;for(let e of(0,c.l$)(r))n.append("set-cookie",e);for(let e of new s.nV(n).getAll())t.set(e)}}let h={wrap(e,{req:t,res:r,renderOpts:o},l){let c;function h(e){r&&r.setHeader("Set-Cookie",e)}o&&"previewProps"in o&&(c=o.previewProps);let p={},f={get headers(){return p.headers||(p.headers=function(e){let t=a.h.from(e);for(let e of n.vu)t.delete(e.toString().toLowerCase());return a.h.seal(t)}(t.headers)),p.headers},get cookies(){if(!p.cookies){let e=new s.qC(a.h.from(t.headers));d(t,e),p.cookies=i.Qb.seal(e)}return p.cookies},get mutableCookies(){if(!p.mutableCookies){let e=function(e,t){let r=new s.qC(a.h.from(e));return i.vr.wrap(r,t)}(t.headers,(null==o?void 0:o.onUpdateCookies)||(r?h:void 0));d(t,e),p.mutableCookies=e}return p.mutableCookies},get draftMode(){return p.draftMode||(p.draftMode=new u(c,t,this.cookies,this.mutableCookies)),p.draftMode},reactLoadableManifest:(null==o?void 0:o.reactLoadableManifest)||{},assetPrefix:(null==o?void 0:o.assetPrefix)||""};return e.run(f,l,f)}}},561:(e,t,r)=>{e.exports=r(403)},403:(e,t,r)=>{"use strict";r.d(t,{AppRouteRouteModule:()=>$});var n,a,i={};r.r(i),r.d(i,{AppRouterContext:()=>k,GlobalLayoutRouterContext:()=>A,LayoutRouterContext:()=>C,MissingSlotContext:()=>O,TemplateContext:()=>R});var s={};r.r(s),r.d(s,{appRouterContext:()=>i});class o{constructor({userland:e,definition:t}){this.userland=e,this.definition=t}}var l=r(988),u=r(828);let c={wrap(e,{urlPathname:t,renderOpts:r,requestEndedState:n},a){let i=!r.supportsDynamicResponse&&!r.isDraftMode&&!r.isServerAction,s=i&&r.experimental.ppr?(0,u.FI)(r.isDebugPPRSkeleton):null,o={isStaticGeneration:i,urlPathname:t,pagePath:r.originalPathname,incrementalCache:r.incrementalCache||globalThis.__incrementalCache,isRevalidate:r.isRevalidate,isPrerendering:r.nextExport,fetchCache:r.fetchCache,isOnDemandRevalidate:r.isOnDemandRevalidate,isDraftMode:r.isDraftMode,prerenderState:s,requestEndedState:n};return r.store=o,e.run(o,a,o)}};var d=r(776);function h(){return new Response(null,{status:400})}function p(){return new Response(null,{status:405})}let f=["GET","HEAD","OPTIONS","POST","PUT","DELETE","PATCH"];var m=r(631),g=r(991),y=r(816),v=r(983);let _=(0,r(228).P)();!function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(n||(n={}));function b(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,a,i]=e.digest.split(";",4),s=Number(i);return"NEXT_REDIRECT"===t&&("replace"===r||"push"===r)&&"string"==typeof a&&!isNaN(s)&&s in n}!function(e){e.push="push",e.replace="replace"}(a||(a={})),r(583);let w=["HEAD","OPTIONS"];var x=r(665),S=r(363),E=r(182);let T=r(796).createClientModuleProxy,k=T(String.raw`C:\Users\screa\OneDrive\Desktop\TransMENA Projecttttt\node_modules\next\dist\esm\shared\lib\app-router-context.shared-runtime.js#AppRouterContext`),C=T(String.raw`C:\Users\screa\OneDrive\Desktop\TransMENA Projecttttt\node_modules\next\dist\esm\shared\lib\app-router-context.shared-runtime.js#LayoutRouterContext`),A=T(String.raw`C:\Users\screa\OneDrive\Desktop\TransMENA Projecttttt\node_modules\next\dist\esm\shared\lib\app-router-context.shared-runtime.js#GlobalLayoutRouterContext`),R=T(String.raw`C:\Users\screa\OneDrive\Desktop\TransMENA Projecttttt\node_modules\next\dist\esm\shared\lib\app-router-context.shared-runtime.js#TemplateContext`),O=T(String.raw`C:\Users\screa\OneDrive\Desktop\TransMENA Projecttttt\node_modules\next\dist\esm\shared\lib\app-router-context.shared-runtime.js#MissingSlotContext`);var P=r(39),I=r(676),N=r(439),j=r(42);class $ extends o{static #e=this.sharedModules=s;constructor({userland:e,definition:t,resolvedPagePath:r,nextConfigOutput:n}){if(super({userland:e,definition:t}),this.requestAsyncStorage=v.O,this.staticGenerationAsyncStorage=E.A,this.serverHooks=S,this.actionAsyncStorage=_,this.resolvedPagePath=r,this.nextConfigOutput=n,this.methods=function(e){let t=f.reduce((t,r)=>({...t,[r]:e[r]??p}),{}),r=new Set(f.filter(t=>e[t]));for(let n of w.filter(e=>!r.has(e))){if("HEAD"===n){e.GET&&(t.HEAD=e.GET,r.add("HEAD"));continue}if("OPTIONS"===n){let e=["OPTIONS",...r];!r.has("HEAD")&&r.has("GET")&&e.push("HEAD");let n={Allow:e.sort().join(", ")};t.OPTIONS=()=>new Response(null,{status:204,headers:n}),r.add("OPTIONS");continue}throw Error(`Invariant: should handle all automatic implementable methods, got method: ${n}`)}return t}(e),this.hasNonStaticMethods=function(e){return!!e.POST||!!e.POST||!!e.DELETE||!!e.PATCH||!!e.OPTIONS}(e),this.dynamic=this.userland.dynamic,"export"===this.nextConfigOutput){if(this.dynamic&&"auto"!==this.dynamic){if("force-dynamic"===this.dynamic)throw Error(`export const dynamic = "force-dynamic" on page "${t.pathname}" cannot be used with "output: export". See more info here: https://nextjs.org/docs/advanced-features/static-html-export`)}else this.dynamic="error"}}resolve(e){return f.includes(e)?this.methods[e]:h}async execute(e,t){let r=this.resolve(e.method),n={req:e};n.renderOpts={previewProps:t.prerenderManifest.preview};let a={urlPathname:e.nextUrl.pathname,renderOpts:t.renderOpts};a.renderOpts.fetchCache=this.userland.fetchCache;let i=await this.actionAsyncStorage.run({isAppRoute:!0,isAction:function(e){let t,r;e.headers instanceof Headers?(t=e.headers.get(P.om.toLowerCase())??null,r=e.headers.get("content-type")):(t=e.headers[P.om.toLowerCase()]??null,r=e.headers["content-type"]??null);let n=!!("POST"===e.method&&"application/x-www-form-urlencoded"===r),a=!!("POST"===e.method&&(null==r?void 0:r.startsWith("multipart/form-data"))),i=!!(void 0!==t&&"string"==typeof t&&"POST"===e.method);return{actionId:t,isURLEncodedAction:n,isMultipartAction:a,isFetchAction:i,isServerAction:!!(i||n||a)}}(e).isServerAction},()=>l.B.wrap(this.requestAsyncStorage,n,()=>c.wrap(this.staticGenerationAsyncStorage,a,n=>{var a;let i=n.isStaticGeneration;if(this.hasNonStaticMethods){if(i){let e=new S.DynamicServerError("Route is configured with methods that cannot be statically generated.");throw n.dynamicUsageDescription=e.message,n.dynamicUsageStack=e.stack,e}n.revalidate=0}let s=e;switch(this.dynamic){case"force-dynamic":n.forceDynamic=!0;break;case"force-static":n.forceStatic=!0,s=new Proxy(e,H);break;case"error":n.dynamicShouldError=!0,i&&(s=new Proxy(e,V));break;default:s=function(e,t){let r={get(e,n,a){switch(n){case"search":case"searchParams":case"url":case"href":case"toJSON":case"toString":case"origin":return(0,u.TP)(t,`nextUrl.${n}`),j.g.get(e,n,a);case"clone":return e[L]||(e[L]=()=>new Proxy(e.clone(),r));default:return j.g.get(e,n,a)}}},n={get(e,a){switch(a){case"nextUrl":return e[M]||(e[M]=new Proxy(e.nextUrl,r));case"headers":case"cookies":case"url":case"body":case"blob":case"json":case"text":case"arrayBuffer":case"formData":return(0,u.TP)(t,`request.${a}`),j.g.get(e,a,e);case"clone":return e[D]||(e[D]=()=>new Proxy(e.clone(),n));default:return j.g.get(e,a,e)}}};return new Proxy(e,n)}(e,n)}n.revalidate??=this.userland.revalidate??!1;let o=function(e){let t="/app/";e.includes(t)||(t="\\app\\");let[,...r]=e.split(t);return(t[0]+r.join(t)).split(".").slice(0,-1).join(".")}(this.resolvedPagePath);return null==(a=(0,g.Yz)().getRootSpanAttributes())||a.set("next.route",o),(0,g.Yz)().trace(y.PB.runHandler,{spanName:`executing api route (app) ${o}`,attributes:{"next.route":o}},async()=>{var a,i;(0,m.XH)({serverHooks:this.serverHooks,staticGenerationAsyncStorage:this.staticGenerationAsyncStorage});let o=await r(s,{params:t.params?function(e){let t={};for(let[r,n]of Object.entries(e))void 0!==n&&(t[r]=n);return t}(t.params):void 0});if(!(o instanceof Response))throw Error(`No response is returned from route handler '${this.resolvedPagePath}'. Ensure you return a \`Response\` or a \`NextResponse\` in all branches of your handler.`);t.renderOpts.fetchMetrics=n.fetchMetrics;let l=Promise.all([null==(a=n.incrementalCache)?void 0:a.revalidateTag(n.revalidatedTags||[]),...Object.values(n.pendingRevalidates||{})]).finally(()=>{process.env.NEXT_PRIVATE_DEBUG_CACHE&&console.log("pending revalidates promise finished for:",e.url.toString())});t.renderOpts.builtInWaitUntil?t.renderOpts.builtInWaitUntil(l):t.renderOpts.waitUntil=l,(0,m.RQ)(n),t.renderOpts.fetchTags=null==(i=n.tags)?void 0:i.join(",");let u=this.requestAsyncStorage.getStore();if(u&&u.mutableCookies){let e=new Headers(o.headers);if((0,d._5)(e,u.mutableCookies))return new Response(o.body,{status:o.status,statusText:o.statusText,headers:e})}return o})})));if(!(i instanceof Response))return new Response(null,{status:500});if(i.headers.has("x-middleware-rewrite"))throw Error("NextResponse.rewrite() was used in a app route handler, this is not currently supported. Please remove the invocation to continue.");if("1"===i.headers.get("x-middleware-next"))throw Error("NextResponse.next() was used in a app route handler, this is not supported. See here for more info: https://nextjs.org/docs/messages/next-response-next-in-app-route-handler");return i}async handle(e,t){try{return await this.execute(e,t)}catch(t){let e=function(e){if(b(e)){let t=b(e)?e.digest.split(";",3)[2]:null;if(!t)throw Error("Invariant: Unexpected redirect url format");let r=function(e){if(!b(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(e);return function(e,t,r){let n=new Headers({location:e});return(0,d._5)(n,t),new Response(null,{status:r,headers:n})}(t,e.mutableCookies,r)}return"object"==typeof e&&null!==e&&"digest"in e&&"NEXT_NOT_FOUND"===e.digest&&new Response(null,{status:404})}(t);if(!e)throw t;return e}}}let M=Symbol("nextUrl"),D=Symbol("clone"),L=Symbol("clone"),U=Symbol("searchParams"),F=Symbol("href"),Z=Symbol("toString"),q=Symbol("headers"),B=Symbol("cookies"),H={get(e,t,r){switch(t){case"headers":return e[q]||(e[q]=x.h.seal(new Headers({})));case"cookies":return e[B]||(e[B]=d.Qb.seal(new I.RequestCookies(new Headers({}))));case"nextUrl":return e[M]||(e[M]=new Proxy(e.nextUrl,z));case"url":return r.nextUrl.href;case"geo":case"ip":return;case"clone":return e[D]||(e[D]=()=>new Proxy(e.clone(),H));default:return j.g.get(e,t,r)}}},z={get(e,t,r){switch(t){case"search":return"";case"searchParams":return e[U]||(e[U]=new URLSearchParams);case"href":return e[F]||(e[F]=function(e){let t=new URL(e);return t.host="localhost:3000",t.search="",t.protocol="http",t}(e.href).href);case"toJSON":case"toString":return e[Z]||(e[Z]=()=>r.href);case"url":return;case"clone":return e[L]||(e[L]=()=>new Proxy(e.clone(),z));default:return j.g.get(e,t,r)}}},V={get(e,t,r){switch(t){case"nextUrl":return e[M]||(e[M]=new Proxy(e.nextUrl,W));case"headers":case"cookies":case"url":case"body":case"blob":case"json":case"text":case"arrayBuffer":case"formData":throw new N.G(`Route ${e.nextUrl.pathname} with \`dynamic = "error"\` couldn't be rendered statically because it used \`request.${t}\`.`);case"clone":return e[D]||(e[D]=()=>new Proxy(e.clone(),V));default:return j.g.get(e,t,r)}}},W={get(e,t,r){switch(t){case"search":case"searchParams":case"url":case"href":case"toJSON":case"toString":case"origin":throw new N.G(`Route ${e.pathname} with \`dynamic = "error"\` couldn't be rendered statically because it used \`nextUrl.${t}\`.`);case"clone":return e[L]||(e[L]=()=>new Proxy(e.clone(),W));default:return j.g.get(e,t,r)}}}},631:(e,t,r)=>{"use strict";r.d(t,{RQ:()=>h,XH:()=>f});var n=r(816),a=r(991),i=r(927),s=r(583),o=r(828),l=r(908);function u(e){if(!e.body)return[e,e];let[t,r]=e.body.tee(),n=new Response(t,{status:e.status,statusText:e.statusText,headers:e.headers});Object.defineProperty(n,"url",{value:e.url});let a=new Response(r,{status:e.status,statusText:e.statusText,headers:e.headers});return Object.defineProperty(a,"url",{value:e.url}),[n,a]}var c=r(195).Buffer;let d=e=>{let t=["/layout"];if(e.startsWith("/")){let r=e.split("/");for(let e=1;e<r.length+1;e++){let n=r.slice(0,e).join("/");n&&(n.endsWith("/page")||n.endsWith("/route")||(n=`${n}${n.endsWith("/")?"":"/"}layout`),t.push(n))}}return t};function h(e){var t,r;let n=[],{pagePath:a,urlPathname:s}=e;if(Array.isArray(e.tags)||(e.tags=[]),a)for(let r of d(a))r=`${i.zt}${r}`,(null==(t=e.tags)?void 0:t.includes(r))||e.tags.push(r),n.push(r);if(s){let t=new URL(s,"http://n").pathname,a=`${i.zt}${t}`;(null==(r=e.tags)?void 0:r.includes(a))||e.tags.push(a),n.push(a)}return n}function p(e,t){var r;e&&(null==(r=e.requestEndedState)||r.ended)}function f(e){var t;if("__nextPatched"in(t=globalThis.fetch)&&!0===t.__nextPatched)return;let r=function(e){let t=l.cache(e=>[]);return function(r,n){let a,i;if(n&&n.signal)return e(r,n);if("string"!=typeof r||n){let t="string"==typeof r||r instanceof URL?new Request(r,n):r;if("GET"!==t.method&&"HEAD"!==t.method||t.keepalive)return e(r,n);i=JSON.stringify([t.method,Array.from(t.headers.entries()),t.mode,t.redirect,t.credentials,t.referrer,t.referrerPolicy,t.integrity]),a=t.url}else i='["GET",[],null,"follow",null,null,null,null]',a=r;let s=t(a);for(let e=0,t=s.length;e<t;e+=1){let[t,r]=s[e];if(t===i)return r.then(()=>{let t=s[e][2];if(!t)throw Error("No cached response");let[r,n]=u(t);return s[e][2]=n,r})}let o=new AbortController,l=e(r,{...n,signal:o.signal}),c=[i,l,null];return s.push(c),l.then(e=>{let[t,r]=u(e);return c[2]=r,t})}}(globalThis.fetch);globalThis.fetch=function(e,{serverHooks:{DynamicServerError:t},staticGenerationAsyncStorage:r}){let l=async(l,d)=>{var f,m;let g;try{(g=new URL(l instanceof Request?l.url:l)).username="",g.password=""}catch{g=void 0}let y=(null==g?void 0:g.href)??"",v=Date.now(),_=(null==d?void 0:null==(f=d.method)?void 0:f.toUpperCase())||"GET",b=(null==d?void 0:null==(m=d.next)?void 0:m.internal)===!0,w="1"===process.env.NEXT_OTEL_FETCH_DISABLED;return(0,a.Yz)().trace(b?n.Xy.internalFetch:n.k0.fetch,{hideSpan:w,kind:a.MU.CLIENT,spanName:["fetch",_,y].filter(Boolean).join(" "),attributes:{"http.url":y,"http.method":_,"net.peer.name":null==g?void 0:g.hostname,"net.peer.port":(null==g?void 0:g.port)||void 0}},async()=>{var n;let a,f,m;if(b)return e(l,d);let g=r.getStore();if(!g||g.isDraftMode)return e(l,d);let _=l&&"object"==typeof l&&"string"==typeof l.method,w=e=>(null==d?void 0:d[e])||(_?l[e]:null),x=e=>{var t,r,n;return void 0!==(null==d?void 0:null==(t=d.next)?void 0:t[e])?null==d?void 0:null==(r=d.next)?void 0:r[e]:_?null==(n=l.next)?void 0:n[e]:void 0},S=x("revalidate"),E=function(e,t){let r=[],n=[];for(let a=0;a<e.length;a++){let s=e[a];if("string"!=typeof s?n.push({tag:s,reason:"invalid type, must be a string"}):s.length>i.Ho?n.push({tag:s,reason:`exceeded max length of ${i.Ho}`}):r.push(s),r.length>i.cv){console.warn(`Warning: exceeded max tag count for ${t}, dropped tags:`,e.slice(a).join(", "));break}}if(n.length>0)for(let{tag:e,reason:r}of(console.warn(`Warning: invalid tags passed to ${t}: `),n))console.log(`tag: "${e}" ${r}`);return r}(x("tags")||[],`fetch ${l.toString()}`);if(Array.isArray(E))for(let e of(g.tags||(g.tags=[]),E))g.tags.includes(e)||g.tags.push(e);let T=h(g),k=g.fetchCache,C=!!g.isUnstableNoStore,A=w("cache"),R="";"string"==typeof A&&void 0!==S&&(_&&"default"===A||s.ZK(`fetch for ${y} on ${g.urlPathname} specified "cache: ${A}" and "revalidate: ${S}", only one should be specified.`),A=void 0),"force-cache"===A?S=!1:("no-cache"===A||"no-store"===A||"force-no-store"===k||"only-no-store"===k)&&(S=0),("no-cache"===A||"no-store"===A)&&(R=`cache: ${A}`),m=function(e,t){try{let r;if(!1===e)r=e;else if("number"==typeof e&&!isNaN(e)&&e>-1)r=e;else if(void 0!==e)throw Error(`Invalid revalidate value "${e}" on "${t}", must be a non-negative number or "false"`);return r}catch(e){if(e instanceof Error&&e.message.includes("Invalid revalidate"))throw e;return}}(S,g.urlPathname);let O=w("headers"),P="function"==typeof(null==O?void 0:O.get)?O:new Headers(O||{}),I=P.get("authorization")||P.get("cookie"),N=!["get","head"].includes((null==(n=w("method"))?void 0:n.toLowerCase())||"get"),j=(I||N)&&0===g.revalidate;switch(k){case"force-no-store":R="fetchCache = force-no-store";break;case"only-no-store":if("force-cache"===A||void 0!==m&&(!1===m||m>0))throw Error(`cache: 'force-cache' used on fetch for ${y} with 'export const fetchCache = 'only-no-store'`);R="fetchCache = only-no-store";break;case"only-cache":if("no-store"===A)throw Error(`cache: 'no-store' used on fetch for ${y} with 'export const fetchCache = 'only-cache'`);break;case"force-cache":(void 0===S||0===S)&&(R="fetchCache = force-cache",m=!1)}void 0===m?"default-cache"===k?(m=!1,R="fetchCache = default-cache"):j?(m=0,R="auto no cache"):"default-no-store"===k?(m=0,R="fetchCache = default-no-store"):C?(m=0,R="noStore call"):(R="auto cache",m="boolean"!=typeof g.revalidate&&void 0!==g.revalidate&&g.revalidate):R||(R=`revalidate: ${m}`),g.forceStatic&&0===m||j||void 0!==g.revalidate&&("number"!=typeof m||!1!==g.revalidate&&("number"!=typeof g.revalidate||!(m<g.revalidate)))||(0===m&&(0,o.fl)(g,"revalidate: 0"),g.revalidate=m);let $="number"==typeof m&&m>0||!1===m;if(g.incrementalCache&&$)try{a=await g.incrementalCache.fetchCacheKey(y,_?l:d)}catch(e){console.error("Failed to generate cache key for",l)}let M=g.nextFetchId??1;g.nextFetchId=M+1;let D="number"!=typeof m?i.BR:m,L=async(t,r)=>{let n=["cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","window","duplex",...t?[]:["signal"]];if(_){let e=l,t={body:e._ogBody||e.body};for(let r of n)t[r]=e[r];l=new Request(e.url,t)}else if(d){let{_ogBody:e,body:r,signal:n,...a}=d;d={...a,body:e||r,signal:t?void 0:n}}let i={...d,next:{...null==d?void 0:d.next,fetchType:"origin",fetchIdx:M}};return e(l,i).then(async e=>{if(t||p(g,{start:v,url:y,cacheReason:r||R,cacheStatus:0===m||r?"skip":"miss",status:e.status,method:i.method||"GET"}),200===e.status&&g.incrementalCache&&a&&$){let t=c.from(await e.arrayBuffer());try{await g.incrementalCache.set(a,{kind:"FETCH",data:{headers:Object.fromEntries(e.headers.entries()),body:t.toString("base64"),status:e.status,url:e.url},revalidate:D},{fetchCache:!0,revalidate:m,fetchUrl:y,fetchIdx:M,tags:E})}catch(e){console.warn("Failed to set fetch cache",l,e)}let r=new Response(t,{headers:new Headers(e.headers),status:e.status});return Object.defineProperty(r,"url",{value:e.url}),r}return e})},U=()=>Promise.resolve(),F=!1;if(a&&g.incrementalCache){U=await g.incrementalCache.lock(a);let e=g.isOnDemandRevalidate?null:await g.incrementalCache.get(a,{kindHint:"fetch",revalidate:m,fetchUrl:y,fetchIdx:M,tags:E,softTags:T});if(e?await U():f="cache-control: no-cache (hard refresh)",(null==e?void 0:e.value)&&"FETCH"===e.value.kind){if(g.isRevalidate&&e.isStale)F=!0;else{if(e.isStale&&(g.pendingRevalidates??={},!g.pendingRevalidates[a])){let e=L(!0).then(async e=>({body:await e.arrayBuffer(),headers:e.headers,status:e.status,statusText:e.statusText})).finally(()=>{g.pendingRevalidates??={},delete g.pendingRevalidates[a||""]});e.catch(console.error),g.pendingRevalidates[a]=e}let t=e.value.data;p(g,{start:v,url:y,cacheReason:R,cacheStatus:"hit",status:t.status||200,method:(null==d?void 0:d.method)||"GET"});let r=new Response(c.from(t.body,"base64"),{headers:t.headers,status:t.status});return Object.defineProperty(r,"url",{value:e.value.data.url}),r}}}if(g.isStaticGeneration&&d&&"object"==typeof d){let{cache:e}=d;if(delete d.cache,!g.forceStatic&&"no-store"===e){let e=`no-store fetch ${l}${g.urlPathname?` ${g.urlPathname}`:""}`;(0,o.fl)(g,e),g.revalidate=0;let r=new t(e);throw g.dynamicUsageErr=r,g.dynamicUsageDescription=e,r}let r="next"in d,{next:n={}}=d;if("number"==typeof n.revalidate&&(void 0===g.revalidate||"number"==typeof g.revalidate&&n.revalidate<g.revalidate)){if(!g.forceDynamic&&!g.forceStatic&&0===n.revalidate){let e=`revalidate: 0 fetch ${l}${g.urlPathname?` ${g.urlPathname}`:""}`;(0,o.fl)(g,e);let r=new t(e);throw g.dynamicUsageErr=r,g.dynamicUsageDescription=e,r}g.forceStatic&&0===n.revalidate||(g.revalidate=n.revalidate)}r&&delete d.next}if(!a||!F)return L(!1,f).finally(U);{g.pendingRevalidates??={};let e=g.pendingRevalidates[a];if(e){let t=await e;return new Response(t.body,{headers:t.headers,status:t.status,statusText:t.statusText})}let t=L(!0,f).then(u);return(e=t.then(async e=>{let t=e[0];return{body:await t.arrayBuffer(),headers:t.headers,status:t.status,statusText:t.statusText}}).finally(()=>{if(a){var e;(null==(e=g.pendingRevalidates)?void 0:e[a])&&delete g.pendingRevalidates[a]}})).catch(()=>{}),g.pendingRevalidates[a]=e,t.then(e=>e[1])}})};return l.__nextPatched=!0,l.__nextGetStaticStore=()=>r,l._nextOriginalFetch=e,l}(r,e)}},816:(e,t,r)=>{"use strict";var n,a,i,s,o,l,u,c,d,h,p,f;r.d(t,{PB:()=>h,Xy:()=>s,dI:()=>f,hT:()=>g,k0:()=>u,lw:()=>m}),function(e){e.handleRequest="BaseServer.handleRequest",e.run="BaseServer.run",e.pipe="BaseServer.pipe",e.getStaticHTML="BaseServer.getStaticHTML",e.render="BaseServer.render",e.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",e.renderToResponse="BaseServer.renderToResponse",e.renderToHTML="BaseServer.renderToHTML",e.renderError="BaseServer.renderError",e.renderErrorToResponse="BaseServer.renderErrorToResponse",e.renderErrorToHTML="BaseServer.renderErrorToHTML",e.render404="BaseServer.render404"}(n||(n={})),function(e){e.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",e.loadComponents="LoadComponents.loadComponents"}(a||(a={})),function(e){e.getRequestHandler="NextServer.getRequestHandler",e.getServer="NextServer.getServer",e.getServerRequestHandler="NextServer.getServerRequestHandler",e.createServer="createServer.createServer"}(i||(i={})),function(e){e.compression="NextNodeServer.compression",e.getBuildId="NextNodeServer.getBuildId",e.createComponentTree="NextNodeServer.createComponentTree",e.clientComponentLoading="NextNodeServer.clientComponentLoading",e.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",e.generateStaticRoutes="NextNodeServer.generateStaticRoutes",e.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",e.generatePublicRoutes="NextNodeServer.generatePublicRoutes",e.generateImageRoutes="NextNodeServer.generateImageRoutes.route",e.sendRenderResult="NextNodeServer.sendRenderResult",e.proxyRequest="NextNodeServer.proxyRequest",e.runApi="NextNodeServer.runApi",e.render="NextNodeServer.render",e.renderHTML="NextNodeServer.renderHTML",e.imageOptimizer="NextNodeServer.imageOptimizer",e.getPagePath="NextNodeServer.getPagePath",e.getRoutesManifest="NextNodeServer.getRoutesManifest",e.findPageComponents="NextNodeServer.findPageComponents",e.getFontManifest="NextNodeServer.getFontManifest",e.getServerComponentManifest="NextNodeServer.getServerComponentManifest",e.getRequestHandler="NextNodeServer.getRequestHandler",e.renderToHTML="NextNodeServer.renderToHTML",e.renderError="NextNodeServer.renderError",e.renderErrorToHTML="NextNodeServer.renderErrorToHTML",e.render404="NextNodeServer.render404",e.startResponse="NextNodeServer.startResponse",e.route="route",e.onProxyReq="onProxyReq",e.apiResolver="apiResolver",e.internalFetch="internalFetch"}(s||(s={})),(o||(o={})).startServer="startServer.startServer",function(e){e.getServerSideProps="Render.getServerSideProps",e.getStaticProps="Render.getStaticProps",e.renderToString="Render.renderToString",e.renderDocument="Render.renderDocument",e.createBodyResult="Render.createBodyResult"}(l||(l={})),function(e){e.renderToString="AppRender.renderToString",e.renderToReadableStream="AppRender.renderToReadableStream",e.getBodyResult="AppRender.getBodyResult",e.fetch="AppRender.fetch"}(u||(u={})),(c||(c={})).executeRoute="Router.executeRoute",(d||(d={})).runHandler="Node.runHandler",(h||(h={})).runHandler="AppRouteRouteHandlers.runHandler",function(e){e.generateMetadata="ResolveMetadata.generateMetadata",e.generateViewport="ResolveMetadata.generateViewport"}(p||(p={})),(f||(f={})).execute="Middleware.execute";let m=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"],g=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"]},991:(e,t,r)=>{"use strict";let n;r.d(t,{MU:()=>u,Yz:()=>v});var a=r(816);let{context:i,propagation:s,trace:o,SpanStatusCode:l,SpanKind:u,ROOT_CONTEXT:c}=n=r(723),d=e=>null!==e&&"object"==typeof e&&"function"==typeof e.then,h=(e,t)=>{(null==t?void 0:t.bubble)===!0?e.setAttribute("next.bubble",!0):(t&&e.recordException(t),e.setStatus({code:l.ERROR,message:null==t?void 0:t.message})),e.end()},p=new Map,f=n.createContextKey("next.rootSpanId"),m=0,g=()=>m++;class y{getTracerInstance(){return o.getTracer("next.js","0.0.1")}getContext(){return i}getActiveScopeSpan(){return o.getSpan(null==i?void 0:i.active())}withPropagatedContext(e,t,r){let n=i.active();if(o.getSpanContext(n))return t();let a=s.extract(n,e,r);return i.with(a,t)}trace(...e){var t;let[r,n,s]=e,{fn:l,options:u}="function"==typeof n?{fn:n,options:{}}:{fn:s,options:{...n}},m=u.spanName??r;if(!a.lw.includes(r)&&"1"!==process.env.NEXT_OTEL_VERBOSE||u.hideSpan)return l();let y=this.getSpanContext((null==u?void 0:u.parentSpan)??this.getActiveScopeSpan()),v=!1;y?(null==(t=o.getSpanContext(y))?void 0:t.isRemote)&&(v=!0):(y=(null==i?void 0:i.active())??c,v=!0);let _=g();return u.attributes={"next.span_name":m,"next.span_type":r,...u.attributes},i.with(y.setValue(f,_),()=>this.getTracerInstance().startActiveSpan(m,u,e=>{let t="performance"in globalThis?globalThis.performance.now():void 0,n=()=>{p.delete(_),t&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&a.hT.includes(r||"")&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(r.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:t,end:performance.now()})};v&&p.set(_,new Map(Object.entries(u.attributes??{})));try{if(l.length>1)return l(e,t=>h(e,t));let t=l(e);if(d(t))return t.then(t=>(e.end(),t)).catch(t=>{throw h(e,t),t}).finally(n);return e.end(),n(),t}catch(t){throw h(e,t),n(),t}}))}wrap(...e){let t=this,[r,n,s]=3===e.length?e:[e[0],{},e[1]];return a.lw.includes(r)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=n;"function"==typeof e&&"function"==typeof s&&(e=e.apply(this,arguments));let a=arguments.length-1,o=arguments[a];if("function"!=typeof o)return t.trace(r,e,()=>s.apply(this,arguments));{let n=t.getContext().bind(i.active(),o);return t.trace(r,e,(e,t)=>(arguments[a]=function(e){return null==t||t(e),n.apply(this,arguments)},s.apply(this,arguments)))}}:s}startSpan(...e){let[t,r]=e,n=this.getSpanContext((null==r?void 0:r.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,r,n)}getSpanContext(e){return e?o.setSpan(i.active(),e):void 0}getRootSpanAttributes(){let e=i.active().getValue(f);return p.get(e)}}let v=(()=>{let e=new y;return()=>e})()},665:(e,t,r)=>{"use strict";r.d(t,{h:()=>i});var n=r(42);class a extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new a}}class i extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,a){if("symbol"==typeof r)return n.g.get(t,r,a);let i=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===i);if(void 0!==s)return n.g.get(t,s,a)},set(t,r,a,i){if("symbol"==typeof r)return n.g.set(t,r,a,i);let s=r.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===s);return n.g.set(t,o??r,a,i)},has(t,r){if("symbol"==typeof r)return n.g.has(t,r);let a=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===a);return void 0!==i&&n.g.has(t,i)},deleteProperty(t,r){if("symbol"==typeof r)return n.g.deleteProperty(t,r);let a=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===a);return void 0===i||n.g.deleteProperty(t,i)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return a.callable;default:return n.g.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new i(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,n]of this.entries())e.call(t,n,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},42:(e,t,r)=>{"use strict";r.d(t,{g:()=>n});class n{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},776:(e,t,r)=>{"use strict";r.d(t,{Qb:()=>o,_5:()=>u,vr:()=>c});var n=r(101),a=r(42),i=r(182);class s extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#cookiessetname-value-options")}static callable(){throw new s}}class o{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return s.callable;default:return a.g.get(e,t,r)}}})}}let l=Symbol.for("next.mutated.cookies");function u(e,t){let r=function(e){let t=e[l];return t&&Array.isArray(t)&&0!==t.length?t:[]}(t);if(0===r.length)return!1;let a=new n.nV(e),i=a.getAll();for(let e of r)a.set(e);for(let e of i)a.set(e);return!0}class c{static wrap(e,t){let r=new n.nV(new Headers);for(let t of e.getAll())r.set(t);let s=[],o=new Set,u=()=>{let e=i.A.getStore();if(e&&(e.pathWasRevalidated=!0),s=r.getAll().filter(e=>o.has(e.name)),t){let e=[];for(let t of s){let r=new n.nV(new Headers);r.set(t),e.push(r.toString())}t(e)}};return new Proxy(r,{get(e,t,r){switch(t){case l:return s;case"delete":return function(...t){o.add("string"==typeof t[0]?t[0]:t[0].name);try{e.delete(...t)}finally{u()}};case"set":return function(...t){o.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t)}finally{u()}};default:return a.g.get(e,t,r)}}})}}},101:(e,t,r)=>{"use strict";r.d(t,{Q7:()=>n.stringifyCookie,nV:()=>n.ResponseCookies,qC:()=>n.RequestCookies});var n=r(676)},573:(e,t,r)=>{"use strict";function n(e){let t=new Headers;for(let[r,n]of Object.entries(e))for(let e of Array.isArray(n)?n:[n])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function a(e){var t,r,n,a,i,s=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,i=!1;l();)if(","===(r=e.charAt(o))){for(n=o,o+=1,l(),a=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(i=!0,o=a,s.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!i||o>=e.length)&&s.push(e.substring(t,e.length))}return s}function i(e){let t={},r=[];if(e)for(let[n,i]of e.entries())"set-cookie"===n.toLowerCase()?(r.push(...a(i)),t[n]=1===r.length?r[0]:r):t[n]=i;return t}function s(e){try{return String(new URL(String(e)))}catch(t){throw Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t})}}r.d(t,{EK:()=>n,l$:()=>a,lb:()=>i,r4:()=>s})},863:(e,t,r)=>{"use strict";let n;n=r(914),e.exports=n},37:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getTestReqInfo:function(){return s},withRequest:function(){return i}});let n=new(r(67)).AsyncLocalStorage;function a(e,t){let r=t.header(e,"next-test-proxy-port");if(r)return{url:t.url(e),proxyPort:Number(r),testData:t.header(e,"next-test-data")||""}}function i(e,t,r){let i=a(e,t);return i?n.run(i,r):r()}function s(e,t){return n.getStore()||(e&&t?a(e,t):void 0)}},818:(e,t,r)=>{"use strict";var n=r(195).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{handleFetch:function(){return o},interceptFetch:function(){return l},reader:function(){return i}});let a=r(37),i={url:e=>e.url,header:(e,t)=>e.headers.get(t)};async function s(e,t){let{url:r,method:a,headers:i,body:s,cache:o,credentials:l,integrity:u,mode:c,redirect:d,referrer:h,referrerPolicy:p}=t;return{testData:e,api:"fetch",request:{url:r,method:a,headers:[...Array.from(i),["next-test-stack",function(){let e=(Error().stack??"").split("\n");for(let t=1;t<e.length;t++)if(e[t].length>0){e=e.slice(t);break}return(e=(e=(e=e.filter(e=>!e.includes("/next/dist/"))).slice(0,5)).map(e=>e.replace("webpack-internal:///(rsc)/","").trim())).join("    ")}()]],body:s?n.from(await t.arrayBuffer()).toString("base64"):null,cache:o,credentials:l,integrity:u,mode:c,redirect:d,referrer:h,referrerPolicy:p}}}async function o(e,t){let r=(0,a.getTestReqInfo)(t,i);if(!r)return e(t);let{testData:o,proxyPort:l}=r,u=await s(o,t),c=await e(`http://localhost:${l}`,{method:"POST",body:JSON.stringify(u),next:{internal:!0}});if(!c.ok)throw Error(`Proxy request failed: ${c.status}`);let d=await c.json(),{api:h}=d;switch(h){case"continue":return e(t);case"abort":case"unhandled":throw Error(`Proxy request aborted [${t.method} ${t.url}]`)}return function(e){let{status:t,headers:r,body:a}=e.response;return new Response(a?n.from(a,"base64"):null,{status:t,headers:new Headers(r)})}(d)}function l(e){return r.g.fetch=function(t,r){var n;return(null==r?void 0:null==(n=r.next)?void 0:n.internal)?e(t,r):o(e,new Request(t,r))},()=>{r.g.fetch=e}}},730:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{interceptTestApis:function(){return i},wrapRequestHandler:function(){return s}});let n=r(37),a=r(818);function i(){return(0,a.interceptFetch)(r.g.fetch)}function s(e){return(t,r)=>(0,n.withRequest)(t,a.reader,()=>e(t,r))}},87:(e,t,r)=>{"use strict";var n=r(195).Buffer;let a=void 0!==n,i=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,s=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function o(e,t,r){null==r&&null!==t&&"object"==typeof t&&(r=t,t=void 0),a&&n.isBuffer(e)&&(e=e.toString()),e&&65279===e.charCodeAt(0)&&(e=e.slice(1));let o=JSON.parse(e,t);if(null===o||"object"!=typeof o)return o;let u=r&&r.protoAction||"error",c=r&&r.constructorAction||"error";if("ignore"===u&&"ignore"===c)return o;if("ignore"!==u&&"ignore"!==c){if(!1===i.test(e)&&!1===s.test(e))return o}else if("ignore"!==u&&"ignore"===c){if(!1===i.test(e))return o}else if(!1===s.test(e))return o;return l(o,{protoAction:u,constructorAction:c,safe:r&&r.safe})}function l(e,{protoAction:t="error",constructorAction:r="error",safe:n}={}){let a=[e];for(;a.length;){let e=a;for(let i of(a=[],e)){if("ignore"!==t&&Object.prototype.hasOwnProperty.call(i,"__proto__")){if(!0===n)return null;if("error"===t)throw SyntaxError("Object contains forbidden prototype property");delete i.__proto__}if("ignore"!==r&&Object.prototype.hasOwnProperty.call(i,"constructor")&&Object.prototype.hasOwnProperty.call(i.constructor,"prototype")){if(!0===n)return null;if("error"===r)throw SyntaxError("Object contains forbidden prototype property");delete i.constructor}for(let e in i){let t=i[e];t&&"object"==typeof t&&a.push(t)}}}return e}function u(e,t,r){let n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return o(e,t,r)}finally{Error.stackTraceLimit=n}}e.exports=u,e.exports.default=u,e.exports.parse=u,e.exports.safeParse=function(e,t){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return o(e,t,{safe:!0})}catch(e){return null}finally{Error.stackTraceLimit=r}},e.exports.scan=l},228:(e,t,r)=>{"use strict";r.d(t,{P:()=>s});let n=Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available");class a{disable(){throw n}getStore(){}run(){throw n}exit(){throw n}enterWith(){throw n}}let i=globalThis.AsyncLocalStorage;function s(){return i?new i:new a}},983:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});let n=(0,r(228).P)()},182:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(228).P)()}},e=>{var t=e(e.s=351);(_ENTRIES="undefined"==typeof _ENTRIES?{}:_ENTRIES)["middleware_app/api/chat/route"]=t}]);
//# sourceMappingURL=route.js.map